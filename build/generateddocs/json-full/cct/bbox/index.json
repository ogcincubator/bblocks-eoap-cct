

{
  "itemIdentifier": "eoap.cct.bbox",
  "$schema": "https://raw.githubusercontent.com/opengeospatial/bblocks-postprocess/master/ogc/bblocks/metadata-schema.yaml",
  "name": "eaop-cct:OGC-BoundingBox",
  "abstract": "CWL custom type for OGC bounding box with coordinate reference system",
  "description": "This building block defines a CWL custom type for OGC bounding boxes. The BoundingBox type represents spatial extents using coordinate arrays and optional coordinate reference system (CRS) specifications, conforming to OGC API standards.\n\n## Relationship to OGC API - Processes\n\nWhen used in process descriptions, bounding boxes map to the bbox schema (inline):\n\n```json\n{\n  \"id\": \"area_of_interest\",\n  \"title\": \"Area of Interest\",\n  \"schema\": {\n    \"type\": \"object\",\n    \"required\": [\"bbox\"],\n    \"properties\": {\n      \"bbox\": {\n        \"type\": \"array\",\n        \"items\": {\"type\": \"number\"},\n        \"minItems\": 4,\n        \"maxItems\": 6\n      },\n      \"crs\": {\n        \"type\": \"string\",\n        \"enum\": [\"CRS84\", \"CRS84h\"],\n        \"default\": \"CRS84\"\n      }\n    }\n  }\n}\n```\n\nAnother example using Table 13 from OGC API - Processes - Part 1: Core:\n\n```json\n{\n  \"id\": \"area_of_interest\",\n  \"title\": \"Area of Interest\",\n  \"description\": \"Spatial extent for processing operations\",\n  \"schema\": {\n    \"allOf\": [\n      {\n        \"format\": \"ogc-bbox\"\n      },\n      {\n        \"$ref\": \"https://schemas.opengis.net/ogcapi/processes/part1/1.0/openapi/schemas/bbox.yaml\"\n      }\n    ]\n  },\n  \"example\": {\n    \"bbox\": [-5.0, 51.0, -4.0, 52.0],\n    \"crs\": \"CRS84\"\n  }\n}\n```\n\nThis approach leverages the standard OGC API - Processes bbox schema while adding the `ogc-bbox` format hint for enhanced validation and tooling support.\n\n\n## Usage in CWL Workflows\n\nTo use the OGC BoundingBox custom type in a CWL workflow:\n\n```yaml\ncwlVersion: v1.0\nclass: CommandLineTool\n\nrequirements:\n  SchemaDefRequirement:\n    types:\n      - $import: https://eoap.github.io/schemas/cwl/bbox.yaml\n\ninputs:\n  area_of_interest:\n    type: eoap:bbox#BBox\n    doc: \"Spatial extent for processing\"\n    inputBinding:\n      position: 1\n      valueFrom: $(self.bbox.join(','))\n\n  elevation_range:\n    type: eoap:bbox#BBox3D\n    doc: \"3D spatial extent with elevation\"\n    inputBinding:\n      position: 2\n```\n",
  "status": "under-development",
  "dateTimeAddition": "2025-12-17T00:00:00Z",
  "dateOfLastChange": "2025-12-18",
  "version": "1.0",
  "itemClass": "schema",
  "register": "eoap-cct",
  "dependsOn": [],
  "scope": "dev",
  "tags": [
    "CWL",
    "bounding box",
    "bbox",
    "OGC",
    "spatial extent",
    "CRS",
    "OGC API Processes"
  ],
  "sourceSchema": "https://ogcincubator.github.io/bblocks-eoap-cct/_sources/bbox/schema.yaml",
  "ldContext": "https://ogcincubator.github.io/bblocks-eoap-cct/build/annotated/cct/bbox/context.jsonld",
  "sources": [
    {
      "title": "OGC API - Features Part 1 - Bounding Box",
      "link": "https://docs.ogc.org/is/17-069r4/17-069r4.html#_parameter_bbox"
    },
    {
      "title": "OGC API - Processes Part 1 - Table 13",
      "link": "https://docs.ogc.org/DRAFTS/18-062r3.html#_921c9ed7-3bf5-8c1d-a5be-f1ca4d0d5351"
    },
    {
      "title": "CRS84 Definition",
      "link": "http://www.opengis.net/def/crs/OGC/1.3/CRS84"
    },
    {
      "title": "EOAP CWL Custom Types - OGC BBox",
      "link": "https://raw.githubusercontent.com/eoap/schemas/refs/heads/main/ogc.yaml"
    }
  ],
  "maturity": "development",
  "group": "EOAP",
  "shaclShapes": {},
  "schema": {
    "application/yaml": "https://ogcincubator.github.io/bblocks-eoap-cct/build/annotated/cct/bbox/schema.yaml",
    "application/json": "https://ogcincubator.github.io/bblocks-eoap-cct/build/annotated/cct/bbox/schema.json"
  },
  "sourceLdContext": "https://ogcincubator.github.io/bblocks-eoap-cct/_sources/bbox/context.jsonld",
  "sourceFiles": "https://ogcincubator.github.io/bblocks-eoap-cct/_sources/bbox/",
  "rdfData": [],
  "validationPassed": false,
  "testOutputs": "https://github.com/ogcincubator/bblocks-eoap-cct/blob/master/build/tests/cct/bbox/",
  "examples": [
    {
      "title": "2D BBox (CRS84)",
      "description": "CWL record value for a 2D bounding box using CRS84",
      "snippets": [
        {
          "language": "yaml",
          "ref": "examples/bbox-2d.yaml",
          "code": "bbox: [-5.0, 51.0, -4.0, 52.0]\ncrs: CRS84\n",
          "url": "https://ogcincubator.github.io/bblocks-eoap-cct/build/tests/cct/bbox/example_1_1.yaml"
        }
      ]
    },
    {
      "title": "3D BBox (CRS84h)",
      "description": "CWL record value for a 3D bounding box with elevation using CRS84h",
      "snippets": [
        {
          "language": "yaml",
          "ref": "examples/bbox-3d.yaml",
          "code": "bbox: [-5.0, 51.0, 100.0, -4.0, 52.0, 500.0]\ncrs: CRS84h\n",
          "url": "https://ogcincubator.github.io/bblocks-eoap-cct/build/tests/cct/bbox/example_2_1.yaml"
        }
      ]
    }
  ],
  "annotatedSchema": "$ref: https://raw.githubusercontent.com/eoap/schemas/refs/heads/main/ogc.yaml\nx-jsonld-extra-terms:\n  BBox: http://www.opengis.net/ont/geosparql#BoundingBox\n  bbox:\n    x-jsonld-id: http://www.opengis.net/ont/geosparql#asWKT\n    x-jsonld-type: '@json'\n  crs:\n    x-jsonld-id: http://www.opengis.net/ont/geosparql#crs\n    x-jsonld-type: '@id'\n  CRS84: http://www.opengis.net/def/crs/OGC/1.3/CRS84\n  CRS84h: http://www.opengis.net/def/crs/OGC/0/CRS84h\nx-jsonld-vocab: https://www.opengis.net/def/metamodel/ogc-na/\nx-jsonld-prefixes:\n  geo: http://www.opengis.net/ont/geosparql#\n  ogc: http://www.opengis.net/def/\n  dct: http://purl.org/dc/terms/\n  cwl: https://w3id.org/cwl/cwl#\n  eoap: https://eoap.github.io/schemas/cwl/\n",
  "gitRepository": "https://github.com/ogcincubator/bblocks-eoap-cct",
  "gitPath": "_sources/bbox"
}