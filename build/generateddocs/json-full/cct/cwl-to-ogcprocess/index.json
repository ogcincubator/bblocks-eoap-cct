

{
  "itemIdentifier": "eoap.cct.cwl-to-ogcprocess",
  "$schema": "https://raw.githubusercontent.com/opengeospatial/bblocks-postprocess/master/ogc/bblocks/metadata-schema.yaml",
  "name": "CWL to OGC API Processes Profile",
  "abstract": "Profile for converting CWL CommandLineTool and Workflow definitions to OGC API Processes processDescriptions",
  "description": "This building block provides a comprehensive transformation profile that converts Common Workflow Language (CWL) definitions into OGC API - Processes processDescription schemas. It supports both CommandLineTool and Workflow classes, along with all EOAP custom types.\n\n## Purpose\n\nThe CWL to OGC API Processes profile enables:\n\n1. **Automatic conversion**: Transform CWL workflow definitions into OGC-compliant process descriptions\n2. **Type mapping**: Map CWL types (including custom types) to JSON Schema format\n3. **Metadata preservation**: Maintain documentation, labels, and descriptions from CWL\n4. **Standards compliance**: Generate processDescriptions conforming to OGC API - Processes Part 1\n\n## Supported CWL Types\n\n### Standard CWL Types\n- Primitive types: `string`, `int`, `long`, `float`, `double`, `boolean`\n- File types: `File`, `Directory`, `stdout`, `stderr`\n\n### EOAP Custom Types\n\n#### BBox Types\n- `bbox.yaml#BBox` - 2D bounding box\n- `bbox.yaml#BBox3D` - 3D bounding box with elevation\n- Maps to OGC bbox schema with CRS support\n\n#### GeoJSON Types\n- `geojson.yaml#Point` - GeoJSON Point geometry\n- `geojson.yaml#Feature` - GeoJSON Feature\n- `geojson.yaml#FeatureCollection` - GeoJSON FeatureCollection\n- Maps to GeoJSON format with appropriate schemas\n\n#### STAC Types\n- `stac.yaml#Item` - STAC Item\n- `stac.yaml#Collection` - STAC Collection\n- `stac.yaml#Catalog` - STAC Catalog\n- Maps to STAC format specifications\n\n#### String Format Types\n- `string-format.yaml#DateTime` - ISO 8601 date-time\n- `string-format.yaml#Date` - ISO 8601 date\n- `string-format.yaml#Time` - Time of day\n- `string-format.yaml#Duration` - ISO 8601 duration\n- `string-format.yaml#URI` - Uniform Resource Identifier\n- `string-format.yaml#Email` - Email address\n- `string-format.yaml#UUID` - Universally Unique Identifier\n- `string-format.yaml#IPv4` - IPv4 address\n- `string-format.yaml#IPv6` - IPv6 address\n- `string-format.yaml#Hostname` - DNS hostname\n\n## Transformation Process\n\nThe transformation follows these steps:\n\n1. **Extract root element**: Handle both direct CWL documents and those with `$graph` structure\n2. **Process metadata**: Extract id, title, description from CWL document\n3. **Map inputs**: Convert CWL inputs to OGC process inputs with appropriate schemas\n4. **Map outputs**: Convert CWL outputs to OGC process outputs with appropriate schemas\n5. **Add execution options**: Include jobControlOptions and outputTransmission modes\n\n",
  "status": "under-development",
  "dateTimeAddition": "2025-12-18T00:00:00Z",
  "dateOfLastChange": "2025-12-18",
  "version": "1.0",
  "itemClass": "model",
  "register": "eoap-cct",
  "dependsOn": [
    "ogc.api.processes.v1.schemas.process",
    "eoap.cct.stac",
    "eoap.cct.bbox",
    "eoap.cct.string-format",
    "eoap.cct.geojson",
    "ogc.cwl.v1_2_1.CWLWorkflow"
  ],
  "scope": "dev",
  "tags": [
    "CWL",
    "Common Workflow Language",
    "OGC API Processes",
    "processDescription",
    "transformation",
    "profile",
    "EOAP",
    "CommandLineTool",
    "Workflow"
  ],
  "sources": [
    {
      "title": "Common Workflow Language (CWL) Specification",
      "link": "https://www.commonwl.org/v1.2/"
    },
    {
      "title": "OGC API - Processes Part 1: Core",
      "link": "https://docs.ogc.org/is/18-062r2/18-062r2.html"
    },
    {
      "title": "OGC Best Practice for Earth Observation Application Package",
      "link": "https://docs.ogc.org/bp/20-089r1.html"
    },
    {
      "title": "Earth Observation Application Package (EOAP) CWL Custom Types",
      "link": "https://github.com/eoap/schemas"
    }
  ],
  "maturity": "development",
  "group": "EOAP",
  "highlighted": true,
  "shaclShapes": {},
  "ldContext": "https://geolabs.github.io/bblocks-eoap-cct/build/annotated/cct/cwl-to-ogcprocess/context.jsonld",
  "schema": {
    "application/yaml": "https://geolabs.github.io/bblocks-eoap-cct/build/annotated/cct/cwl-to-ogcprocess/schema.yaml",
    "application/json": "https://geolabs.github.io/bblocks-eoap-cct/build/annotated/cct/cwl-to-ogcprocess/schema.json"
  },
  "sourceSchema": "https://geolabs.github.io/bblocks-eoap-cct/_sources/cwl-to-ogcprocess/schema.yaml",
  "sourceLdContext": "https://geolabs.github.io/bblocks-eoap-cct/_sources/cwl-to-ogcprocess/context.jsonld",
  "sourceFiles": "https://geolabs.github.io/bblocks-eoap-cct/_sources/cwl-to-ogcprocess/",
  "rdfData": [],
  "validationPassed": true,
  "testOutputs": "https://github.com/GeoLabs/bblocks-eoap-cct/blob/master/build/tests/cct/cwl-to-ogcprocess/",
  "transforms": [
    {
      "id": "cwl-to-ogcprocess",
      "description": "Converts CWL CommandLineTool or Workflow to OGC API Processes processDescription with support for all EOAP custom types",
      "type": "jq",
      "ref": "https://geolabs.github.io/bblocks-eoap-cct/_sources/cwl-to-ogcprocess/transforms/cwl-to-ogcprocess.jq",
      "code": "# Unified transform: CWL CommandLineTool/Workflow to OGC API Processes processDescription\n# Supports all EOAP custom types: BBox, GeoJSON, STAC, and String Formats\n\n# Helper function to extract the root element (first Workflow in $graph, or the document itself)\ndef getRootElement:\n  if has(\"$graph\") then\n    # Find the first Workflow in the $graph array\n    (.\"$graph\" | map(select(.class == \"Workflow\")) | first) // .\"$graph\"[0]\n  else\n    .\n  end;\n\n# Map BBox custom type to OGC schema\ndef mapBBoxType:\n  if (. | type) == \"string\" and ((. | contains(\"bbox.yaml#BBox\")) or (. | contains(\"ogc.yaml#BBox\"))) then\n    {\n      type: \"object\",\n      required: [\"bbox\"],\n      properties: {\n        bbox: {\n          type: \"array\",\n          items: { type: \"number\" },\n          oneOf: [\n            { minItems: 4, maxItems: 4, description: \"2D bbox\" },\n            { minItems: 6, maxItems: 6, description: \"3D bbox\" }\n          ]\n        },\n        crs: {\n          type: \"string\",\n          enum: [\"CRS84\", \"CRS84h\"],\n          default: \"CRS84\"\n        }\n      }\n    }\n  else\n    null\n  end;\n\n# Map GeoJSON custom types to OGC schemas\ndef mapGeoJSONType:\n  if (. | type) == \"string\" then\n    if (. | contains(\"geojson.yaml#\")) then\n      if (. | contains(\"Point\")) then\n        { \n          type: \"object\",\n          required: [\"type\", \"coordinates\"],\n          properties: {\n            type: { type: \"string\", enum: [\"Point\"] },\n            coordinates: { \n              type: \"array\",\n              minItems: 2,\n              maxItems: 3,\n              items: { type: \"number\" }\n            }\n          },\n          format: \"geojson-geometry\"\n        }\n      elif (. | contains(\"Feature\")) then\n        {\n          type: \"object\",\n          required: [\"type\", \"geometry\", \"properties\"],\n          properties: {\n            type: { type: \"string\", enum: [\"Feature\"] },\n            geometry: { type: \"object\" },\n            properties: { type: \"object\" }\n          },\n          format: \"geojson-feature\"\n        }\n      elif (. | contains(\"FeatureCollection\")) then\n        {\n          type: \"object\",\n          required: [\"type\", \"features\"],\n          properties: {\n            type: { type: \"string\", enum: [\"FeatureCollection\"] },\n            features: { \n              type: \"array\",\n              items: { type: \"object\" }\n            }\n          },\n          format: \"geojson-feature-collection\"\n        }\n      else\n        { type: \"object\", format: \"geojson-geometry\" }\n      end\n    else\n      null\n    end\n  else\n    null\n  end;\n\n# Map STAC custom types to OGC schemas  \ndef mapSTACType:\n  if (. | type) == \"string\" and (. | contains(\"stac.yaml#\")) then\n    if (. | contains(\"Item\")) then\n      {\n        type: \"object\",\n        required: [\"type\", \"stac_version\", \"id\", \"geometry\", \"properties\", \"links\", \"assets\"],\n        properties: {\n          type: { type: \"string\", enum: [\"Feature\"] },\n          stac_version: { type: \"string\" },\n          id: { type: \"string\" },\n          geometry: { type: \"object\" },\n          properties: { type: \"object\" },\n          links: { type: \"array\" },\n          assets: { type: \"object\" }\n        },\n        format: \"stac-item\"\n      }\n    elif (. | contains(\"Collection\")) then\n      {\n        type: \"object\",\n        required: [\"type\", \"stac_version\", \"id\", \"description\", \"license\", \"extent\", \"links\"],\n        format: \"stac-collection\"\n      }\n    elif (. | contains(\"Catalog\")) then\n      {\n        type: \"object\",\n        required: [\"type\", \"stac_version\", \"id\", \"description\", \"links\"],\n        format: \"stac-catalog\"\n      }\n    else\n      { type: \"object\", format: \"stac\" }\n    end\n  else\n    null\n  end;\n\n# Map string format custom types to OGC schemas\ndef mapStringFormatType:\n  if (. | type) == \"string\" and (. | contains(\"string-format.yaml#\")) then\n    if (. | contains(\"DateTime\")) then\n      { type: \"string\", format: \"date-time\" }\n    elif (. | contains(\"Date\")) then\n      { type: \"string\", format: \"date\" }\n    elif (. | contains(\"Time\")) then\n      { type: \"string\", format: \"time\" }\n    elif (. | contains(\"Duration\")) then\n      { type: \"string\", format: \"duration\" }\n    elif (. | contains(\"URI\")) then\n      { type: \"string\", format: \"uri\" }\n    elif (. | contains(\"Email\")) then\n      { type: \"string\", format: \"email\" }\n    elif (. | contains(\"UUID\")) then\n      { type: \"string\", format: \"uuid\" }\n    elif (. | contains(\"IPv4\")) then\n      { type: \"string\", format: \"ipv4\" }\n    elif (. | contains(\"IPv6\")) then\n      { type: \"string\", format: \"ipv6\" }\n    elif (. | contains(\"Hostname\")) then\n      { type: \"string\", format: \"hostname\" }\n    else\n      { type: \"string\" }\n    end\n  else\n    null\n  end;\n\n# Map CWL File type to OGC schema\ndef mapFileType:\n  if . == \"File\" or . == \"stdout\" or . == \"stderr\" then\n    {\n      type: \"string\",\n      contentMediaType: \"application/octet-stream\"\n    }\n  else\n    null\n  end;\n\n# Map CWL Directory type to OGC schema\ndef mapDirectoryType:\n  if . == \"Directory\" then\n    {\n      type: \"string\",\n      contentMediaType: \"application/x-directory\"\n    }\n  else\n    null\n  end;\n\n# Unified type mapper - tries all type mappings\ndef mapType:\n  . as $type |\n  # Check if it's an array type (e.g., \"string[]\", \"int[]\", etc.)\n  if ($type | type) == \"string\" and ($type | endswith(\"[]\")) then\n    # Extract base type by removing \"[]\" suffix\n    ($type | sub(\"\\\\[\\\\]$\"; \"\")) as $baseType |\n    {\n      type: \"array\",\n      items: ($baseType | mapType)\n    }\n  else\n    (mapBBoxType // mapGeoJSONType // mapSTACType // mapStringFormatType // mapFileType // mapDirectoryType // \n     if ($type | type) == \"string\" then\n       if $type == \"string\" then { type: \"string\" }\n       elif $type == \"int\" or $type == \"long\" then { type: \"integer\" }\n       elif $type == \"float\" or $type == \"double\" then { type: \"number\" }\n       elif $type == \"boolean\" then { type: \"boolean\" }\n       else { type: \"string\" }\n       end\n     else\n       { type: \"object\" }\n     end\n    )\n  end;\n\n# Process inputs\ndef processInputs:\n  if . then\n    if (. | type) == \"array\" then\n      # Workflow style: inputs is an array with id fields\n      map(\n        .type as $inputType |\n        {\n          key: .id,\n          value: {\n            title: (.label // .id),\n            description: (.doc // \"\"),\n            schema: ($inputType | mapType),\n            minOccurs: 1,\n            maxOccurs: 1\n          }\n        }\n      ) | from_entries\n    else\n      # CommandLineTool style: inputs is an object\n      to_entries | map(\n        .value.type as $inputType |\n        {\n          key: .key,\n          value: {\n            title: (.value.label // .key),\n            description: (.value.doc // \"\"),\n            schema: ($inputType | mapType),\n            minOccurs: 1,\n            maxOccurs: 1\n          }\n        }\n      ) | from_entries\n    end\n  else\n    {}\n  end;\n\n# Process outputs\ndef processOutputs:\n  if . then\n    if (. | type) == \"array\" then\n      # Workflow style: outputs is an array with id fields\n      map(\n        .type as $outputType |\n        {\n          key: .id,\n          value: {\n            title: (.label // .id),\n            description: (.doc // \"\"),\n            schema: ($outputType | mapType)\n          }\n        }\n      ) | from_entries\n    else\n      # CommandLineTool style: outputs is an object\n      to_entries | map(\n        .value.type as $outputType |\n        {\n          key: .key,\n          value: {\n            title: (.value.label // .key),\n            description: (.value.doc // \"\"),\n            schema: ($outputType | mapType)\n          }\n        }\n      ) | from_entries\n    end\n  else\n    {}\n  end;\n\n# Main transformation\ngetRootElement as $root |\n{\n  id: ($root.id // (if ($root.baseCommand | type) == \"array\" then $root.baseCommand[0] else $root.baseCommand end) // \"cwl-process\"),\n  version: \"1.0.0\",\n  title: ($root.label // \"CWL Process\"),\n  description: ($root.doc // \"Process converted from CWL\"),\n  \n  inputs: ($root.inputs | processInputs),\n  outputs: ($root.outputs | processOutputs),\n  \n  jobControlOptions: [\"async-execute\", \"sync-execute\"],\n  outputTransmission: [\"value\", \"reference\"]\n}\n",
      "inputs": {
        "mediaTypes": [
          {
            "id": "json",
            "defaultExtension": "json",
            "label": "JSON",
            "mimeType": "application/json",
            "extensions": [
              "json"
            ]
          }
        ]
      },
      "outputs": {
        "mediaTypes": [
          {
            "id": "json",
            "defaultExtension": "json",
            "label": "JSON",
            "mimeType": "application/json",
            "extensions": [
              "json"
            ]
          }
        ]
      }
    },
    {
      "id": "cwl-to-ogcprocess-refs",
      "description": "Converts CWL CommandLineTool or Workflow to OGC API Processes processDescription with support for all EOAP custom types",
      "type": "jq",
      "ref": "https://geolabs.github.io/bblocks-eoap-cct/_sources/cwl-to-ogcprocess/transforms/cwl-to-ogcprocess-refs.jq",
      "code": "# Unified transform: CWL CommandLineTool/Workflow to OGC API Processes processDescription\n# Uses reference schemas (allOf + $ref) for EOAP custom types: BBox, GeoJSON, STAC\n\n# Helper function to extract the root element (first Workflow in $graph, or the document itself)\ndef getRootElement:\n  if has(\"$graph\") then\n    # Find the first Workflow in the $graph array\n    (.\"$graph\" | map(select(.class == \"Workflow\")) | first) // .\"$graph\"[0]\n  else\n    .\n  end;\n\n# Map BBox custom type to OGC schema with reference\ndef mapBBoxType:\n  if (. | type) == \"string\" and ((. | contains(\"bbox.yaml#BBox\")) or (. | contains(\"ogc.yaml#BBox\"))) then\n    {\n      allOf: [\n        {\n          format: \"ogc-bbox\"\n        },\n        {\n          \"$ref\": \"https://raw.githubusercontent.com/opengeospatial/ogcapi-processes/master/openapi/schemas/processes-core/bbox.yaml\"\n        }\n      ]\n    }\n  else\n    null\n  end;\n\n# Map GeoJSON custom types to OGC schemas with references\ndef mapGeoJSONType:\n  if (. | type) == \"string\" then\n    if (. | contains(\"geojson.yaml#\")) then\n      if (. | contains(\"Point\")) then\n        {\n          allOf: [\n            {\n              format: \"geojson-geometry\"\n            },\n            {\n              \"$ref\": \"https://geojson.org/schema/Point.json\"\n            }\n          ]\n        }\n      elif (. | contains(\"Feature\")) then\n        {\n          allOf: [\n            {\n              format: \"geojson-feature\"\n            },\n            {\n              \"$ref\": \"https://geojson.org/schema/Feature.json\"\n            }\n          ]\n        }\n      elif (. | contains(\"FeatureCollection\")) then\n        {\n          allOf: [\n            {\n              format: \"geojson-feature-collection\"\n            },\n            {\n              \"$ref\": \"https://geojson.org/schema/FeatureCollection.json\"\n            }\n          ]\n        }\n      elif (. | contains(\"Polygon\")) then\n        {\n          allOf: [\n            {\n              format: \"geojson-geometry\"\n            },\n            {\n              \"$ref\": \"https://geojson.org/schema/Polygon.json\"\n            }\n          ]\n        }\n      else\n        {\n          allOf: [\n            {\n              format: \"geojson-geometry\"\n            },\n            {\n              \"$ref\": \"https://geojson.org/schema/Geometry.json\"\n            }\n          ]\n        }\n      end\n    else\n      null\n    end\n  else\n    null\n  end;\n\n# Map STAC custom types to OGC schemas with references\ndef mapSTACType:\n  if (. | type) == \"string\" and (. | contains(\"stac.yaml#\")) then\n    if (. | contains(\"Item\")) then\n      {\n        allOf: [\n          {\n            format: \"stac-item\"\n          },\n          {\n            \"$ref\": \"https://raw.githubusercontent.com/radiantearth/stac-api-spec/refs/heads/release/v1.0.0/stac-spec/item-spec/json-schema/item.json\"\n          }\n        ]\n      }\n    elif (. | contains(\"Collection\")) then\n      {\n        allOf: [\n          {\n            format: \"stac-collection\"\n          },\n          {\n            \"$ref\": \"https://raw.githubusercontent.com/radiantearth/stac-api-spec/refs/heads/release/v1.0.0/stac-spec/collection-spec/json-schema/collection.json\"\n          }\n        ]\n      }\n    elif (. | contains(\"Catalog\")) then\n      {\n        allOf: [\n          {\n            format: \"stac-catalog\"\n          },\n          {\n            \"$ref\": \"https://raw.githubusercontent.com/radiantearth/stac-api-spec/refs/heads/release/v1.0.0/stac-spec/catalog-spec/json-schema/catalog.json\"\n          }\n        ]\n      }\n    else\n      {\n        allOf: [\n          {\n            format: \"stac\"\n          },\n          {\n            \"$ref\": \"https://raw.githubusercontent.com/radiantearth/stac-api-spec/refs/heads/release/v1.0.0/stac-spec/catalog-spec/json-schema/catalog.json\"\n          }\n        ]\n      }\n    end\n  else\n    null\n  end;\n\n# Map string format custom types to OGC schemas\ndef mapStringFormatType:\n  if (. | type) == \"string\" and (. | contains(\"string-format.yaml#\")) then\n    if (. | contains(\"DateTime\")) then\n      { type: \"string\", format: \"date-time\" }\n    elif (. | contains(\"Date\")) then\n      { type: \"string\", format: \"date\" }\n    elif (. | contains(\"Time\")) then\n      { type: \"string\", format: \"time\" }\n    elif (. | contains(\"Duration\")) then\n      { type: \"string\", format: \"duration\" }\n    elif (. | contains(\"URI\")) then\n      { type: \"string\", format: \"uri\" }\n    elif (. | contains(\"Email\")) then\n      { type: \"string\", format: \"email\" }\n    elif (. | contains(\"UUID\")) then\n      { type: \"string\", format: \"uuid\" }\n    elif (. | contains(\"IPv4\")) then\n      { type: \"string\", format: \"ipv4\" }\n    elif (. | contains(\"IPv6\")) then\n      { type: \"string\", format: \"ipv6\" }\n    elif (. | contains(\"Hostname\")) then\n      { type: \"string\", format: \"hostname\" }\n    else\n      { type: \"string\" }\n    end\n  else\n    null\n  end;\n\n# Map CWL File type to OGC schema\ndef mapFileType:\n  if . == \"File\" or . == \"stdout\" or . == \"stderr\" then\n    {\n      type: \"string\",\n      contentMediaType: \"application/octet-stream\"\n    }\n  else\n    null\n  end;\n\n# Map CWL Directory type to OGC schema\ndef mapDirectoryType:\n  if . == \"Directory\" then\n    {\n      type: \"string\",\n      contentMediaType: \"application/x-directory\"\n    }\n  else\n    null\n  end;\n\n# Unified type mapper - tries all type mappings\ndef mapType:\n  . as $type |\n  # Check if it's an array type (e.g., \"string[]\", \"int[]\", etc.)\n  if ($type | type) == \"string\" and ($type | endswith(\"[]\")) then\n    # Extract base type by removing \"[]\" suffix\n    ($type | sub(\"\\\\[\\\\]$\"; \"\")) as $baseType |\n    {\n      type: \"array\",\n      items: ($baseType | mapType)\n    }\n  else\n    (mapBBoxType // mapGeoJSONType // mapSTACType // mapStringFormatType // mapFileType // mapDirectoryType // \n     if ($type | type) == \"string\" then\n       if $type == \"string\" then { type: \"string\" }\n       elif $type == \"int\" or $type == \"long\" then { type: \"integer\" }\n       elif $type == \"float\" or $type == \"double\" then { type: \"number\" }\n       elif $type == \"boolean\" then { type: \"boolean\" }\n       else { type: \"string\" }\n       end\n     else\n       { type: \"object\" }\n     end\n    )\n  end;\n\n# Process inputs\ndef processInputs:\n  if . then\n    if (. | type) == \"array\" then\n      # Workflow style: inputs is an array with id fields\n      map(\n        .type as $inputType |\n        {\n          key: .id,\n          value: {\n            title: (.label // .id),\n            description: (.doc // \"\"),\n            schema: ($inputType | mapType),\n            minOccurs: 1,\n            maxOccurs: 1\n          }\n        }\n      ) | from_entries\n    else\n      # CommandLineTool style: inputs is an object\n      to_entries | map(\n        .value.type as $inputType |\n        {\n          key: .key,\n          value: {\n            title: (.value.label // .key),\n            description: (.value.doc // \"\"),\n            schema: ($inputType | mapType),\n            minOccurs: 1,\n            maxOccurs: 1\n          }\n        }\n      ) | from_entries\n    end\n  else\n    {}\n  end;\n\n# Process outputs\ndef processOutputs:\n  if . then\n    if (. | type) == \"array\" then\n      # Workflow style: outputs is an array with id fields\n      map(\n        .type as $outputType |\n        {\n          key: .id,\n          value: {\n            title: (.label // .id),\n            description: (.doc // \"\"),\n            schema: ($outputType | mapType)\n          }\n        }\n      ) | from_entries\n    else\n      # CommandLineTool style: outputs is an object\n      to_entries | map(\n        .value.type as $outputType |\n        {\n          key: .key,\n          value: {\n            title: (.value.label // .key),\n            description: (.value.doc // \"\"),\n            schema: ($outputType | mapType)\n          }\n        }\n      ) | from_entries\n    end\n  else\n    {}\n  end;\n\n# Main transformation\ngetRootElement as $root |\n{\n  id: ($root.id // (if ($root.baseCommand | type) == \"array\" then $root.baseCommand[0] else $root.baseCommand end) // \"cwl-process\"),\n  version: \"1.0.0\",\n  title: ($root.label // \"CWL Process\"),\n  description: ($root.doc // \"Process converted from CWL\"),\n  \n  inputs: ($root.inputs | processInputs),\n  outputs: ($root.outputs | processOutputs),\n  \n  jobControlOptions: [\"async-execute\", \"sync-execute\"],\n  outputTransmission: [\"value\", \"reference\"]\n}\n",
      "inputs": {
        "mediaTypes": [
          {
            "id": "json",
            "defaultExtension": "json",
            "label": "JSON",
            "mimeType": "application/json",
            "extensions": [
              "json"
            ]
          }
        ]
      },
      "outputs": {
        "mediaTypes": [
          {
            "id": "json",
            "defaultExtension": "json",
            "label": "JSON",
            "mimeType": "application/json",
            "extensions": [
              "json"
            ]
          }
        ]
      }
    }
  ],
  "examples": [
    {
      "title": "BBox Workflow",
      "description": "CWL Workflow using OGC BoundingBox custom type",
      "snippets": [
        {
          "language": "yaml",
          "ref": "examples/bbox-workflow.cwl",
          "code": "# Copyright 2025 Terradue\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\ncwlVersion: v1.2\n\n$graph:\n- class: Workflow\n  id: bbox-workflow\n  label: \"OGC BBox Processing Workflow\"\n  doc: \"Workflow that processes OGC BBox input and generates output\"\n  \n  requirements:\n    - class: InlineJavascriptRequirement\n    - class: SchemaDefRequirement\n      types:\n      - $import: https://raw.githubusercontent.com/eoap/schemas/main/ogc.yaml\n  \n  inputs:\n    - id: aoi\n      type: https://raw.githubusercontent.com/eoap/schemas/main/ogc.yaml#BBox\n      label: \"Area of interest\"\n      doc: \"Area of interest defined as a bounding box\"\n  \n  outputs:\n    - id: echo_output\n      type: File\n      outputSource:\n        - echo_step/echo_output\n      label: \"Echo output\"\n      doc: \"Echoed BBox information\"\n  \n  steps:\n    echo_step:\n      run: \"#clt\"\n      in:\n        aoi: aoi\n      out:\n        - echo_output\n\n- class: CommandLineTool\n  id: clt\n  label: \"Echo OGC BBox\"\n  baseCommand: echo\n  \n  requirements:\n    - class: InlineJavascriptRequirement\n    - class: SchemaDefRequirement\n      types:\n      - $import: https://raw.githubusercontent.com/eoap/schemas/main/ogc.yaml\n  \n  inputs:\n    aoi:\n      type: https://raw.githubusercontent.com/eoap/schemas/main/ogc.yaml#BBox\n      label: \"Area of interest\"\n      doc: \"Area of interest defined as a bounding box\"\n      inputBinding:\n        valueFrom: |\n          ${\n            // Validate the length of bbox to be either 4 or 6\n            var bboxLength = inputs.aoi.bbox.length;\n            if (bboxLength !== 4 && bboxLength !== 6) {\n              throw \"Invalid bbox length: bbox must have either 4 or 6 elements.\";\n            }\n            // Convert bbox array to a space-separated string for echo\n            return inputs.aoi.bbox.join(' ') + \" CRS: \" + inputs.aoi.crs;\n          }\n  \n  outputs:\n    echo_output:\n      type: stdout\n  \n  stdout: echo_output.txt\n",
          "url": "https://geolabs.github.io/bblocks-eoap-cct/build/tests/cct/cwl-to-ogcprocess/example_1_1.yaml"
        },
        {
          "language": "json",
          "ref": "examples/bbox-workflow.json",
          "code": "{\n  \"cwlVersion\": \"v1.2\",\n  \"$graph\": [\n    {\n      \"class\": \"Workflow\",\n      \"id\": \"bbox-workflow\",\n      \"label\": \"OGC BBox Processing Workflow\",\n      \"doc\": \"Workflow that processes OGC BBox input and generates output\",\n      \"requirements\": [\n        {\n          \"class\": \"InlineJavascriptRequirement\"\n        },\n        {\n          \"class\": \"SchemaDefRequirement\",\n          \"types\": [\n            {\n              \"$import\": \"https://raw.githubusercontent.com/eoap/schemas/main/ogc.yaml\"\n            }\n          ]\n        }\n      ],\n      \"inputs\": [\n        {\n          \"id\": \"aoi\",\n          \"type\": \"https://raw.githubusercontent.com/eoap/schemas/main/ogc.yaml#BBox\",\n          \"label\": \"Area of interest\",\n          \"doc\": \"Area of interest defined as a bounding box\"\n        }\n      ],\n      \"outputs\": [\n        {\n          \"id\": \"echo_output\",\n          \"type\": \"File\",\n          \"outputSource\": [\n            \"echo_step/echo_output\"\n          ],\n          \"label\": \"Echo output\",\n          \"doc\": \"Echoed BBox information\"\n        }\n      ],\n      \"steps\": {\n        \"echo_step\": {\n          \"run\": \"#clt\",\n          \"in\": {\n            \"aoi\": \"aoi\"\n          },\n          \"out\": [\n            \"echo_output\"\n          ]\n        }\n      }\n    },\n    {\n      \"class\": \"CommandLineTool\",\n      \"id\": \"clt\",\n      \"label\": \"Echo OGC BBox\",\n      \"baseCommand\": \"echo\",\n      \"requirements\": [\n        {\n          \"class\": \"InlineJavascriptRequirement\"\n        },\n        {\n          \"class\": \"SchemaDefRequirement\",\n          \"types\": [\n            {\n              \"$import\": \"https://raw.githubusercontent.com/eoap/schemas/main/ogc.yaml\"\n            }\n          ]\n        }\n      ],\n      \"inputs\": {\n        \"aoi\": {\n          \"type\": \"https://raw.githubusercontent.com/eoap/schemas/main/ogc.yaml#BBox\",\n          \"label\": \"Area of interest\",\n          \"doc\": \"Area of interest defined as a bounding box\",\n          \"inputBinding\": {\n            \"valueFrom\": \"${\\n  // Validate the length of bbox to be either 4 or 6\\n  var bboxLength = inputs.aoi.bbox.length;\\n  if (bboxLength !== 4 && bboxLength !== 6) {\\n    throw \\\"Invalid bbox length: bbox must have either 4 or 6 elements.\\\";\\n  }\\n  // Convert bbox array to a space-separated string for echo\\n  return inputs.aoi.bbox.join(' ') + \\\" CRS: \\\" + inputs.aoi.crs;\\n}\\n\"\n          }\n        }\n      },\n      \"outputs\": {\n        \"echo_output\": {\n          \"type\": \"stdout\"\n        }\n      },\n      \"stdout\": \"echo_output.txt\"\n    }\n  ]\n}\n",
          "transformResults": {
            "cwl-to-ogcprocess": "https://geolabs.github.io/bblocks-eoap-cct/build/tests/cct/cwl-to-ogcprocess/transforms/example_1_2.cwl-to-ogcprocess.json",
            "cwl-to-ogcprocess-refs": "https://geolabs.github.io/bblocks-eoap-cct/build/tests/cct/cwl-to-ogcprocess/transforms/example_1_2.cwl-to-ogcprocess-refs.json"
          },
          "url": "https://geolabs.github.io/bblocks-eoap-cct/build/tests/cct/cwl-to-ogcprocess/example_1_2.json"
        },
        {
          "language": "jsonld",
          "code": "{\n  \"@context\": \"https://geolabs.github.io/bblocks-eoap-cct/build/annotated/cct/cwl-to-ogcprocess/context.jsonld\",\n  \"cwlVersion\": \"v1.2\",\n  \"$graph\": [\n    {\n      \"class\": \"Workflow\",\n      \"id\": \"bbox-workflow\",\n      \"label\": \"OGC BBox Processing Workflow\",\n      \"doc\": \"Workflow that processes OGC BBox input and generates output\",\n      \"requirements\": [\n        {\n          \"class\": \"InlineJavascriptRequirement\"\n        },\n        {\n          \"class\": \"SchemaDefRequirement\",\n          \"types\": [\n            {\n              \"$import\": \"https://raw.githubusercontent.com/eoap/schemas/main/ogc.yaml\"\n            }\n          ]\n        }\n      ],\n      \"inputs\": [\n        {\n          \"id\": \"aoi\",\n          \"type\": \"https://raw.githubusercontent.com/eoap/schemas/main/ogc.yaml#BBox\",\n          \"label\": \"Area of interest\",\n          \"doc\": \"Area of interest defined as a bounding box\"\n        }\n      ],\n      \"outputs\": [\n        {\n          \"id\": \"echo_output\",\n          \"type\": \"File\",\n          \"outputSource\": [\n            \"echo_step/echo_output\"\n          ],\n          \"label\": \"Echo output\",\n          \"doc\": \"Echoed BBox information\"\n        }\n      ],\n      \"steps\": {\n        \"echo_step\": {\n          \"run\": \"#clt\",\n          \"in\": {\n            \"aoi\": \"aoi\"\n          },\n          \"out\": [\n            \"echo_output\"\n          ]\n        }\n      }\n    },\n    {\n      \"class\": \"CommandLineTool\",\n      \"id\": \"clt\",\n      \"label\": \"Echo OGC BBox\",\n      \"baseCommand\": \"echo\",\n      \"requirements\": [\n        {\n          \"class\": \"InlineJavascriptRequirement\"\n        },\n        {\n          \"class\": \"SchemaDefRequirement\",\n          \"types\": [\n            {\n              \"$import\": \"https://raw.githubusercontent.com/eoap/schemas/main/ogc.yaml\"\n            }\n          ]\n        }\n      ],\n      \"inputs\": {\n        \"aoi\": {\n          \"type\": \"https://raw.githubusercontent.com/eoap/schemas/main/ogc.yaml#BBox\",\n          \"label\": \"Area of interest\",\n          \"doc\": \"Area of interest defined as a bounding box\",\n          \"inputBinding\": {\n            \"valueFrom\": \"${\\n  // Validate the length of bbox to be either 4 or 6\\n  var bboxLength = inputs.aoi.bbox.length;\\n  if (bboxLength !== 4 && bboxLength !== 6) {\\n    throw \\\"Invalid bbox length: bbox must have either 4 or 6 elements.\\\";\\n  }\\n  // Convert bbox array to a space-separated string for echo\\n  return inputs.aoi.bbox.join(' ') + \\\" CRS: \\\" + inputs.aoi.crs;\\n}\\n\"\n          }\n        }\n      },\n      \"outputs\": {\n        \"echo_output\": {\n          \"type\": \"stdout\"\n        }\n      },\n      \"stdout\": \"echo_output.txt\"\n    }\n  ]\n}",
          "url": "https://geolabs.github.io/bblocks-eoap-cct/build/tests/cct/cwl-to-ogcprocess/example_1_2.jsonld"
        },
        {
          "language": "ttl",
          "code": "@prefix cwl: <https://w3id.org/cwl/cwl#> .\n@prefix dct: <http://purl.org/dc/terms/> .\n@prefix geo: <http://www.opengis.net/ont/geosparql#> .\n@prefix ns1: <rdf:> .\n@prefix ogcproc: <http://www.opengis.net/def/ogcapi/processes/> .\n@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] cwl:cwlVersion <file:///github/workspace/v1.2> ;\n    cwl:graph [ rdfs:label \"Echo OGC BBox\"^^xsd:string ;\n            dct:identifier <file:///github/workspace/clt> ;\n            ogcproc:input _:N918ff8aa5f5b4077b2a113a3c4419c66 ;\n            ogcproc:output _:N23f28c41835540b6867578826ea57f19 ;\n            cwl:baseCommand \"\\\"echo\\\"\"^^rdf:JSON ;\n            cwl:input _:N918ff8aa5f5b4077b2a113a3c4419c66 ;\n            cwl:output _:N23f28c41835540b6867578826ea57f19 ;\n            cwl:requirements [ ns1:type <file:///github/workspace/InlineJavascriptRequirement> ],\n                [ cwl:types [ cwl:import <https://raw.githubusercontent.com/eoap/schemas/main/ogc.yaml> ] ;\n                    ns1:type <file:///github/workspace/SchemaDefRequirement> ] ;\n            cwl:stdout \"echo_output.txt\"^^xsd:string ;\n            ns1:type <file:///github/workspace/CommandLineTool> ],\n        [ rdfs:label \"OGC BBox Processing Workflow\"^^xsd:string ;\n            dct:identifier <file:///github/workspace/bbox-workflow> ;\n            ogcproc:input _:Na6e468c76d08461c9153ce59b3a95a5e ;\n            ogcproc:output _:N1d8c6926db324222922718737682f815 ;\n            rdfs:comment \"Workflow that processes OGC BBox input and generates output\"^^xsd:string ;\n            cwl:input _:Na6e468c76d08461c9153ce59b3a95a5e ;\n            cwl:output _:N1d8c6926db324222922718737682f815 ;\n            cwl:requirements [ cwl:types [ cwl:import <https://raw.githubusercontent.com/eoap/schemas/main/ogc.yaml> ] ;\n                    ns1:type <file:///github/workspace/SchemaDefRequirement> ],\n                [ ns1:type <file:///github/workspace/InlineJavascriptRequirement> ] ;\n            cwl:steps [ cwl:echo_step [ cwl:in [ cwl:aoi \"aoi\" ] ;\n                            cwl:out ( \"echo_output\" ) ;\n                            cwl:run <file:///github/workspace/#clt> ] ] ;\n            ns1:type <file:///github/workspace/Workflow> ] .\n\n_:N2ef283060df34ccbbbc9a20a4de88be2 cwl:aoi [ rdfs:label \"Area of interest\"^^xsd:string ;\n            ogcproc:itemsType \"number\"^^xsd:string ;\n            ogcproc:maxItems 6 ;\n            ogcproc:minItems 4 ;\n            ogcproc:schemaType \"array\"^^xsd:string ;\n            rdfs:comment \"Area of interest defined as a bounding box\"^^xsd:string ;\n            rdfs:seeAlso geo:BoundingBox ;\n            cwl:inputBinding [ cwl:valueFrom \"\"\"${\n  // Validate the length of bbox to be either 4 or 6\n  var bboxLength = inputs.aoi.bbox.length;\n  if (bboxLength !== 4 && bboxLength !== 6) {\n    throw \"Invalid bbox length: bbox must have either 4 or 6 elements.\";\n  }\n  // Convert bbox array to a space-separated string for echo\n  return inputs.aoi.bbox.join(' ') + \" CRS: \" + inputs.aoi.crs;\n}\n\"\"\"^^xsd:string ] ;\n            cwl:type <https://raw.githubusercontent.com/eoap/schemas/main/ogc.yaml#BBox> ] .\n\n_:N51819f1fe53045fbaa45ea905e03f182 cwl:echo_output [ cwl:type <file:///github/workspace/stdout> ] .\n\n_:N8e43ce6f56a34818a16be5fc76be64e6 rdfs:label \"Echo output\"^^xsd:string ;\n    dct:identifier <file:///github/workspace/echo_output> ;\n    rdfs:comment \"Echoed BBox information\"^^xsd:string ;\n    cwl:outputSource <file:///github/workspace/echo_step/echo_output> ;\n    cwl:type <file:///github/workspace/File> .\n\n_:Nff2ddb3123c24035a35b4c9980d59436 rdfs:label \"Area of interest\"^^xsd:string ;\n    dct:identifier <file:///github/workspace/aoi> ;\n    ogcproc:itemsType \"number\"^^xsd:string ;\n    ogcproc:maxItems 6 ;\n    ogcproc:minItems 4 ;\n    ogcproc:schemaType \"array\"^^xsd:string ;\n    rdfs:comment \"Area of interest defined as a bounding box\"^^xsd:string ;\n    rdfs:seeAlso geo:BoundingBox ;\n    cwl:type <https://raw.githubusercontent.com/eoap/schemas/main/ogc.yaml#BBox> .\n\n_:N1d8c6926db324222922718737682f815 a ogcproc:OutputDescription ;\n    rdf:first _:N8e43ce6f56a34818a16be5fc76be64e6 ;\n    rdf:rest () .\n\n_:N23f28c41835540b6867578826ea57f19 a ogcproc:OutputDescription ;\n    rdf:first _:N51819f1fe53045fbaa45ea905e03f182 ;\n    rdf:rest () .\n\n_:N918ff8aa5f5b4077b2a113a3c4419c66 a ogcproc:InputDescription ;\n    rdf:first _:N2ef283060df34ccbbbc9a20a4de88be2 ;\n    rdf:rest () .\n\n_:Na6e468c76d08461c9153ce59b3a95a5e a ogcproc:InputDescription ;\n    rdf:first _:Nff2ddb3123c24035a35b4c9980d59436 ;\n    rdf:rest () .\n\n",
          "url": "https://geolabs.github.io/bblocks-eoap-cct/build/tests/cct/cwl-to-ogcprocess/example_1_2.ttl"
        }
      ]
    },
    {
      "title": "GeoJSON Feature Workflow",
      "description": "CWL Workflow using GeoJSON Feature custom type",
      "snippets": [
        {
          "language": "yaml",
          "ref": "examples/feature-workflow.cwl",
          "code": "# Copyright 2025 Terradue\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\ncwlVersion: v1.2\n\n$graph:\n- class: Workflow\n  id: feature-workflow\n  label: \"GeoJSON Feature Processing Workflow\"\n  doc: \"Workflow that processes GeoJSON Feature input and generates output\"\n  \n  requirements:\n    - class: InlineJavascriptRequirement\n    - class: SchemaDefRequirement\n      types:\n      - $import: https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml\n  \n  inputs:\n    - id: aoi\n      type: https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Feature\n      label: \"Area of interest\"\n      doc: \"Area of interest defined in GeoJSON format\"\n  \n  outputs:\n    - id: echo_output\n      type: File\n      outputSource:\n        - echo_step/echo_output\n      label: \"Echo output\"\n      doc: \"Echoed GeoJSON Feature information\"\n  \n  steps:\n    echo_step:\n      run: \"#clt\"\n      in:\n        aoi: aoi\n      out:\n        - echo_output\n\n- class: CommandLineTool\n  id: clt\n  label: \"Echo GeoJSON Feature\"\n  baseCommand: echo\n  \n  requirements:\n    - class: InlineJavascriptRequirement\n    - class: SchemaDefRequirement\n      types:\n      - $import: https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml\n  \n  inputs:\n    aoi:\n      type: https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Feature\n      label: \"Area of interest\"\n      doc: \"Area of interest defined in GeoJSON format\"\n      inputBinding:\n        valueFrom: |\n          ${\n            // Validate if type is 'Feature'\n            if (inputs.aoi.type !== 'Feature') {\n              throw \"Invalid GeoJSON type: expected 'Feature', got '\" + inputs.aoi.type + \"'\";\n            }\n            // get the Feature geometry type\n            return \"Feature with id '\" + inputs.aoi.id + \"' is of type: \" + inputs.aoi.geometry.type;\n          }\n  \n  outputs:\n    echo_output:\n      type: stdout\n  \n  stdout: echo_output.txt\n",
          "url": "https://geolabs.github.io/bblocks-eoap-cct/build/tests/cct/cwl-to-ogcprocess/example_2_1.yaml"
        },
        {
          "language": "json",
          "ref": "examples/feature-workflow.json",
          "code": "{\n  \"cwlVersion\": \"v1.2\",\n  \"$graph\": [\n    {\n      \"class\": \"Workflow\",\n      \"id\": \"feature-workflow\",\n      \"label\": \"GeoJSON Feature Processing Workflow\",\n      \"doc\": \"Workflow that processes GeoJSON Feature input and generates output\",\n      \"requirements\": [\n        {\n          \"class\": \"InlineJavascriptRequirement\"\n        },\n        {\n          \"class\": \"SchemaDefRequirement\",\n          \"types\": [\n            {\n              \"$import\": \"https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml\"\n            }\n          ]\n        }\n      ],\n      \"inputs\": [\n        {\n          \"id\": \"aoi\",\n          \"type\": \"https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Feature\",\n          \"label\": \"Area of interest\",\n          \"doc\": \"Area of interest defined in GeoJSON format\"\n        }\n      ],\n      \"outputs\": [\n        {\n          \"id\": \"echo_output\",\n          \"type\": \"File\",\n          \"outputSource\": [\n            \"echo_step/echo_output\"\n          ],\n          \"label\": \"Echo output\",\n          \"doc\": \"Echoed GeoJSON Feature information\"\n        }\n      ],\n      \"steps\": {\n        \"echo_step\": {\n          \"run\": \"#clt\",\n          \"in\": {\n            \"aoi\": \"aoi\"\n          },\n          \"out\": [\n            \"echo_output\"\n          ]\n        }\n      }\n    },\n    {\n      \"class\": \"CommandLineTool\",\n      \"id\": \"clt\",\n      \"label\": \"Echo GeoJSON Feature\",\n      \"baseCommand\": \"echo\",\n      \"requirements\": [\n        {\n          \"class\": \"InlineJavascriptRequirement\"\n        },\n        {\n          \"class\": \"SchemaDefRequirement\",\n          \"types\": [\n            {\n              \"$import\": \"https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml\"\n            }\n          ]\n        }\n      ],\n      \"inputs\": {\n        \"aoi\": {\n          \"type\": \"https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Feature\",\n          \"label\": \"Area of interest\",\n          \"doc\": \"Area of interest defined in GeoJSON format\",\n          \"inputBinding\": {\n            \"valueFrom\": \"${\\n  // Validate if type is 'Feature'\\n  if (inputs.aoi.type !== 'Feature') {\\n    throw \\\"Invalid GeoJSON type: expected 'Feature', got '\\\" + inputs.aoi.type + \\\"'\\\";\\n  }\\n  // get the Feature geometry type\\n  return \\\"Feature with id '\\\" + inputs.aoi.id + \\\"' is of type: \\\" + inputs.aoi.geometry.type;\\n}\\n\"\n          }\n        }\n      },\n      \"outputs\": {\n        \"echo_output\": {\n          \"type\": \"stdout\"\n        }\n      },\n      \"stdout\": \"echo_output.txt\"\n    }\n  ]\n}\n",
          "transformResults": {
            "cwl-to-ogcprocess": "https://geolabs.github.io/bblocks-eoap-cct/build/tests/cct/cwl-to-ogcprocess/transforms/example_2_2.cwl-to-ogcprocess.json",
            "cwl-to-ogcprocess-refs": "https://geolabs.github.io/bblocks-eoap-cct/build/tests/cct/cwl-to-ogcprocess/transforms/example_2_2.cwl-to-ogcprocess-refs.json"
          },
          "url": "https://geolabs.github.io/bblocks-eoap-cct/build/tests/cct/cwl-to-ogcprocess/example_2_2.json"
        },
        {
          "language": "jsonld",
          "code": "{\n  \"@context\": \"https://geolabs.github.io/bblocks-eoap-cct/build/annotated/cct/cwl-to-ogcprocess/context.jsonld\",\n  \"cwlVersion\": \"v1.2\",\n  \"$graph\": [\n    {\n      \"class\": \"Workflow\",\n      \"id\": \"feature-workflow\",\n      \"label\": \"GeoJSON Feature Processing Workflow\",\n      \"doc\": \"Workflow that processes GeoJSON Feature input and generates output\",\n      \"requirements\": [\n        {\n          \"class\": \"InlineJavascriptRequirement\"\n        },\n        {\n          \"class\": \"SchemaDefRequirement\",\n          \"types\": [\n            {\n              \"$import\": \"https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml\"\n            }\n          ]\n        }\n      ],\n      \"inputs\": [\n        {\n          \"id\": \"aoi\",\n          \"type\": \"https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Feature\",\n          \"label\": \"Area of interest\",\n          \"doc\": \"Area of interest defined in GeoJSON format\"\n        }\n      ],\n      \"outputs\": [\n        {\n          \"id\": \"echo_output\",\n          \"type\": \"File\",\n          \"outputSource\": [\n            \"echo_step/echo_output\"\n          ],\n          \"label\": \"Echo output\",\n          \"doc\": \"Echoed GeoJSON Feature information\"\n        }\n      ],\n      \"steps\": {\n        \"echo_step\": {\n          \"run\": \"#clt\",\n          \"in\": {\n            \"aoi\": \"aoi\"\n          },\n          \"out\": [\n            \"echo_output\"\n          ]\n        }\n      }\n    },\n    {\n      \"class\": \"CommandLineTool\",\n      \"id\": \"clt\",\n      \"label\": \"Echo GeoJSON Feature\",\n      \"baseCommand\": \"echo\",\n      \"requirements\": [\n        {\n          \"class\": \"InlineJavascriptRequirement\"\n        },\n        {\n          \"class\": \"SchemaDefRequirement\",\n          \"types\": [\n            {\n              \"$import\": \"https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml\"\n            }\n          ]\n        }\n      ],\n      \"inputs\": {\n        \"aoi\": {\n          \"type\": \"https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Feature\",\n          \"label\": \"Area of interest\",\n          \"doc\": \"Area of interest defined in GeoJSON format\",\n          \"inputBinding\": {\n            \"valueFrom\": \"${\\n  // Validate if type is 'Feature'\\n  if (inputs.aoi.type !== 'Feature') {\\n    throw \\\"Invalid GeoJSON type: expected 'Feature', got '\\\" + inputs.aoi.type + \\\"'\\\";\\n  }\\n  // get the Feature geometry type\\n  return \\\"Feature with id '\\\" + inputs.aoi.id + \\\"' is of type: \\\" + inputs.aoi.geometry.type;\\n}\\n\"\n          }\n        }\n      },\n      \"outputs\": {\n        \"echo_output\": {\n          \"type\": \"stdout\"\n        }\n      },\n      \"stdout\": \"echo_output.txt\"\n    }\n  ]\n}",
          "url": "https://geolabs.github.io/bblocks-eoap-cct/build/tests/cct/cwl-to-ogcprocess/example_2_2.jsonld"
        },
        {
          "language": "ttl",
          "code": "@prefix cwl: <https://w3id.org/cwl/cwl#> .\n@prefix dct: <http://purl.org/dc/terms/> .\n@prefix ns1: <rdf:> .\n@prefix ogcproc: <http://www.opengis.net/def/ogcapi/processes/> .\n@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] cwl:cwlVersion <file:///github/workspace/v1.2> ;\n    cwl:graph [ rdfs:label \"Echo GeoJSON Feature\"^^xsd:string ;\n            dct:identifier <file:///github/workspace/clt> ;\n            ogcproc:input _:Nb3ba4bc271404733b6fe1025f9f3695f ;\n            ogcproc:output _:N3bc624f5d6364fa08ed084bd679eaf47 ;\n            cwl:baseCommand \"\\\"echo\\\"\"^^rdf:JSON ;\n            cwl:input _:Nb3ba4bc271404733b6fe1025f9f3695f ;\n            cwl:output _:N3bc624f5d6364fa08ed084bd679eaf47 ;\n            cwl:requirements [ ns1:type <file:///github/workspace/InlineJavascriptRequirement> ],\n                [ cwl:types [ cwl:import <https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml> ] ;\n                    ns1:type <file:///github/workspace/SchemaDefRequirement> ] ;\n            cwl:stdout \"echo_output.txt\"^^xsd:string ;\n            ns1:type <file:///github/workspace/CommandLineTool> ],\n        [ rdfs:label \"GeoJSON Feature Processing Workflow\"^^xsd:string ;\n            dct:identifier <file:///github/workspace/feature-workflow> ;\n            ogcproc:input _:N0f879c478bd74508834e78a45b5166ee ;\n            ogcproc:output _:N58185ee233984825aeb66ab30a94522d ;\n            rdfs:comment \"Workflow that processes GeoJSON Feature input and generates output\"^^xsd:string ;\n            cwl:input _:N0f879c478bd74508834e78a45b5166ee ;\n            cwl:output _:N58185ee233984825aeb66ab30a94522d ;\n            cwl:requirements [ ns1:type <file:///github/workspace/InlineJavascriptRequirement> ],\n                [ cwl:types [ cwl:import <https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml> ] ;\n                    ns1:type <file:///github/workspace/SchemaDefRequirement> ] ;\n            cwl:steps [ cwl:echo_step [ cwl:in [ cwl:aoi \"aoi\" ] ;\n                            cwl:out ( \"echo_output\" ) ;\n                            cwl:run <file:///github/workspace/#clt> ] ] ;\n            ns1:type <file:///github/workspace/Workflow> ] .\n\n_:N012100b1314948e2a19a33fa7318d2d3 rdfs:label \"Area of interest\"^^xsd:string ;\n    dct:format <https://www.iana.org/assignments/media-types/application/geo+json> ;\n    ogcproc:schemaType \"object\"^^xsd:string ;\n    rdfs:comment \"Area of interest defined in GeoJSON format\"^^xsd:string ;\n    rdfs:seeAlso <https://purl.org/geojson/vocab#Feature> ;\n    cwl:inputBinding [ cwl:valueFrom \"\"\"${\n  // Validate if type is 'Feature'\n  if (inputs.aoi.type !== 'Feature') {\n    throw \"Invalid GeoJSON type: expected 'Feature', got '\" + inputs.aoi.type + \"'\";\n  }\n  // get the Feature geometry type\n  return \"Feature with id '\" + inputs.aoi.id + \"' is of type: \" + inputs.aoi.geometry.type;\n}\n\"\"\"^^xsd:string ] ;\n    cwl:type <https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Feature> .\n\n_:N36f1b521b2984066870805ea18d00e16 rdfs:label \"Area of interest\"^^xsd:string ;\n    dct:format <https://www.iana.org/assignments/media-types/application/geo+json> ;\n    dct:identifier <file:///github/workspace/aoi> ;\n    ogcproc:schemaType \"object\"^^xsd:string ;\n    rdfs:comment \"Area of interest defined in GeoJSON format\"^^xsd:string ;\n    rdfs:seeAlso <https://purl.org/geojson/vocab#Feature> ;\n    cwl:type <https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Feature> .\n\n_:N4eae8ab58dc04127a2652f52dbbc51e0 cwl:echo_output [ cwl:type <file:///github/workspace/stdout> ] .\n\n_:N7ec615905a9e4273b18b2cc6a4349131 cwl:aoi _:N012100b1314948e2a19a33fa7318d2d3 .\n\n_:Nf526bf7c784f4c3ea7347985fafd1632 rdfs:label \"Echo output\"^^xsd:string ;\n    dct:identifier <file:///github/workspace/echo_output> ;\n    rdfs:comment \"Echoed GeoJSON Feature information\"^^xsd:string ;\n    cwl:outputSource <file:///github/workspace/echo_step/echo_output> ;\n    cwl:type <file:///github/workspace/File> .\n\n_:N0f879c478bd74508834e78a45b5166ee a ogcproc:InputDescription ;\n    rdf:first _:N36f1b521b2984066870805ea18d00e16 ;\n    rdf:rest () .\n\n_:N3bc624f5d6364fa08ed084bd679eaf47 a ogcproc:OutputDescription ;\n    rdf:first _:N4eae8ab58dc04127a2652f52dbbc51e0 ;\n    rdf:rest () .\n\n_:N58185ee233984825aeb66ab30a94522d a ogcproc:OutputDescription ;\n    rdf:first _:Nf526bf7c784f4c3ea7347985fafd1632 ;\n    rdf:rest () .\n\n_:Nb3ba4bc271404733b6fe1025f9f3695f a ogcproc:InputDescription ;\n    rdf:first _:N7ec615905a9e4273b18b2cc6a4349131 ;\n    rdf:rest () .\n\n",
          "url": "https://geolabs.github.io/bblocks-eoap-cct/build/tests/cct/cwl-to-ogcprocess/example_2_2.ttl"
        }
      ]
    },
    {
      "title": "STAC Item Workflow",
      "description": "CWL Workflow using STAC Item custom type",
      "snippets": [
        {
          "language": "yaml",
          "ref": "examples/item-workflow.cwl",
          "code": "# Copyright 2025 Terradue\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\ncwlVersion: v1.2\n\n$graph:\n- class: Workflow\n  id: item-workflow\n  label: \"STAC Item Processing Workflow\"\n  doc: \"Workflow that processes STAC Item input and generates output\"\n  \n  requirements:\n    - class: InlineJavascriptRequirement\n    - class: SchemaDefRequirement\n      types:\n      - $import: https://raw.githubusercontent.com/eoap/schemas/main/stac.yaml\n  \n  inputs:\n    - id: stac_item\n      type: https://raw.githubusercontent.com/eoap/schemas/main/stac.yaml#Item\n      label: \"STAC Item\"\n      doc: \"STAC Item representing a geospatial asset\"\n  \n  outputs:\n    - id: result\n      type: File\n      outputSource:\n        - process_step/result\n      label: \"Process result\"\n      doc: \"Processed STAC Item information\"\n  \n  steps:\n    process_step:\n      run: \"#clt\"\n      in:\n        stac_item: stac_item\n      out:\n        - result\n\n- class: CommandLineTool\n  id: clt\n  label: \"Process STAC Item\"\n  baseCommand: echo\n  \n  requirements:\n    - class: InlineJavascriptRequirement\n    - class: SchemaDefRequirement\n      types:\n      - $import: https://raw.githubusercontent.com/eoap/schemas/main/stac.yaml\n  \n  inputs:\n    stac_item:\n      type: https://raw.githubusercontent.com/eoap/schemas/main/stac.yaml#Item\n      label: \"STAC Item\"\n      doc: \"STAC Item representing a geospatial asset\"\n      inputBinding:\n        valueFrom: |\n          ${\n            return \"STAC Item ID: \" + inputs.stac_item.id;\n          }\n  \n  outputs:\n    result:\n      type: stdout\n  \n  stdout: result.txt\n",
          "url": "https://geolabs.github.io/bblocks-eoap-cct/build/tests/cct/cwl-to-ogcprocess/example_3_1.yaml"
        },
        {
          "language": "json",
          "ref": "examples/item-workflow.json",
          "code": "{\n  \"cwlVersion\": \"v1.2\",\n  \"$graph\": [\n    {\n      \"class\": \"Workflow\",\n      \"id\": \"item-workflow\",\n      \"label\": \"STAC Item Processing Workflow\",\n      \"doc\": \"Workflow that processes STAC Item input and generates output\",\n      \"requirements\": [\n        {\n          \"class\": \"InlineJavascriptRequirement\"\n        },\n        {\n          \"class\": \"SchemaDefRequirement\",\n          \"types\": [\n            {\n              \"$import\": \"https://raw.githubusercontent.com/eoap/schemas/main/stac.yaml\"\n            }\n          ]\n        }\n      ],\n      \"inputs\": [\n        {\n          \"id\": \"stac_item\",\n          \"type\": \"https://raw.githubusercontent.com/eoap/schemas/main/stac.yaml#Item\",\n          \"label\": \"STAC Item\",\n          \"doc\": \"STAC Item representing a geospatial asset\"\n        }\n      ],\n      \"outputs\": [\n        {\n          \"id\": \"result\",\n          \"type\": \"File\",\n          \"outputSource\": [\n            \"process_step/result\"\n          ],\n          \"label\": \"Process result\",\n          \"doc\": \"Processed STAC Item information\"\n        }\n      ],\n      \"steps\": {\n        \"process_step\": {\n          \"run\": \"#clt\",\n          \"in\": {\n            \"stac_item\": \"stac_item\"\n          },\n          \"out\": [\n            \"result\"\n          ]\n        }\n      }\n    },\n    {\n      \"class\": \"CommandLineTool\",\n      \"id\": \"clt\",\n      \"label\": \"Process STAC Item\",\n      \"baseCommand\": \"echo\",\n      \"requirements\": [\n        {\n          \"class\": \"InlineJavascriptRequirement\"\n        },\n        {\n          \"class\": \"SchemaDefRequirement\",\n          \"types\": [\n            {\n              \"$import\": \"https://raw.githubusercontent.com/eoap/schemas/main/stac.yaml\"\n            }\n          ]\n        }\n      ],\n      \"inputs\": {\n        \"stac_item\": {\n          \"type\": \"https://raw.githubusercontent.com/eoap/schemas/main/stac.yaml#Item\",\n          \"label\": \"STAC Item\",\n          \"doc\": \"STAC Item representing a geospatial asset\",\n          \"inputBinding\": {\n            \"valueFrom\": \"${\\n  return \\\"STAC Item ID: \\\" + inputs.stac_item.id;\\n}\\n\"\n          }\n        }\n      },\n      \"outputs\": {\n        \"result\": {\n          \"type\": \"stdout\"\n        }\n      },\n      \"stdout\": \"result.txt\"\n    }\n  ]\n}\n",
          "transformResults": {
            "cwl-to-ogcprocess": "https://geolabs.github.io/bblocks-eoap-cct/build/tests/cct/cwl-to-ogcprocess/transforms/example_3_2.cwl-to-ogcprocess.json",
            "cwl-to-ogcprocess-refs": "https://geolabs.github.io/bblocks-eoap-cct/build/tests/cct/cwl-to-ogcprocess/transforms/example_3_2.cwl-to-ogcprocess-refs.json"
          },
          "url": "https://geolabs.github.io/bblocks-eoap-cct/build/tests/cct/cwl-to-ogcprocess/example_3_2.json"
        },
        {
          "language": "jsonld",
          "code": "{\n  \"@context\": \"https://geolabs.github.io/bblocks-eoap-cct/build/annotated/cct/cwl-to-ogcprocess/context.jsonld\",\n  \"cwlVersion\": \"v1.2\",\n  \"$graph\": [\n    {\n      \"class\": \"Workflow\",\n      \"id\": \"item-workflow\",\n      \"label\": \"STAC Item Processing Workflow\",\n      \"doc\": \"Workflow that processes STAC Item input and generates output\",\n      \"requirements\": [\n        {\n          \"class\": \"InlineJavascriptRequirement\"\n        },\n        {\n          \"class\": \"SchemaDefRequirement\",\n          \"types\": [\n            {\n              \"$import\": \"https://raw.githubusercontent.com/eoap/schemas/main/stac.yaml\"\n            }\n          ]\n        }\n      ],\n      \"inputs\": [\n        {\n          \"id\": \"stac_item\",\n          \"type\": \"https://raw.githubusercontent.com/eoap/schemas/main/stac.yaml#Item\",\n          \"label\": \"STAC Item\",\n          \"doc\": \"STAC Item representing a geospatial asset\"\n        }\n      ],\n      \"outputs\": [\n        {\n          \"id\": \"result\",\n          \"type\": \"File\",\n          \"outputSource\": [\n            \"process_step/result\"\n          ],\n          \"label\": \"Process result\",\n          \"doc\": \"Processed STAC Item information\"\n        }\n      ],\n      \"steps\": {\n        \"process_step\": {\n          \"run\": \"#clt\",\n          \"in\": {\n            \"stac_item\": \"stac_item\"\n          },\n          \"out\": [\n            \"result\"\n          ]\n        }\n      }\n    },\n    {\n      \"class\": \"CommandLineTool\",\n      \"id\": \"clt\",\n      \"label\": \"Process STAC Item\",\n      \"baseCommand\": \"echo\",\n      \"requirements\": [\n        {\n          \"class\": \"InlineJavascriptRequirement\"\n        },\n        {\n          \"class\": \"SchemaDefRequirement\",\n          \"types\": [\n            {\n              \"$import\": \"https://raw.githubusercontent.com/eoap/schemas/main/stac.yaml\"\n            }\n          ]\n        }\n      ],\n      \"inputs\": {\n        \"stac_item\": {\n          \"type\": \"https://raw.githubusercontent.com/eoap/schemas/main/stac.yaml#Item\",\n          \"label\": \"STAC Item\",\n          \"doc\": \"STAC Item representing a geospatial asset\",\n          \"inputBinding\": {\n            \"valueFrom\": \"${\\n  return \\\"STAC Item ID: \\\" + inputs.stac_item.id;\\n}\\n\"\n          }\n        }\n      },\n      \"outputs\": {\n        \"result\": {\n          \"type\": \"stdout\"\n        }\n      },\n      \"stdout\": \"result.txt\"\n    }\n  ]\n}",
          "url": "https://geolabs.github.io/bblocks-eoap-cct/build/tests/cct/cwl-to-ogcprocess/example_3_2.jsonld"
        },
        {
          "language": "ttl",
          "code": "@prefix cwl: <https://w3id.org/cwl/cwl#> .\n@prefix dct: <http://purl.org/dc/terms/> .\n@prefix ns1: <rdf:> .\n@prefix ogcproc: <http://www.opengis.net/def/ogcapi/processes/> .\n@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] cwl:cwlVersion <file:///github/workspace/v1.2> ;\n    cwl:graph [ rdfs:label \"Process STAC Item\"^^xsd:string ;\n            dct:identifier <file:///github/workspace/clt> ;\n            ogcproc:input _:N78020cef75184d139bade65a0e05bffa ;\n            ogcproc:output _:N78b1baa316584a18b5657920b36129ad ;\n            cwl:baseCommand \"\\\"echo\\\"\"^^rdf:JSON ;\n            cwl:input _:N78020cef75184d139bade65a0e05bffa ;\n            cwl:output _:N78b1baa316584a18b5657920b36129ad ;\n            cwl:requirements [ cwl:types [ cwl:import <https://raw.githubusercontent.com/eoap/schemas/main/stac.yaml> ] ;\n                    ns1:type <file:///github/workspace/SchemaDefRequirement> ],\n                [ ns1:type <file:///github/workspace/InlineJavascriptRequirement> ] ;\n            cwl:stdout \"result.txt\"^^xsd:string ;\n            ns1:type <file:///github/workspace/CommandLineTool> ],\n        [ rdfs:label \"STAC Item Processing Workflow\"^^xsd:string ;\n            dct:identifier <file:///github/workspace/item-workflow> ;\n            ogcproc:input _:Nc14b3670ceaf4c26ba1f6d123c3851b0 ;\n            ogcproc:output _:N98e373180ea54c78bcc105bd510b3c56 ;\n            rdfs:comment \"Workflow that processes STAC Item input and generates output\"^^xsd:string ;\n            cwl:input _:Nc14b3670ceaf4c26ba1f6d123c3851b0 ;\n            cwl:output _:N98e373180ea54c78bcc105bd510b3c56 ;\n            cwl:requirements [ ns1:type <file:///github/workspace/InlineJavascriptRequirement> ],\n                [ cwl:types [ cwl:import <https://raw.githubusercontent.com/eoap/schemas/main/stac.yaml> ] ;\n                    ns1:type <file:///github/workspace/SchemaDefRequirement> ] ;\n            cwl:steps [ cwl:process_step [ cwl:in [ cwl:stac_item \"stac_item\" ] ;\n                            cwl:out ( \"result\" ) ;\n                            cwl:run <file:///github/workspace/#clt> ] ] ;\n            ns1:type <file:///github/workspace/Workflow> ] .\n\n_:N1cab67d67df9412a839381c97cc06b87 cwl:result [ cwl:type <file:///github/workspace/stdout> ] .\n\n_:N2ed8861608604a3580432d8698931578 cwl:stac_item [ rdfs:label \"STAC Item\"^^xsd:string ;\n            dct:format <https://www.iana.org/assignments/media-types/application/json> ;\n            ogcproc:schemaType \"object\"^^xsd:string ;\n            rdfs:comment \"STAC Item representing a geospatial asset\"^^xsd:string ;\n            rdfs:seeAlso <https://stacspec.org/#item-spec> ;\n            cwl:inputBinding [ cwl:valueFrom \"\"\"${\n  return \"STAC Item ID: \" + inputs.stac_item.id;\n}\n\"\"\"^^xsd:string ] ;\n            cwl:type <https://raw.githubusercontent.com/eoap/schemas/main/stac.yaml#Item> ] .\n\n_:N46517589c0a541ce9b1d074de6efa936 rdfs:label \"Process result\"^^xsd:string ;\n    dct:identifier <file:///github/workspace/result> ;\n    rdfs:comment \"Processed STAC Item information\"^^xsd:string ;\n    cwl:outputSource <file:///github/workspace/process_step/result> ;\n    cwl:type <file:///github/workspace/File> .\n\n_:Nac714017df834f139702b1fa1abd8dff rdfs:label \"STAC Item\"^^xsd:string ;\n    dct:format <https://www.iana.org/assignments/media-types/application/json> ;\n    dct:identifier <file:///github/workspace/stac_item> ;\n    ogcproc:schemaType \"object\"^^xsd:string ;\n    rdfs:comment \"STAC Item representing a geospatial asset\"^^xsd:string ;\n    rdfs:seeAlso <https://stacspec.org/#item-spec> ;\n    cwl:type <https://raw.githubusercontent.com/eoap/schemas/main/stac.yaml#Item> .\n\n_:N78020cef75184d139bade65a0e05bffa a ogcproc:InputDescription ;\n    rdf:first _:N2ed8861608604a3580432d8698931578 ;\n    rdf:rest () .\n\n_:N78b1baa316584a18b5657920b36129ad a ogcproc:OutputDescription ;\n    rdf:first _:N1cab67d67df9412a839381c97cc06b87 ;\n    rdf:rest () .\n\n_:N98e373180ea54c78bcc105bd510b3c56 a ogcproc:OutputDescription ;\n    rdf:first _:N46517589c0a541ce9b1d074de6efa936 ;\n    rdf:rest () .\n\n_:Nc14b3670ceaf4c26ba1f6d123c3851b0 a ogcproc:InputDescription ;\n    rdf:first _:Nac714017df834f139702b1fa1abd8dff ;\n    rdf:rest () .\n\n",
          "url": "https://geolabs.github.io/bblocks-eoap-cct/build/tests/cct/cwl-to-ogcprocess/example_3_2.ttl"
        }
      ]
    },
    {
      "title": "Water Bodies Detection Workflow",
      "description": "CWL packed workflow using standard CWL types (string, string[], Directory, File)",
      "snippets": [
        {
          "language": "yaml",
          "ref": "examples/water-bodies-workflow.cwl",
          "code": "cwlVersion: v1.0\n$namespaces:\n  s: https://schema.org/\ns:softwareVersion: 1.4.1\nschemas:\n  - http://schema.org/version/9.0/schemaorg-current-http.rdf\n$graph:\n  - class: Workflow\n    id: water-bodies\n    label: Water bodies detection based on NDWI and otsu threshold\n    doc: Water bodies detection based on NDWI and otsu threshold applied to Sentinel-2 COG STAC items\n    requirements:\n      - class: ScatterFeatureRequirement\n      - class: SubworkflowFeatureRequirement\n      - class: SchemaDefRequirement\n        types:\n        - $import: https://raw.githubusercontent.com/eoap/schemas/main/stac.yaml\n    inputs:\n      aoi:\n        label: area of interest\n        doc: area of interest as a bounding box\n        type: string\n      epsg:\n        label: EPSG code\n        doc: EPSG code\n        type: string\n        default: \"EPSG:4326\"\n      stac_items:\n        label: Sentinel-2 STAC items\n        doc: list of Sentinel-2 COG STAC items\n        type: string[]\n      bands:\n        label: bands used for the NDWI\n        doc: bands used for the NDWI\n        type: string[]\n        default: [\"green\", \"nir\"]\n    outputs:\n      - id: stac_catalog\n        outputSource:\n          - node_stac/stac_catalog\n        type: Directory\n    steps:\n      node_water_bodies:\n        run: \"#detect_water_body\"\n        in:\n          item: stac_items\n          aoi: aoi\n          epsg: epsg\n          bands: bands\n        out:\n          - detected_water_body\n        scatter: item\n        scatterMethod: dotproduct\n      node_stac:\n        run: \"#stac\"\n        in:\n          item: stac_items\n          rasters:\n            source: node_water_bodies/detected_water_body\n        out:\n          - stac_catalog\n  - class: Workflow\n    id: detect_water_body\n    label: Water body detection based on NDWI and otsu threshold\n    doc: Water body detection based on NDWI and otsu threshold\n    requirements:\n      - class: ScatterFeatureRequirement\n    inputs:\n      aoi:\n        doc: area of interest as a bounding box\n        type: string\n      epsg:\n        doc: EPSG code\n        type: string\n        default: \"EPSG:4326\"\n      bands:\n        doc: bands used for the NDWI\n        type: string[]\n      item:\n        doc: STAC item\n        type: string\n    outputs:\n      - id: detected_water_body\n        outputSource:\n          - node_otsu/binary_mask_item\n        type: File\n    steps:\n      node_crop:\n        run: \"#crop\"\n        in:\n          item: item\n          aoi: aoi\n          epsg: epsg\n          band: bands\n        out:\n          - cropped\n        scatter: band\n        scatterMethod: dotproduct\n      node_normalized_difference:\n        run: \"#norm_diff\"\n        in:\n          rasters:\n            source: node_crop/cropped\n        out:\n          - ndwi\n      node_otsu:\n        run: \"#otsu\"\n        in:\n          raster:\n            source: node_normalized_difference/ndwi\n        out:\n          - binary_mask_item\n  - class: CommandLineTool\n    id: crop\n    requirements:\n      InlineJavascriptRequirement: {}\n      EnvVarRequirement:\n        envDef:\n          PATH: /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n          PYTHONPATH: /app\n      ResourceRequirement:\n        coresMax: 1\n        ramMax: 512\n    hints:\n      DockerRequirement:\n        dockerPull: cr.terradue.com/earthquake-monitoring/crop:latest\n    baseCommand: [\"python\", \"-m\", \"app\"]\n    arguments: []\n    inputs:\n      item:\n        type: string\n        inputBinding:\n          prefix: --input-item\n      aoi:\n        type: string\n        inputBinding:\n          prefix: --aoi\n      epsg:\n        type: string\n        inputBinding:\n          prefix: --epsg\n      band:\n        type: string\n        inputBinding:\n          prefix: --band\n    outputs:\n      cropped:\n        outputBinding:\n          glob: '*.tif'\n        type: File\n  - class: CommandLineTool\n    id: norm_diff\n    requirements:\n      InlineJavascriptRequirement: {}\n      EnvVarRequirement:\n        envDef:\n          PATH: /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n          PYTHONPATH: /app\n      ResourceRequirement:\n        coresMax: 1\n        ramMax: 512\n    hints:\n      DockerRequirement:\n        dockerPull: cr.terradue.com/earthquake-monitoring/norm_diff:latest\n    baseCommand: [\"python\", \"-m\", \"app\"]\n    arguments: []\n    inputs:\n      rasters:\n        type: File[]\n        inputBinding:\n          position: 1\n    outputs:\n      ndwi:\n        outputBinding:\n          glob: '*.tif'\n        type: File\n  - class: CommandLineTool\n    id: otsu\n    requirements:\n      InlineJavascriptRequirement: {}\n      EnvVarRequirement:\n        envDef:\n          PATH: /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n          PYTHONPATH: /app\n      ResourceRequirement:\n        coresMax: 1\n        ramMax: 512\n    hints:\n      DockerRequirement:\n        dockerPull: cr.terradue.com/earthquake-monitoring/otsu:latest\n    baseCommand: [\"python\", \"-m\", \"app\"]\n    arguments: []\n    inputs:\n      raster:\n        type: File\n        inputBinding:\n          position: 1\n    outputs:\n      binary_mask_item:\n        outputBinding:\n          glob: '*.tif'\n        type: File\n  - class: CommandLineTool\n    id: stac\n    requirements:\n      InlineJavascriptRequirement: {}\n      EnvVarRequirement:\n        envDef:\n          PATH: /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n          PYTHONPATH: /app\n      ResourceRequirement:\n        coresMax: 1\n        ramMax: 512\n    hints:\n      DockerRequirement:\n        dockerPull: cr.terradue.com/earthquake-monitoring/stac:latest\n    baseCommand: [\"python\", \"-m\", \"app\"]\n    arguments: []\n    inputs:\n      item:\n        type:\n          type: array\n          items: string\n          inputBinding:\n            prefix: --input-item\n      rasters:\n        type:\n          type: array\n          items: File\n          inputBinding:\n            prefix: --water-body\n    outputs:\n      stac_catalog:\n        outputBinding:\n          glob: .\n        type: Directory\n",
          "url": "https://geolabs.github.io/bblocks-eoap-cct/build/tests/cct/cwl-to-ogcprocess/example_4_1.yaml"
        },
        {
          "language": "json",
          "ref": "examples/water-bodies-workflow.json",
          "code": "{\n  \"cwlVersion\": \"v1.0\",\n  \"$namespaces\": {\n    \"s\": \"https://schema.org/\"\n  },\n  \"s:softwareVersion\": \"1.4.1\",\n  \"schemas\": [\n    \"http://schema.org/version/9.0/schemaorg-current-http.rdf\"\n  ],\n  \"$graph\": [\n    {\n      \"class\": \"Workflow\",\n      \"id\": \"water-bodies\",\n      \"label\": \"Water bodies detection based on NDWI and otsu threshold\",\n      \"doc\": \"Water bodies detection based on NDWI and otsu threshold applied to Sentinel-2 COG STAC items\",\n      \"requirements\": [\n        {\n          \"class\": \"ScatterFeatureRequirement\"\n        },\n        {\n          \"class\": \"SubworkflowFeatureRequirement\"\n        },\n        {\n          \"class\": \"SchemaDefRequirement\",\n          \"types\": [\n            {\n              \"$import\": \"https://raw.githubusercontent.com/eoap/schemas/main/stac.yaml\"\n            }\n          ]\n        }\n      ],\n      \"inputs\": {\n        \"aoi\": {\n          \"label\": \"area of interest\",\n          \"doc\": \"area of interest as a bounding box\",\n          \"type\": \"string\"\n        },\n        \"epsg\": {\n          \"label\": \"EPSG code\",\n          \"doc\": \"EPSG code\",\n          \"type\": \"string\",\n          \"default\": \"EPSG:4326\"\n        },\n        \"stac_items\": {\n          \"label\": \"Sentinel-2 STAC items\",\n          \"doc\": \"list of Sentinel-2 COG STAC items\",\n          \"type\": \"string[]\"\n        },\n        \"bands\": {\n          \"label\": \"bands used for the NDWI\",\n          \"doc\": \"bands used for the NDWI\",\n          \"type\": \"string[]\",\n          \"default\": [\n            \"green\",\n            \"nir\"\n          ]\n        }\n      },\n      \"outputs\": [\n        {\n          \"id\": \"stac_catalog\",\n          \"outputSource\": [\n            \"node_stac/stac_catalog\"\n          ],\n          \"type\": \"Directory\"\n        }\n      ],\n      \"steps\": {\n        \"node_water_bodies\": {\n          \"run\": \"#detect_water_body\",\n          \"in\": {\n            \"item\": \"stac_items\",\n            \"aoi\": \"aoi\",\n            \"epsg\": \"epsg\",\n            \"bands\": \"bands\"\n          },\n          \"out\": [\n            \"detected_water_body\"\n          ],\n          \"scatter\": \"item\",\n          \"scatterMethod\": \"dotproduct\"\n        },\n        \"node_stac\": {\n          \"run\": \"#stac\",\n          \"in\": {\n            \"item\": \"stac_items\",\n            \"rasters\": {\n              \"source\": \"node_water_bodies/detected_water_body\"\n            }\n          },\n          \"out\": [\n            \"stac_catalog\"\n          ]\n        }\n      }\n    },\n    {\n      \"class\": \"Workflow\",\n      \"id\": \"detect_water_body\",\n      \"label\": \"Water body detection based on NDWI and otsu threshold\",\n      \"doc\": \"Water body detection based on NDWI and otsu threshold\",\n      \"requirements\": [\n        {\n          \"class\": \"ScatterFeatureRequirement\"\n        }\n      ],\n      \"inputs\": {\n        \"aoi\": {\n          \"doc\": \"area of interest as a bounding box\",\n          \"type\": \"string\"\n        },\n        \"epsg\": {\n          \"doc\": \"EPSG code\",\n          \"type\": \"string\",\n          \"default\": \"EPSG:4326\"\n        },\n        \"bands\": {\n          \"doc\": \"bands used for the NDWI\",\n          \"type\": \"string[]\"\n        },\n        \"item\": {\n          \"doc\": \"STAC item\",\n          \"type\": \"string\"\n        }\n      },\n      \"outputs\": [\n        {\n          \"id\": \"detected_water_body\",\n          \"outputSource\": [\n            \"node_otsu/binary_mask_item\"\n          ],\n          \"type\": \"File\"\n        }\n      ],\n      \"steps\": {\n        \"node_crop\": {\n          \"run\": \"#crop\",\n          \"in\": {\n            \"item\": \"item\",\n            \"aoi\": \"aoi\",\n            \"epsg\": \"epsg\",\n            \"band\": \"bands\"\n          },\n          \"out\": [\n            \"cropped\"\n          ],\n          \"scatter\": \"band\",\n          \"scatterMethod\": \"dotproduct\"\n        },\n        \"node_normalized_difference\": {\n          \"run\": \"#norm_diff\",\n          \"in\": {\n            \"rasters\": {\n              \"source\": \"node_crop/cropped\"\n            }\n          },\n          \"out\": [\n            \"ndwi\"\n          ]\n        },\n        \"node_otsu\": {\n          \"run\": \"#otsu\",\n          \"in\": {\n            \"raster\": {\n              \"source\": \"node_normalized_difference/ndwi\"\n            }\n          },\n          \"out\": [\n            \"binary_mask_item\"\n          ]\n        }\n      }\n    },\n    {\n      \"class\": \"CommandLineTool\",\n      \"id\": \"crop\",\n      \"requirements\": {\n        \"InlineJavascriptRequirement\": {},\n        \"EnvVarRequirement\": {\n          \"envDef\": {\n            \"PATH\": \"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\",\n            \"PYTHONPATH\": \"/app\"\n          }\n        },\n        \"ResourceRequirement\": {\n          \"coresMax\": 1,\n          \"ramMax\": 512\n        }\n      },\n      \"hints\": {\n        \"DockerRequirement\": {\n          \"dockerPull\": \"cr.terradue.com/earthquake-monitoring/crop:latest\"\n        }\n      },\n      \"baseCommand\": [\n        \"python\",\n        \"-m\",\n        \"app\"\n      ],\n      \"arguments\": [],\n      \"inputs\": {\n        \"item\": {\n          \"type\": \"string\",\n          \"inputBinding\": {\n            \"prefix\": \"--input-item\"\n          }\n        },\n        \"aoi\": {\n          \"type\": \"string\",\n          \"inputBinding\": {\n            \"prefix\": \"--aoi\"\n          }\n        },\n        \"epsg\": {\n          \"type\": \"string\",\n          \"inputBinding\": {\n            \"prefix\": \"--epsg\"\n          }\n        },\n        \"band\": {\n          \"type\": \"string\",\n          \"inputBinding\": {\n            \"prefix\": \"--band\"\n          }\n        }\n      },\n      \"outputs\": {\n        \"cropped\": {\n          \"outputBinding\": {\n            \"glob\": \"*.tif\"\n          },\n          \"type\": \"File\"\n        }\n      }\n    },\n    {\n      \"class\": \"CommandLineTool\",\n      \"id\": \"norm_diff\",\n      \"requirements\": {\n        \"InlineJavascriptRequirement\": {},\n        \"EnvVarRequirement\": {\n          \"envDef\": {\n            \"PATH\": \"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\",\n            \"PYTHONPATH\": \"/app\"\n          }\n        },\n        \"ResourceRequirement\": {\n          \"coresMax\": 1,\n          \"ramMax\": 512\n        }\n      },\n      \"hints\": {\n        \"DockerRequirement\": {\n          \"dockerPull\": \"cr.terradue.com/earthquake-monitoring/norm_diff:latest\"\n        }\n      },\n      \"baseCommand\": [\n        \"python\",\n        \"-m\",\n        \"app\"\n      ],\n      \"arguments\": [],\n      \"inputs\": {\n        \"rasters\": {\n          \"type\": \"File[]\",\n          \"inputBinding\": {\n            \"position\": 1\n          }\n        }\n      },\n      \"outputs\": {\n        \"ndwi\": {\n          \"outputBinding\": {\n            \"glob\": \"*.tif\"\n          },\n          \"type\": \"File\"\n        }\n      }\n    },\n    {\n      \"class\": \"CommandLineTool\",\n      \"id\": \"otsu\",\n      \"requirements\": {\n        \"InlineJavascriptRequirement\": {},\n        \"EnvVarRequirement\": {\n          \"envDef\": {\n            \"PATH\": \"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\",\n            \"PYTHONPATH\": \"/app\"\n          }\n        },\n        \"ResourceRequirement\": {\n          \"coresMax\": 1,\n          \"ramMax\": 512\n        }\n      },\n      \"hints\": {\n        \"DockerRequirement\": {\n          \"dockerPull\": \"cr.terradue.com/earthquake-monitoring/otsu:latest\"\n        }\n      },\n      \"baseCommand\": [\n        \"python\",\n        \"-m\",\n        \"app\"\n      ],\n      \"arguments\": [],\n      \"inputs\": {\n        \"raster\": {\n          \"type\": \"File\",\n          \"inputBinding\": {\n            \"position\": 1\n          }\n        }\n      },\n      \"outputs\": {\n        \"binary_mask_item\": {\n          \"outputBinding\": {\n            \"glob\": \"*.tif\"\n          },\n          \"type\": \"File\"\n        }\n      }\n    },\n    {\n      \"class\": \"CommandLineTool\",\n      \"id\": \"stac\",\n      \"requirements\": {\n        \"InlineJavascriptRequirement\": {},\n        \"EnvVarRequirement\": {\n          \"envDef\": {\n            \"PATH\": \"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\",\n            \"PYTHONPATH\": \"/app\"\n          }\n        },\n        \"ResourceRequirement\": {\n          \"coresMax\": 1,\n          \"ramMax\": 512\n        }\n      },\n      \"hints\": {\n        \"DockerRequirement\": {\n          \"dockerPull\": \"cr.terradue.com/earthquake-monitoring/stac:latest\"\n        }\n      },\n      \"baseCommand\": [\n        \"python\",\n        \"-m\",\n        \"app\"\n      ],\n      \"arguments\": [],\n      \"inputs\": {\n        \"item\": {\n          \"type\": {\n            \"type\": \"array\",\n            \"items\": \"string\",\n            \"inputBinding\": {\n              \"prefix\": \"--input-item\"\n            }\n          }\n        },\n        \"rasters\": {\n          \"type\": {\n            \"type\": \"array\",\n            \"items\": \"File\",\n            \"inputBinding\": {\n              \"prefix\": \"--water-body\"\n            }\n          }\n        }\n      },\n      \"outputs\": {\n        \"stac_catalog\": {\n          \"outputBinding\": {\n            \"glob\": \".\"\n          },\n          \"type\": \"Directory\"\n        }\n      }\n    }\n  ]\n}\n",
          "transformResults": {
            "cwl-to-ogcprocess": "https://geolabs.github.io/bblocks-eoap-cct/build/tests/cct/cwl-to-ogcprocess/transforms/example_4_2.cwl-to-ogcprocess.json",
            "cwl-to-ogcprocess-refs": "https://geolabs.github.io/bblocks-eoap-cct/build/tests/cct/cwl-to-ogcprocess/transforms/example_4_2.cwl-to-ogcprocess-refs.json"
          },
          "url": "https://geolabs.github.io/bblocks-eoap-cct/build/tests/cct/cwl-to-ogcprocess/example_4_2.json"
        },
        {
          "language": "jsonld",
          "code": "{\n  \"@context\": \"https://geolabs.github.io/bblocks-eoap-cct/build/annotated/cct/cwl-to-ogcprocess/context.jsonld\",\n  \"cwlVersion\": \"v1.0\",\n  \"$namespaces\": {\n    \"s\": \"https://schema.org/\"\n  },\n  \"s:softwareVersion\": \"1.4.1\",\n  \"schemas\": [\n    \"http://schema.org/version/9.0/schemaorg-current-http.rdf\"\n  ],\n  \"$graph\": [\n    {\n      \"class\": \"Workflow\",\n      \"id\": \"water-bodies\",\n      \"label\": \"Water bodies detection based on NDWI and otsu threshold\",\n      \"doc\": \"Water bodies detection based on NDWI and otsu threshold applied to Sentinel-2 COG STAC items\",\n      \"requirements\": [\n        {\n          \"class\": \"ScatterFeatureRequirement\"\n        },\n        {\n          \"class\": \"SubworkflowFeatureRequirement\"\n        },\n        {\n          \"class\": \"SchemaDefRequirement\",\n          \"types\": [\n            {\n              \"$import\": \"https://raw.githubusercontent.com/eoap/schemas/main/stac.yaml\"\n            }\n          ]\n        }\n      ],\n      \"inputs\": {\n        \"aoi\": {\n          \"label\": \"area of interest\",\n          \"doc\": \"area of interest as a bounding box\",\n          \"type\": \"string\"\n        },\n        \"epsg\": {\n          \"label\": \"EPSG code\",\n          \"doc\": \"EPSG code\",\n          \"type\": \"string\",\n          \"default\": \"EPSG:4326\"\n        },\n        \"stac_items\": {\n          \"label\": \"Sentinel-2 STAC items\",\n          \"doc\": \"list of Sentinel-2 COG STAC items\",\n          \"type\": \"string[]\"\n        },\n        \"bands\": {\n          \"label\": \"bands used for the NDWI\",\n          \"doc\": \"bands used for the NDWI\",\n          \"type\": \"string[]\",\n          \"default\": [\n            \"green\",\n            \"nir\"\n          ]\n        }\n      },\n      \"outputs\": [\n        {\n          \"id\": \"stac_catalog\",\n          \"outputSource\": [\n            \"node_stac/stac_catalog\"\n          ],\n          \"type\": \"Directory\"\n        }\n      ],\n      \"steps\": {\n        \"node_water_bodies\": {\n          \"run\": \"#detect_water_body\",\n          \"in\": {\n            \"item\": \"stac_items\",\n            \"aoi\": \"aoi\",\n            \"epsg\": \"epsg\",\n            \"bands\": \"bands\"\n          },\n          \"out\": [\n            \"detected_water_body\"\n          ],\n          \"scatter\": \"item\",\n          \"scatterMethod\": \"dotproduct\"\n        },\n        \"node_stac\": {\n          \"run\": \"#stac\",\n          \"in\": {\n            \"item\": \"stac_items\",\n            \"rasters\": {\n              \"source\": \"node_water_bodies/detected_water_body\"\n            }\n          },\n          \"out\": [\n            \"stac_catalog\"\n          ]\n        }\n      }\n    },\n    {\n      \"class\": \"Workflow\",\n      \"id\": \"detect_water_body\",\n      \"label\": \"Water body detection based on NDWI and otsu threshold\",\n      \"doc\": \"Water body detection based on NDWI and otsu threshold\",\n      \"requirements\": [\n        {\n          \"class\": \"ScatterFeatureRequirement\"\n        }\n      ],\n      \"inputs\": {\n        \"aoi\": {\n          \"doc\": \"area of interest as a bounding box\",\n          \"type\": \"string\"\n        },\n        \"epsg\": {\n          \"doc\": \"EPSG code\",\n          \"type\": \"string\",\n          \"default\": \"EPSG:4326\"\n        },\n        \"bands\": {\n          \"doc\": \"bands used for the NDWI\",\n          \"type\": \"string[]\"\n        },\n        \"item\": {\n          \"doc\": \"STAC item\",\n          \"type\": \"string\"\n        }\n      },\n      \"outputs\": [\n        {\n          \"id\": \"detected_water_body\",\n          \"outputSource\": [\n            \"node_otsu/binary_mask_item\"\n          ],\n          \"type\": \"File\"\n        }\n      ],\n      \"steps\": {\n        \"node_crop\": {\n          \"run\": \"#crop\",\n          \"in\": {\n            \"item\": \"item\",\n            \"aoi\": \"aoi\",\n            \"epsg\": \"epsg\",\n            \"band\": \"bands\"\n          },\n          \"out\": [\n            \"cropped\"\n          ],\n          \"scatter\": \"band\",\n          \"scatterMethod\": \"dotproduct\"\n        },\n        \"node_normalized_difference\": {\n          \"run\": \"#norm_diff\",\n          \"in\": {\n            \"rasters\": {\n              \"source\": \"node_crop/cropped\"\n            }\n          },\n          \"out\": [\n            \"ndwi\"\n          ]\n        },\n        \"node_otsu\": {\n          \"run\": \"#otsu\",\n          \"in\": {\n            \"raster\": {\n              \"source\": \"node_normalized_difference/ndwi\"\n            }\n          },\n          \"out\": [\n            \"binary_mask_item\"\n          ]\n        }\n      }\n    },\n    {\n      \"class\": \"CommandLineTool\",\n      \"id\": \"crop\",\n      \"requirements\": {\n        \"InlineJavascriptRequirement\": {},\n        \"EnvVarRequirement\": {\n          \"envDef\": {\n            \"PATH\": \"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\",\n            \"PYTHONPATH\": \"/app\"\n          }\n        },\n        \"ResourceRequirement\": {\n          \"coresMax\": 1,\n          \"ramMax\": 512\n        }\n      },\n      \"hints\": {\n        \"DockerRequirement\": {\n          \"dockerPull\": \"cr.terradue.com/earthquake-monitoring/crop:latest\"\n        }\n      },\n      \"baseCommand\": [\n        \"python\",\n        \"-m\",\n        \"app\"\n      ],\n      \"arguments\": [],\n      \"inputs\": {\n        \"item\": {\n          \"type\": \"string\",\n          \"inputBinding\": {\n            \"prefix\": \"--input-item\"\n          }\n        },\n        \"aoi\": {\n          \"type\": \"string\",\n          \"inputBinding\": {\n            \"prefix\": \"--aoi\"\n          }\n        },\n        \"epsg\": {\n          \"type\": \"string\",\n          \"inputBinding\": {\n            \"prefix\": \"--epsg\"\n          }\n        },\n        \"band\": {\n          \"type\": \"string\",\n          \"inputBinding\": {\n            \"prefix\": \"--band\"\n          }\n        }\n      },\n      \"outputs\": {\n        \"cropped\": {\n          \"outputBinding\": {\n            \"glob\": \"*.tif\"\n          },\n          \"type\": \"File\"\n        }\n      }\n    },\n    {\n      \"class\": \"CommandLineTool\",\n      \"id\": \"norm_diff\",\n      \"requirements\": {\n        \"InlineJavascriptRequirement\": {},\n        \"EnvVarRequirement\": {\n          \"envDef\": {\n            \"PATH\": \"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\",\n            \"PYTHONPATH\": \"/app\"\n          }\n        },\n        \"ResourceRequirement\": {\n          \"coresMax\": 1,\n          \"ramMax\": 512\n        }\n      },\n      \"hints\": {\n        \"DockerRequirement\": {\n          \"dockerPull\": \"cr.terradue.com/earthquake-monitoring/norm_diff:latest\"\n        }\n      },\n      \"baseCommand\": [\n        \"python\",\n        \"-m\",\n        \"app\"\n      ],\n      \"arguments\": [],\n      \"inputs\": {\n        \"rasters\": {\n          \"type\": \"File[]\",\n          \"inputBinding\": {\n            \"position\": 1\n          }\n        }\n      },\n      \"outputs\": {\n        \"ndwi\": {\n          \"outputBinding\": {\n            \"glob\": \"*.tif\"\n          },\n          \"type\": \"File\"\n        }\n      }\n    },\n    {\n      \"class\": \"CommandLineTool\",\n      \"id\": \"otsu\",\n      \"requirements\": {\n        \"InlineJavascriptRequirement\": {},\n        \"EnvVarRequirement\": {\n          \"envDef\": {\n            \"PATH\": \"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\",\n            \"PYTHONPATH\": \"/app\"\n          }\n        },\n        \"ResourceRequirement\": {\n          \"coresMax\": 1,\n          \"ramMax\": 512\n        }\n      },\n      \"hints\": {\n        \"DockerRequirement\": {\n          \"dockerPull\": \"cr.terradue.com/earthquake-monitoring/otsu:latest\"\n        }\n      },\n      \"baseCommand\": [\n        \"python\",\n        \"-m\",\n        \"app\"\n      ],\n      \"arguments\": [],\n      \"inputs\": {\n        \"raster\": {\n          \"type\": \"File\",\n          \"inputBinding\": {\n            \"position\": 1\n          }\n        }\n      },\n      \"outputs\": {\n        \"binary_mask_item\": {\n          \"outputBinding\": {\n            \"glob\": \"*.tif\"\n          },\n          \"type\": \"File\"\n        }\n      }\n    },\n    {\n      \"class\": \"CommandLineTool\",\n      \"id\": \"stac\",\n      \"requirements\": {\n        \"InlineJavascriptRequirement\": {},\n        \"EnvVarRequirement\": {\n          \"envDef\": {\n            \"PATH\": \"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\",\n            \"PYTHONPATH\": \"/app\"\n          }\n        },\n        \"ResourceRequirement\": {\n          \"coresMax\": 1,\n          \"ramMax\": 512\n        }\n      },\n      \"hints\": {\n        \"DockerRequirement\": {\n          \"dockerPull\": \"cr.terradue.com/earthquake-monitoring/stac:latest\"\n        }\n      },\n      \"baseCommand\": [\n        \"python\",\n        \"-m\",\n        \"app\"\n      ],\n      \"arguments\": [],\n      \"inputs\": {\n        \"item\": {\n          \"type\": {\n            \"type\": \"array\",\n            \"items\": \"string\",\n            \"inputBinding\": {\n              \"prefix\": \"--input-item\"\n            }\n          }\n        },\n        \"rasters\": {\n          \"type\": {\n            \"type\": \"array\",\n            \"items\": \"File\",\n            \"inputBinding\": {\n              \"prefix\": \"--water-body\"\n            }\n          }\n        }\n      },\n      \"outputs\": {\n        \"stac_catalog\": {\n          \"outputBinding\": {\n            \"glob\": \".\"\n          },\n          \"type\": \"Directory\"\n        }\n      }\n    }\n  ]\n}",
          "url": "https://geolabs.github.io/bblocks-eoap-cct/build/tests/cct/cwl-to-ogcprocess/example_4_2.jsonld"
        },
        {
          "language": "ttl",
          "code": "@prefix cwl: <https://w3id.org/cwl/cwl#> .\n@prefix dct: <http://purl.org/dc/terms/> .\n@prefix ns1: <rdf:> .\n@prefix ns2: <s:> .\n@prefix ogcproc: <http://www.opengis.net/def/ogcapi/processes/> .\n@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] cwl:cwlVersion <file:///github/workspace/v1.0> ;\n    cwl:graph [ rdfs:label \"Water body detection based on NDWI and otsu threshold\"^^xsd:string ;\n            dct:identifier <file:///github/workspace/detect_water_body> ;\n            ogcproc:input _:N3917e8f248c5418eb7864d4f71368d3d ;\n            ogcproc:output _:N7969cf65452447af86c1cba27685f88c ;\n            rdfs:comment \"Water body detection based on NDWI and otsu threshold\"^^xsd:string ;\n            cwl:input _:N3917e8f248c5418eb7864d4f71368d3d ;\n            cwl:output _:N7969cf65452447af86c1cba27685f88c ;\n            cwl:requirements [ ns1:type <file:///github/workspace/ScatterFeatureRequirement> ] ;\n            cwl:steps [ cwl:node_crop [ cwl:in [ cwl:aoi \"aoi\" ;\n                                    cwl:band \"bands\" ;\n                                    cwl:epsg \"epsg\" ;\n                                    cwl:item \"item\" ] ;\n                            cwl:out ( \"cropped\" ) ;\n                            cwl:run <file:///github/workspace/#crop> ;\n                            cwl:scatter ( \"band\" ) ;\n                            cwl:scatterMethod <file:///github/workspace/dotproduct> ] ;\n                    cwl:node_normalized_difference [ cwl:in [ cwl:rasters [ cwl:source <file:///github/workspace/node_crop/cropped> ] ] ;\n                            cwl:out ( \"ndwi\" ) ;\n                            cwl:run <file:///github/workspace/#norm_diff> ] ;\n                    cwl:node_otsu [ cwl:in [ cwl:raster [ cwl:source <file:///github/workspace/node_normalized_difference/ndwi> ] ] ;\n                            cwl:out ( \"binary_mask_item\" ) ;\n                            cwl:run <file:///github/workspace/#otsu> ] ] ;\n            ns1:type <file:///github/workspace/Workflow> ],\n        [ rdfs:label \"Water bodies detection based on NDWI and otsu threshold\"^^xsd:string ;\n            dct:identifier <file:///github/workspace/water-bodies> ;\n            ogcproc:input _:Ne23ed50c61594efaab050d226ecbbba6 ;\n            ogcproc:output _:N80f430af93e5496d8294357289e0543f ;\n            rdfs:comment \"Water bodies detection based on NDWI and otsu threshold applied to Sentinel-2 COG STAC items\"^^xsd:string ;\n            cwl:input _:Ne23ed50c61594efaab050d226ecbbba6 ;\n            cwl:output _:N80f430af93e5496d8294357289e0543f ;\n            cwl:requirements [ ns1:type <file:///github/workspace/ScatterFeatureRequirement> ],\n                [ cwl:types [ cwl:import <https://raw.githubusercontent.com/eoap/schemas/main/stac.yaml> ] ;\n                    ns1:type <file:///github/workspace/SchemaDefRequirement> ],\n                [ ns1:type <file:///github/workspace/SubworkflowFeatureRequirement> ] ;\n            cwl:steps [ cwl:node_stac [ cwl:in [ cwl:item \"stac_items\" ;\n                                    cwl:rasters [ cwl:source <file:///github/workspace/node_water_bodies/detected_water_body> ] ] ;\n                            cwl:out ( \"stac_catalog\" ) ;\n                            cwl:run <file:///github/workspace/#stac> ] ;\n                    cwl:node_water_bodies [ cwl:in [ cwl:aoi \"aoi\" ;\n                                    cwl:bands \"bands\" ;\n                                    cwl:epsg \"epsg\" ;\n                                    cwl:item \"stac_items\" ] ;\n                            cwl:out ( \"detected_water_body\" ) ;\n                            cwl:run <file:///github/workspace/#detect_water_body> ;\n                            cwl:scatter ( \"item\" ) ;\n                            cwl:scatterMethod <file:///github/workspace/dotproduct> ] ] ;\n            ns1:type <file:///github/workspace/Workflow> ],\n        [ dct:identifier <file:///github/workspace/otsu> ;\n            ogcproc:input _:Naa397ebf3abc46f8a4485340f7dd57f6 ;\n            ogcproc:output _:Nb099e2757de14741bfdc048b07bfcc70 ;\n            cwl:arguments () ;\n            cwl:baseCommand \"[\\\"python\\\",\\\"-m\\\",\\\"app\\\"]\"^^rdf:JSON ;\n            cwl:hints [ cwl:DockerRequirement [ cwl:dockerPull \"cr.terradue.com/earthquake-monitoring/otsu:latest\"^^xsd:string ] ] ;\n            cwl:input _:Naa397ebf3abc46f8a4485340f7dd57f6 ;\n            cwl:output _:Nb099e2757de14741bfdc048b07bfcc70 ;\n            cwl:requirements [ cwl:EnvVarRequirement [ cwl:envDef [ cwl:PATH \"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\" ;\n                                    cwl:PYTHONPATH \"/app\" ] ] ;\n                    cwl:InlineJavascriptRequirement [ ] ;\n                    cwl:ResourceRequirement [ cwl:coresMax 1 ;\n                            cwl:ramMax 512 ] ] ;\n            ns1:type <file:///github/workspace/CommandLineTool> ],\n        [ dct:identifier <file:///github/workspace/stac> ;\n            ogcproc:input _:Ne03905699a1845309d9ffce193e3e3dc ;\n            ogcproc:output _:Nbfc43a54839845b6bf123d8e43291b65 ;\n            cwl:arguments () ;\n            cwl:baseCommand \"[\\\"python\\\",\\\"-m\\\",\\\"app\\\"]\"^^rdf:JSON ;\n            cwl:hints [ cwl:DockerRequirement [ cwl:dockerPull \"cr.terradue.com/earthquake-monitoring/stac:latest\"^^xsd:string ] ] ;\n            cwl:input _:Ne03905699a1845309d9ffce193e3e3dc ;\n            cwl:output _:Nbfc43a54839845b6bf123d8e43291b65 ;\n            cwl:requirements [ cwl:EnvVarRequirement [ cwl:envDef [ cwl:PATH \"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\" ;\n                                    cwl:PYTHONPATH \"/app\" ] ] ;\n                    cwl:InlineJavascriptRequirement [ ] ;\n                    cwl:ResourceRequirement [ cwl:coresMax 1 ;\n                            cwl:ramMax 512 ] ] ;\n            ns1:type <file:///github/workspace/CommandLineTool> ],\n        [ dct:identifier <file:///github/workspace/norm_diff> ;\n            ogcproc:input _:N19a81b482c974c198cbe57ff263260e1 ;\n            ogcproc:output _:N1a238dddcd7b410088e70f7a88b40ee7 ;\n            cwl:arguments () ;\n            cwl:baseCommand \"[\\\"python\\\",\\\"-m\\\",\\\"app\\\"]\"^^rdf:JSON ;\n            cwl:hints [ cwl:DockerRequirement [ cwl:dockerPull \"cr.terradue.com/earthquake-monitoring/norm_diff:latest\"^^xsd:string ] ] ;\n            cwl:input _:N19a81b482c974c198cbe57ff263260e1 ;\n            cwl:output _:N1a238dddcd7b410088e70f7a88b40ee7 ;\n            cwl:requirements [ cwl:EnvVarRequirement [ cwl:envDef [ cwl:PATH \"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\" ;\n                                    cwl:PYTHONPATH \"/app\" ] ] ;\n                    cwl:InlineJavascriptRequirement [ ] ;\n                    cwl:ResourceRequirement [ cwl:coresMax 1 ;\n                            cwl:ramMax 512 ] ] ;\n            ns1:type <file:///github/workspace/CommandLineTool> ],\n        [ dct:identifier <file:///github/workspace/crop> ;\n            ogcproc:input _:N456679cb776f4915b3ab641a4ac169d8 ;\n            ogcproc:output _:N6af66f4e61ad4b3ca8e9b55f6542adb2 ;\n            cwl:arguments () ;\n            cwl:baseCommand \"[\\\"python\\\",\\\"-m\\\",\\\"app\\\"]\"^^rdf:JSON ;\n            cwl:hints [ cwl:DockerRequirement [ cwl:dockerPull \"cr.terradue.com/earthquake-monitoring/crop:latest\"^^xsd:string ] ] ;\n            cwl:input _:N456679cb776f4915b3ab641a4ac169d8 ;\n            cwl:output _:N6af66f4e61ad4b3ca8e9b55f6542adb2 ;\n            cwl:requirements [ cwl:EnvVarRequirement [ cwl:envDef [ cwl:PATH \"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\" ;\n                                    cwl:PYTHONPATH \"/app\" ] ] ;\n                    cwl:InlineJavascriptRequirement [ ] ;\n                    cwl:ResourceRequirement [ cwl:coresMax 1 ;\n                            cwl:ramMax 512 ] ] ;\n            ns1:type <file:///github/workspace/CommandLineTool> ] ;\n    cwl:namespaces \"{\\\"s\\\":\\\"https://schema.org/\\\"}\"^^rdf:JSON ;\n    cwl:schemas \"http://schema.org/version/9.0/schemaorg-current-http.rdf\" ;\n    ns2:softwareVersion \"1.4.1\" .\n\n_:N01780a006f644b5da0e7d6b738a57718 rdfs:comment \"EPSG code\"^^xsd:string ;\n    cwl:default \"\\\"EPSG:4326\\\"\"^^rdf:JSON ;\n    cwl:type <file:///github/workspace/string> .\n\n_:N01dff208193d48ffb4c2c5628ae8c3d3 cwl:inputBinding [ cwl:prefix \"--input-item\"^^xsd:string ] ;\n    cwl:items <file:///github/workspace/string> ;\n    cwl:type <file:///github/workspace/array> .\n\n_:N026e90b0e07f4bceb65a0aac797d5a30 cwl:rasters [ cwl:inputBinding [ cwl:position \"1\"^^xsd:int ] ;\n            cwl:type <file:///github/workspace/File[]> ] .\n\n_:N06fb16c394de4db583aef34e16d9b45c cwl:glob \"*.tif\"^^xsd:string .\n\n_:N0c2e421ad5aa4c1585f8c2b13d916bc5 rdfs:label \"bands used for the NDWI\"^^xsd:string ;\n    rdfs:comment \"bands used for the NDWI\"^^xsd:string ;\n    cwl:default \"[\\\"green\\\",\\\"nir\\\"]\"^^rdf:JSON ;\n    cwl:type <file:///github/workspace/string[]> .\n\n_:N1353631f048045d1ae4232e64a65a9f9 cwl:stac_catalog [ cwl:outputBinding [ cwl:glob \".\"^^xsd:string ] ;\n            cwl:type <file:///github/workspace/Directory> ] .\n\n_:N16b35f79369e4213b4e12f6fb9b77582 cwl:glob \"*.tif\"^^xsd:string .\n\n_:N173a4fd6d5e048cc80ab6f02935ebf03 rdfs:comment \"bands used for the NDWI\"^^xsd:string ;\n    cwl:type <file:///github/workspace/string[]> .\n\n_:N18bc00985fc74c53b9ada473dee7f020 cwl:outputBinding _:N06fb16c394de4db583aef34e16d9b45c ;\n    cwl:type <file:///github/workspace/File> .\n\n_:N19eca5e9997e4aee99f82add07432d6e cwl:binary_mask_item [ cwl:outputBinding _:N16b35f79369e4213b4e12f6fb9b77582 ;\n            cwl:type <file:///github/workspace/File> ] .\n\n_:N1d2f3176f8d147b4964b88ee5f9516c1 cwl:inputBinding [ cwl:prefix \"--epsg\"^^xsd:string ] ;\n    cwl:type <file:///github/workspace/string> .\n\n_:N207055ce8c874a4aa3b56d0364b505cd cwl:inputBinding [ cwl:prefix \"--water-body\"^^xsd:string ] ;\n    cwl:items <file:///github/workspace/File> ;\n    cwl:type <file:///github/workspace/array> .\n\n_:N29951b65ed844f95a5be8851e463d030 cwl:raster [ cwl:inputBinding [ cwl:position \"1\"^^xsd:int ] ;\n            cwl:type <file:///github/workspace/File> ] .\n\n_:N3054afbeb39d43ccbbc5caa7f6989072 rdfs:label \"EPSG code\"^^xsd:string ;\n    rdfs:comment \"EPSG code\"^^xsd:string ;\n    cwl:default \"\\\"EPSG:4326\\\"\"^^rdf:JSON ;\n    cwl:type <file:///github/workspace/string> .\n\n_:N392dc008c73f4b30a922a3ff71ca20a0 cwl:inputBinding [ cwl:prefix \"--aoi\"^^xsd:string ] ;\n    cwl:type <file:///github/workspace/string> .\n\n_:N392e9ef604a649878729b559437e6222 cwl:type _:N207055ce8c874a4aa3b56d0364b505cd .\n\n_:N3ac5ee6a1c6f4c2bb89fdd98885414ec cwl:aoi [ rdfs:label \"area of interest\"^^xsd:string ;\n            rdfs:comment \"area of interest as a bounding box\"^^xsd:string ;\n            cwl:type <file:///github/workspace/string> ] ;\n    cwl:bands _:N0c2e421ad5aa4c1585f8c2b13d916bc5 ;\n    cwl:epsg _:N3054afbeb39d43ccbbc5caa7f6989072 ;\n    cwl:stac_items [ rdfs:label \"Sentinel-2 STAC items\"^^xsd:string ;\n            rdfs:comment \"list of Sentinel-2 COG STAC items\"^^xsd:string ;\n            cwl:type <file:///github/workspace/string[]> ] .\n\n_:N40320750b1334d03b7215c3aeb519dec dct:identifier <file:///github/workspace/detected_water_body> ;\n    cwl:outputSource <file:///github/workspace/node_otsu/binary_mask_item> ;\n    cwl:type <file:///github/workspace/File> .\n\n_:N4465ea05b0034674a5cb3daa9bd19a81 cwl:outputBinding [ cwl:glob \"*.tif\"^^xsd:string ] ;\n    cwl:type <file:///github/workspace/File> .\n\n_:N4fb355739b35490e9888501963923e28 cwl:inputBinding [ cwl:prefix \"--input-item\"^^xsd:string ] ;\n    cwl:type <file:///github/workspace/string> .\n\n_:N585092e5a09f43659be856f3a40871b8 cwl:item [ cwl:type _:N01dff208193d48ffb4c2c5628ae8c3d3 ] ;\n    cwl:rasters _:N392e9ef604a649878729b559437e6222 .\n\n_:N6ecdc2bc0059425d9bcacb9f2b939c1e cwl:ndwi _:N18bc00985fc74c53b9ada473dee7f020 .\n\n_:N9999555f4af64e2b81a8c6287dc40dcc cwl:aoi _:N392dc008c73f4b30a922a3ff71ca20a0 ;\n    cwl:band [ cwl:inputBinding [ cwl:prefix \"--band\"^^xsd:string ] ;\n            cwl:type <file:///github/workspace/string> ] ;\n    cwl:epsg _:N1d2f3176f8d147b4964b88ee5f9516c1 ;\n    cwl:item _:N4fb355739b35490e9888501963923e28 .\n\n_:N9f577632be544fa28ee5c078e5604170 dct:identifier <file:///github/workspace/stac_catalog> ;\n    cwl:outputSource <file:///github/workspace/node_stac/stac_catalog> ;\n    cwl:type <file:///github/workspace/Directory> .\n\n_:Na011951a30954578b0936e1f0d64574e cwl:aoi [ rdfs:comment \"area of interest as a bounding box\"^^xsd:string ;\n            cwl:type <file:///github/workspace/string> ] ;\n    cwl:bands _:N173a4fd6d5e048cc80ab6f02935ebf03 ;\n    cwl:epsg _:N01780a006f644b5da0e7d6b738a57718 ;\n    cwl:item [ rdfs:comment \"STAC item\"^^xsd:string ;\n            cwl:type <file:///github/workspace/string> ] .\n\n_:Nd310422558844bbcaa87979859eb597b cwl:cropped _:N4465ea05b0034674a5cb3daa9bd19a81 .\n\n_:N19a81b482c974c198cbe57ff263260e1 a ogcproc:InputDescription ;\n    rdf:first _:N026e90b0e07f4bceb65a0aac797d5a30 ;\n    rdf:rest () .\n\n_:N1a238dddcd7b410088e70f7a88b40ee7 a ogcproc:OutputDescription ;\n    rdf:first _:N6ecdc2bc0059425d9bcacb9f2b939c1e ;\n    rdf:rest () .\n\n_:N3917e8f248c5418eb7864d4f71368d3d a ogcproc:InputDescription ;\n    rdf:first _:Na011951a30954578b0936e1f0d64574e ;\n    rdf:rest () .\n\n_:N456679cb776f4915b3ab641a4ac169d8 a ogcproc:InputDescription ;\n    rdf:first _:N9999555f4af64e2b81a8c6287dc40dcc ;\n    rdf:rest () .\n\n_:N6af66f4e61ad4b3ca8e9b55f6542adb2 a ogcproc:OutputDescription ;\n    rdf:first _:Nd310422558844bbcaa87979859eb597b ;\n    rdf:rest () .\n\n_:N7969cf65452447af86c1cba27685f88c a ogcproc:OutputDescription ;\n    rdf:first _:N40320750b1334d03b7215c3aeb519dec ;\n    rdf:rest () .\n\n_:N80f430af93e5496d8294357289e0543f a ogcproc:OutputDescription ;\n    rdf:first _:N9f577632be544fa28ee5c078e5604170 ;\n    rdf:rest () .\n\n_:Naa397ebf3abc46f8a4485340f7dd57f6 a ogcproc:InputDescription ;\n    rdf:first _:N29951b65ed844f95a5be8851e463d030 ;\n    rdf:rest () .\n\n_:Nb099e2757de14741bfdc048b07bfcc70 a ogcproc:OutputDescription ;\n    rdf:first _:N19eca5e9997e4aee99f82add07432d6e ;\n    rdf:rest () .\n\n_:Nbfc43a54839845b6bf123d8e43291b65 a ogcproc:OutputDescription ;\n    rdf:first _:N1353631f048045d1ae4232e64a65a9f9 ;\n    rdf:rest () .\n\n_:Ne03905699a1845309d9ffce193e3e3dc a ogcproc:InputDescription ;\n    rdf:first _:N585092e5a09f43659be856f3a40871b8 ;\n    rdf:rest () .\n\n_:Ne23ed50c61594efaab050d226ecbbba6 a ogcproc:InputDescription ;\n    rdf:first _:N3ac5ee6a1c6f4c2bb89fdd98885414ec ;\n    rdf:rest () .\n\n",
          "url": "https://geolabs.github.io/bblocks-eoap-cct/build/tests/cct/cwl-to-ogcprocess/example_4_2.ttl"
        }
      ]
    },
    {
      "title": "Mangrove Workflow OSPD 2025",
      "description": "CWL packed workflow using standard CWL types (string, string[], Directory, File)",
      "snippets": [
        {
          "language": "yaml",
          "ref": "examples/mangrove-workflow.cwl",
          "code": "#!/usr/bin/env cwl-runner\n\n$graph:\n\n  - class: CommandLineTool\n    id: parse_aoi\n    baseCommand: echo\n    arguments:\n    - --\n    requirements:\n      InlineJavascriptRequirement: {}\n      SchemaDefRequirement:\n        types:\n          - $import: https://raw.githubusercontent.com/eoap/schemas/main/ogc.yaml\n      ResourceRequirement:\n        coresMax: 1\n        ramMax: 512\n\n    hints:\n      DockerRequirement:\n        dockerPull: alpine:3.22.2\n\n    inputs:\n      aoi:\n        type: https://raw.githubusercontent.com/eoap/schemas/main/ogc.yaml#BBox\n        label: \"Area of interest\"\n        doc: \"Area of interest defined as a bounding box\"\n    outputs:\n      west:\n        type: float\n        outputBinding:\n          outputEval: $(inputs.aoi.bbox[0])\n      south:\n        type: float\n        outputBinding:\n          outputEval: $(inputs.aoi.bbox[1])\n      east:\n        type: float\n        outputBinding:\n          outputEval: $(inputs.aoi.bbox[2])\n      north:\n        type: float\n        outputBinding:\n          outputEval: $(inputs.aoi.bbox[3])\n      output_dir:\n        type: string\n        outputBinding:\n          outputEval: $(\"outputs\")\n\n  - class: Workflow\n    id: mangrove-workflow\n    label: Mangrove Biomass Workflow\n    doc: |\n      Workflow for Mangrove Biomass Analysis\n        \n      This workflow orchestrates the mangrove biomass estimation process using\n      Sentinel-2 imagery. It wraps the mangrove_workflow.cwl tool to provide\n      a reusable workflow for analyzing different study areas.\n    requirements:\n      StepInputExpressionRequirement: {}\n      ScatterFeatureRequirement: {}\n      SubworkflowFeatureRequirement: {}\n      InlineJavascriptRequirement: {}\n      SchemaDefRequirement:\n        types:\n          - $import: https://raw.githubusercontent.com/eoap/schemas/main/ogc.yaml\n          - $import: https://raw.githubusercontent.com/eoap/schemas/main/stac.yaml\n    inputs:\n      cloud_cover_max:\n        label: Maximum Cloud Cover\n        doc: Maximum acceptable cloud cover percentage (0-100)\n        type: float\n      days_back:\n        label: Days Back\n        doc: Number of days to search backwards from current date\n        type: int\n      aoi:\n        label: Area of Interest\n        doc: Area of interest as a bounding box\n        type: https://raw.githubusercontent.com/eoap/schemas/main/ogc.yaml#BBox\n\n    outputs:\n      stac:\n        type: Directory\n        outputSource:\n          - step_1/result\n    steps:\n      parse_aoi:\n        run: '#parse_aoi'\n        in:\n          aoi: aoi\n        out:\n          - west\n          - south\n          - east\n          - north\n          - output_dir\n      step_1:\n        in:\n          cloud_cover_max: cloud_cover_max\n          days_back: days_back\n          south: parse_aoi/south\n          west: parse_aoi/west\n          east: parse_aoi/east\n          north: parse_aoi/north\n          output_dir: parse_aoi/output_dir\n        run: '#mangrove_cli'\n        out:\n          - result\n\n  # The content below defines the mangrove_cli CommandLineTool\n  # It results from the mangrove_workflow_for_cwl.cwl jupyter \n  # notebook conversion using the ipython2cwl tool.\n  - id: mangrove_cli\n    arguments:\n    - --\n    baseCommand: /app/cwl/bin/mangrove_workflow_for_cwl\n    class: CommandLineTool\n    requirements:\n      InlineJavascriptRequirement: {}\n      ResourceRequirement:\n        coresMax: 1\n        ramMax: 512\n\n    hints:\n      DockerRequirement:\n        dockerPull: ghcr.io/geolabs/kindgrove/mangrove-cwl:v0.0.1-rc7\n\n    inputs:\n      cloud_cover_max:\n        inputBinding:\n          prefix: --cloud_cover_max\n        type: float\n      days_back:\n        inputBinding:\n          prefix: --days_back\n        type: int\n      east:\n        inputBinding: \n          prefix: --east\n        type: float\n      north:\n        inputBinding:\n          prefix: --north\n        type: float\n      south:\n        inputBinding:\n          prefix: --south\n        type: float\n      west:\n        inputBinding:\n          prefix: --west\n        type: float\n      output_dir:\n        inputBinding:\n          prefix: --output_dir\n        type: string\n    outputs:\n      result:\n        type: Directory\n        outputBinding:\n          glob: outputs\n\n$namespaces:\n  s: https://schema.org/\ncwlVersion: v1.0\ns:softwareVersion: 0.0.1\n\ns:author:\n  - class: s:Person\n    s:name: Cameron Sajedi\n\ns:contributor:\n  - class: s:Person\n    s:name: G\u00e9rald Fenoy\n    s:identifier: \"https://orcid.org/0000-0002-9617-8641\"\n\ns:keywords:\n  - OSPD\n  - mangrove\n  - biomass\n\ns:codeRepository: \"https://github.com/starling-foundries/KindGrove\"\ns:license: \"https://github.com/starling-foundries/KindGrove?tab=MIT-1-ov-file#readme\"\n\nschemas:\n- http://schema.org/version/9.0/schemaorg-current-http.rdf",
          "url": "https://geolabs.github.io/bblocks-eoap-cct/build/tests/cct/cwl-to-ogcprocess/example_5_1.yaml"
        },
        {
          "language": "json",
          "ref": "examples/mangrove-workflow.json",
          "code": "{\n  \"$graph\": [\n    {\n      \"class\": \"CommandLineTool\",\n      \"id\": \"parse_aoi\",\n      \"baseCommand\": \"echo\",\n      \"arguments\": [\n        \"--\"\n      ],\n      \"requirements\": {\n        \"InlineJavascriptRequirement\": {},\n        \"SchemaDefRequirement\": {\n          \"types\": [\n            {\n              \"$import\": \"https://raw.githubusercontent.com/eoap/schemas/main/ogc.yaml\"\n            }\n          ]\n        },\n        \"ResourceRequirement\": {\n          \"coresMax\": 1,\n          \"ramMax\": 512\n        }\n      },\n      \"hints\": {\n        \"DockerRequirement\": {\n          \"dockerPull\": \"alpine:3.22.2\"\n        }\n      },\n      \"inputs\": {\n        \"aoi\": {\n          \"type\": \"https://raw.githubusercontent.com/eoap/schemas/main/ogc.yaml#BBox\",\n          \"label\": \"Area of interest\",\n          \"doc\": \"Area of interest defined as a bounding box\"\n        }\n      },\n      \"outputs\": {\n        \"west\": {\n          \"type\": \"float\",\n          \"outputBinding\": {\n            \"outputEval\": \"$(inputs.aoi.bbox[0])\"\n          }\n        },\n        \"south\": {\n          \"type\": \"float\",\n          \"outputBinding\": {\n            \"outputEval\": \"$(inputs.aoi.bbox[1])\"\n          }\n        },\n        \"east\": {\n          \"type\": \"float\",\n          \"outputBinding\": {\n            \"outputEval\": \"$(inputs.aoi.bbox[2])\"\n          }\n        },\n        \"north\": {\n          \"type\": \"float\",\n          \"outputBinding\": {\n            \"outputEval\": \"$(inputs.aoi.bbox[3])\"\n          }\n        },\n        \"output_dir\": {\n          \"type\": \"string\",\n          \"outputBinding\": {\n            \"outputEval\": \"$(\\\"outputs\\\")\"\n          }\n        }\n      }\n    },\n    {\n      \"class\": \"Workflow\",\n      \"id\": \"mangrove-workflow\",\n      \"label\": \"Mangrove Biomass Workflow\",\n      \"doc\": \"Workflow for Mangrove Biomass Analysis\\n  \\nThis workflow orchestrates the mangrove biomass estimation process using\\nSentinel-2 imagery. It wraps the mangrove_workflow.cwl tool to provide\\na reusable workflow for analyzing different study areas.\\n\",\n      \"requirements\": {\n        \"StepInputExpressionRequirement\": {},\n        \"ScatterFeatureRequirement\": {},\n        \"SubworkflowFeatureRequirement\": {},\n        \"InlineJavascriptRequirement\": {},\n        \"SchemaDefRequirement\": {\n          \"types\": [\n            {\n              \"$import\": \"https://raw.githubusercontent.com/eoap/schemas/main/ogc.yaml\"\n            },\n            {\n              \"$import\": \"https://raw.githubusercontent.com/eoap/schemas/main/stac.yaml\"\n            }\n          ]\n        }\n      },\n      \"inputs\": {\n        \"cloud_cover_max\": {\n          \"label\": \"Maximum Cloud Cover\",\n          \"doc\": \"Maximum acceptable cloud cover percentage (0-100)\",\n          \"type\": \"float\"\n        },\n        \"days_back\": {\n          \"label\": \"Days Back\",\n          \"doc\": \"Number of days to search backwards from current date\",\n          \"type\": \"int\"\n        },\n        \"aoi\": {\n          \"label\": \"Area of Interest\",\n          \"doc\": \"Area of interest as a bounding box\",\n          \"type\": \"https://raw.githubusercontent.com/eoap/schemas/main/ogc.yaml#BBox\"\n        }\n      },\n      \"outputs\": {\n        \"stac\": {\n          \"type\": \"Directory\",\n          \"outputSource\": [\n            \"step_1/result\"\n          ]\n        }\n      },\n      \"steps\": {\n        \"parse_aoi\": {\n          \"run\": \"#parse_aoi\",\n          \"in\": {\n            \"aoi\": \"aoi\"\n          },\n          \"out\": [\n            \"west\",\n            \"south\",\n            \"east\",\n            \"north\",\n            \"output_dir\"\n          ]\n        },\n        \"step_1\": {\n          \"in\": {\n            \"cloud_cover_max\": \"cloud_cover_max\",\n            \"days_back\": \"days_back\",\n            \"south\": \"parse_aoi/south\",\n            \"west\": \"parse_aoi/west\",\n            \"east\": \"parse_aoi/east\",\n            \"north\": \"parse_aoi/north\",\n            \"output_dir\": \"parse_aoi/output_dir\"\n          },\n          \"run\": \"#mangrove_cli\",\n          \"out\": [\n            \"result\"\n          ]\n        }\n      }\n    },\n    {\n      \"id\": \"mangrove_cli\",\n      \"arguments\": [\n        \"--\"\n      ],\n      \"baseCommand\": \"/app/cwl/bin/mangrove_workflow_for_cwl\",\n      \"class\": \"CommandLineTool\",\n      \"requirements\": {\n        \"InlineJavascriptRequirement\": {},\n        \"ResourceRequirement\": {\n          \"coresMax\": 1,\n          \"ramMax\": 512\n        }\n      },\n      \"hints\": {\n        \"DockerRequirement\": {\n          \"dockerPull\": \"ghcr.io/geolabs/kindgrove/mangrove-cwl:v0.0.1-rc7\"\n        }\n      },\n      \"inputs\": {\n        \"cloud_cover_max\": {\n          \"inputBinding\": {\n            \"prefix\": \"--cloud_cover_max\"\n          },\n          \"type\": \"float\"\n        },\n        \"days_back\": {\n          \"inputBinding\": {\n            \"prefix\": \"--days_back\"\n          },\n          \"type\": \"int\"\n        },\n        \"east\": {\n          \"inputBinding\": {\n            \"prefix\": \"--east\"\n          },\n          \"type\": \"float\"\n        },\n        \"north\": {\n          \"inputBinding\": {\n            \"prefix\": \"--north\"\n          },\n          \"type\": \"float\"\n        },\n        \"south\": {\n          \"inputBinding\": {\n            \"prefix\": \"--south\"\n          },\n          \"type\": \"float\"\n        },\n        \"west\": {\n          \"inputBinding\": {\n            \"prefix\": \"--west\"\n          },\n          \"type\": \"float\"\n        },\n        \"output_dir\": {\n          \"inputBinding\": {\n            \"prefix\": \"--output_dir\"\n          },\n          \"type\": \"string\"\n        }\n      },\n      \"outputs\": {\n        \"result\": {\n          \"type\": \"Directory\",\n          \"outputBinding\": {\n            \"glob\": \"outputs\"\n          }\n        }\n      }\n    }\n  ],\n  \"$namespaces\": {\n    \"s\": \"https://schema.org/\"\n  },\n  \"cwlVersion\": \"v1.0\",\n  \"s:softwareVersion\": \"0.0.1\",\n  \"s:author\": [\n    {\n      \"class\": \"s:Person\",\n      \"s:name\": \"Cameron Sajedi\"\n    }\n  ],\n  \"s:contributor\": [\n    {\n      \"class\": \"s:Person\",\n      \"s:name\": \"G\u00e9rald Fenoy\",\n      \"s:identifier\": \"https://orcid.org/0000-0002-9617-8641\"\n    }\n  ],\n  \"s:keywords\": [\n    \"OSPD\",\n    \"mangrove\",\n    \"biomass\"\n  ],\n  \"s:codeRepository\": \"https://github.com/starling-foundries/KindGrove\",\n  \"s:license\": \"https://github.com/starling-foundries/KindGrove?tab=MIT-1-ov-file#readme\",\n  \"schemas\": [\n    \"http://schema.org/version/9.0/schemaorg-current-http.rdf\"\n  ]\n}\n",
          "transformResults": {
            "cwl-to-ogcprocess": "https://geolabs.github.io/bblocks-eoap-cct/build/tests/cct/cwl-to-ogcprocess/transforms/example_5_2.cwl-to-ogcprocess.json",
            "cwl-to-ogcprocess-refs": "https://geolabs.github.io/bblocks-eoap-cct/build/tests/cct/cwl-to-ogcprocess/transforms/example_5_2.cwl-to-ogcprocess-refs.json"
          },
          "url": "https://geolabs.github.io/bblocks-eoap-cct/build/tests/cct/cwl-to-ogcprocess/example_5_2.json"
        },
        {
          "language": "jsonld",
          "code": "{\n  \"@context\": \"https://geolabs.github.io/bblocks-eoap-cct/build/annotated/cct/cwl-to-ogcprocess/context.jsonld\",\n  \"$graph\": [\n    {\n      \"class\": \"CommandLineTool\",\n      \"id\": \"parse_aoi\",\n      \"baseCommand\": \"echo\",\n      \"arguments\": [\n        \"--\"\n      ],\n      \"requirements\": {\n        \"InlineJavascriptRequirement\": {},\n        \"SchemaDefRequirement\": {\n          \"types\": [\n            {\n              \"$import\": \"https://raw.githubusercontent.com/eoap/schemas/main/ogc.yaml\"\n            }\n          ]\n        },\n        \"ResourceRequirement\": {\n          \"coresMax\": 1,\n          \"ramMax\": 512\n        }\n      },\n      \"hints\": {\n        \"DockerRequirement\": {\n          \"dockerPull\": \"alpine:3.22.2\"\n        }\n      },\n      \"inputs\": {\n        \"aoi\": {\n          \"type\": \"https://raw.githubusercontent.com/eoap/schemas/main/ogc.yaml#BBox\",\n          \"label\": \"Area of interest\",\n          \"doc\": \"Area of interest defined as a bounding box\"\n        }\n      },\n      \"outputs\": {\n        \"west\": {\n          \"type\": \"float\",\n          \"outputBinding\": {\n            \"outputEval\": \"$(inputs.aoi.bbox[0])\"\n          }\n        },\n        \"south\": {\n          \"type\": \"float\",\n          \"outputBinding\": {\n            \"outputEval\": \"$(inputs.aoi.bbox[1])\"\n          }\n        },\n        \"east\": {\n          \"type\": \"float\",\n          \"outputBinding\": {\n            \"outputEval\": \"$(inputs.aoi.bbox[2])\"\n          }\n        },\n        \"north\": {\n          \"type\": \"float\",\n          \"outputBinding\": {\n            \"outputEval\": \"$(inputs.aoi.bbox[3])\"\n          }\n        },\n        \"output_dir\": {\n          \"type\": \"string\",\n          \"outputBinding\": {\n            \"outputEval\": \"$(\\\"outputs\\\")\"\n          }\n        }\n      }\n    },\n    {\n      \"class\": \"Workflow\",\n      \"id\": \"mangrove-workflow\",\n      \"label\": \"Mangrove Biomass Workflow\",\n      \"doc\": \"Workflow for Mangrove Biomass Analysis\\n  \\nThis workflow orchestrates the mangrove biomass estimation process using\\nSentinel-2 imagery. It wraps the mangrove_workflow.cwl tool to provide\\na reusable workflow for analyzing different study areas.\\n\",\n      \"requirements\": {\n        \"StepInputExpressionRequirement\": {},\n        \"ScatterFeatureRequirement\": {},\n        \"SubworkflowFeatureRequirement\": {},\n        \"InlineJavascriptRequirement\": {},\n        \"SchemaDefRequirement\": {\n          \"types\": [\n            {\n              \"$import\": \"https://raw.githubusercontent.com/eoap/schemas/main/ogc.yaml\"\n            },\n            {\n              \"$import\": \"https://raw.githubusercontent.com/eoap/schemas/main/stac.yaml\"\n            }\n          ]\n        }\n      },\n      \"inputs\": {\n        \"cloud_cover_max\": {\n          \"label\": \"Maximum Cloud Cover\",\n          \"doc\": \"Maximum acceptable cloud cover percentage (0-100)\",\n          \"type\": \"float\"\n        },\n        \"days_back\": {\n          \"label\": \"Days Back\",\n          \"doc\": \"Number of days to search backwards from current date\",\n          \"type\": \"int\"\n        },\n        \"aoi\": {\n          \"label\": \"Area of Interest\",\n          \"doc\": \"Area of interest as a bounding box\",\n          \"type\": \"https://raw.githubusercontent.com/eoap/schemas/main/ogc.yaml#BBox\"\n        }\n      },\n      \"outputs\": {\n        \"stac\": {\n          \"type\": \"Directory\",\n          \"outputSource\": [\n            \"step_1/result\"\n          ]\n        }\n      },\n      \"steps\": {\n        \"parse_aoi\": {\n          \"run\": \"#parse_aoi\",\n          \"in\": {\n            \"aoi\": \"aoi\"\n          },\n          \"out\": [\n            \"west\",\n            \"south\",\n            \"east\",\n            \"north\",\n            \"output_dir\"\n          ]\n        },\n        \"step_1\": {\n          \"in\": {\n            \"cloud_cover_max\": \"cloud_cover_max\",\n            \"days_back\": \"days_back\",\n            \"south\": \"parse_aoi/south\",\n            \"west\": \"parse_aoi/west\",\n            \"east\": \"parse_aoi/east\",\n            \"north\": \"parse_aoi/north\",\n            \"output_dir\": \"parse_aoi/output_dir\"\n          },\n          \"run\": \"#mangrove_cli\",\n          \"out\": [\n            \"result\"\n          ]\n        }\n      }\n    },\n    {\n      \"id\": \"mangrove_cli\",\n      \"arguments\": [\n        \"--\"\n      ],\n      \"baseCommand\": \"/app/cwl/bin/mangrove_workflow_for_cwl\",\n      \"class\": \"CommandLineTool\",\n      \"requirements\": {\n        \"InlineJavascriptRequirement\": {},\n        \"ResourceRequirement\": {\n          \"coresMax\": 1,\n          \"ramMax\": 512\n        }\n      },\n      \"hints\": {\n        \"DockerRequirement\": {\n          \"dockerPull\": \"ghcr.io/geolabs/kindgrove/mangrove-cwl:v0.0.1-rc7\"\n        }\n      },\n      \"inputs\": {\n        \"cloud_cover_max\": {\n          \"inputBinding\": {\n            \"prefix\": \"--cloud_cover_max\"\n          },\n          \"type\": \"float\"\n        },\n        \"days_back\": {\n          \"inputBinding\": {\n            \"prefix\": \"--days_back\"\n          },\n          \"type\": \"int\"\n        },\n        \"east\": {\n          \"inputBinding\": {\n            \"prefix\": \"--east\"\n          },\n          \"type\": \"float\"\n        },\n        \"north\": {\n          \"inputBinding\": {\n            \"prefix\": \"--north\"\n          },\n          \"type\": \"float\"\n        },\n        \"south\": {\n          \"inputBinding\": {\n            \"prefix\": \"--south\"\n          },\n          \"type\": \"float\"\n        },\n        \"west\": {\n          \"inputBinding\": {\n            \"prefix\": \"--west\"\n          },\n          \"type\": \"float\"\n        },\n        \"output_dir\": {\n          \"inputBinding\": {\n            \"prefix\": \"--output_dir\"\n          },\n          \"type\": \"string\"\n        }\n      },\n      \"outputs\": {\n        \"result\": {\n          \"type\": \"Directory\",\n          \"outputBinding\": {\n            \"glob\": \"outputs\"\n          }\n        }\n      }\n    }\n  ],\n  \"$namespaces\": {\n    \"s\": \"https://schema.org/\"\n  },\n  \"cwlVersion\": \"v1.0\",\n  \"s:softwareVersion\": \"0.0.1\",\n  \"s:author\": [\n    {\n      \"class\": \"s:Person\",\n      \"s:name\": \"Cameron Sajedi\"\n    }\n  ],\n  \"s:contributor\": [\n    {\n      \"class\": \"s:Person\",\n      \"s:name\": \"G\\u00e9rald Fenoy\",\n      \"s:identifier\": \"https://orcid.org/0000-0002-9617-8641\"\n    }\n  ],\n  \"s:keywords\": [\n    \"OSPD\",\n    \"mangrove\",\n    \"biomass\"\n  ],\n  \"s:codeRepository\": \"https://github.com/starling-foundries/KindGrove\",\n  \"s:license\": \"https://github.com/starling-foundries/KindGrove?tab=MIT-1-ov-file#readme\",\n  \"schemas\": [\n    \"http://schema.org/version/9.0/schemaorg-current-http.rdf\"\n  ]\n}",
          "url": "https://geolabs.github.io/bblocks-eoap-cct/build/tests/cct/cwl-to-ogcprocess/example_5_2.jsonld"
        },
        {
          "language": "ttl",
          "code": "@prefix cwl: <https://w3id.org/cwl/cwl#> .\n@prefix dct: <http://purl.org/dc/terms/> .\n@prefix geo: <http://www.opengis.net/ont/geosparql#> .\n@prefix ns1: <s:> .\n@prefix ns2: <rdf:> .\n@prefix ogcproc: <http://www.opengis.net/def/ogcapi/processes/> .\n@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] cwl:cwlVersion <file:///github/workspace/v1.0> ;\n    cwl:graph [ dct:identifier <file:///github/workspace/parse_aoi> ;\n            ogcproc:input _:Nf5d5d694bb884a2394e9e5dce8ff8d45 ;\n            ogcproc:output _:N03e9060013c34e5da2a266021544a430 ;\n            cwl:arguments ( \"--\" ) ;\n            cwl:baseCommand \"\\\"echo\\\"\"^^rdf:JSON ;\n            cwl:hints [ cwl:DockerRequirement [ cwl:dockerPull \"alpine:3.22.2\"^^xsd:string ] ] ;\n            cwl:input _:Nf5d5d694bb884a2394e9e5dce8ff8d45 ;\n            cwl:output _:N03e9060013c34e5da2a266021544a430 ;\n            cwl:requirements [ cwl:InlineJavascriptRequirement [ ] ;\n                    cwl:ResourceRequirement [ cwl:coresMax 1 ;\n                            cwl:ramMax 512 ] ;\n                    cwl:SchemaDefRequirement [ cwl:types [ cwl:import <https://raw.githubusercontent.com/eoap/schemas/main/ogc.yaml> ] ] ] ;\n            ns2:type <file:///github/workspace/CommandLineTool> ],\n        [ dct:identifier <file:///github/workspace/mangrove_cli> ;\n            ogcproc:input _:Nd6941b6cfcd648dab4db1173e56e4567 ;\n            ogcproc:output _:N49038c7da2824c119ccf86c71fd3d1ac ;\n            cwl:arguments ( \"--\" ) ;\n            cwl:baseCommand \"\\\"/app/cwl/bin/mangrove_workflow_for_cwl\\\"\"^^rdf:JSON ;\n            cwl:hints [ cwl:DockerRequirement [ cwl:dockerPull \"ghcr.io/geolabs/kindgrove/mangrove-cwl:v0.0.1-rc7\"^^xsd:string ] ] ;\n            cwl:input _:Nd6941b6cfcd648dab4db1173e56e4567 ;\n            cwl:output _:N49038c7da2824c119ccf86c71fd3d1ac ;\n            cwl:requirements [ cwl:InlineJavascriptRequirement [ ] ;\n                    cwl:ResourceRequirement [ cwl:coresMax 1 ;\n                            cwl:ramMax 512 ] ] ;\n            ns2:type <file:///github/workspace/CommandLineTool> ],\n        [ rdfs:label \"Mangrove Biomass Workflow\"^^xsd:string ;\n            dct:identifier <file:///github/workspace/mangrove-workflow> ;\n            ogcproc:input _:Nf40e91469d214f6e9c17a47f99da6756 ;\n            ogcproc:output _:N2dfe5fb1f1a74c6b80dfa2169976080b ;\n            rdfs:comment \"\"\"Workflow for Mangrove Biomass Analysis\n  \nThis workflow orchestrates the mangrove biomass estimation process using\nSentinel-2 imagery. It wraps the mangrove_workflow.cwl tool to provide\na reusable workflow for analyzing different study areas.\n\"\"\"^^xsd:string ;\n            cwl:input _:Nf40e91469d214f6e9c17a47f99da6756 ;\n            cwl:output _:N2dfe5fb1f1a74c6b80dfa2169976080b ;\n            cwl:requirements [ cwl:InlineJavascriptRequirement [ ] ;\n                    cwl:ScatterFeatureRequirement [ ] ;\n                    cwl:SchemaDefRequirement [ cwl:types [ cwl:import <https://raw.githubusercontent.com/eoap/schemas/main/stac.yaml> ],\n                                [ cwl:import <https://raw.githubusercontent.com/eoap/schemas/main/ogc.yaml> ] ] ;\n                    cwl:StepInputExpressionRequirement [ ] ;\n                    cwl:SubworkflowFeatureRequirement [ ] ] ;\n            cwl:steps [ cwl:parse_aoi [ cwl:in [ cwl:aoi \"aoi\" ] ;\n                            cwl:out ( \"west\" \"south\" \"east\" \"north\" \"output_dir\" ) ;\n                            cwl:run <file:///github/workspace/#parse_aoi> ] ;\n                    cwl:step_1 [ cwl:in [ cwl:cloud_cover_max \"cloud_cover_max\" ;\n                                    cwl:days_back \"days_back\" ;\n                                    cwl:east \"parse_aoi/east\" ;\n                                    cwl:north \"parse_aoi/north\" ;\n                                    cwl:output_dir \"parse_aoi/output_dir\" ;\n                                    cwl:south \"parse_aoi/south\" ;\n                                    cwl:west \"parse_aoi/west\" ] ;\n                            cwl:out ( \"result\" ) ;\n                            cwl:run <file:///github/workspace/#mangrove_cli> ] ] ;\n            ns2:type <file:///github/workspace/Workflow> ] ;\n    cwl:namespaces \"{\\\"s\\\":\\\"https://schema.org/\\\"}\"^^rdf:JSON ;\n    cwl:schemas \"http://schema.org/version/9.0/schemaorg-current-http.rdf\" ;\n    ns1:author [ ns2:type ns1:Person ;\n            ns1:name \"Cameron Sajedi\" ] ;\n    ns1:codeRepository \"https://github.com/starling-foundries/KindGrove\" ;\n    ns1:contributor [ ns2:type ns1:Person ;\n            ns1:identifier \"https://orcid.org/0000-0002-9617-8641\" ;\n            ns1:name \"G\u00e9rald Fenoy\" ] ;\n    ns1:keywords \"OSPD\",\n        \"biomass\",\n        \"mangrove\" ;\n    ns1:license \"https://github.com/starling-foundries/KindGrove?tab=MIT-1-ov-file#readme\" ;\n    ns1:softwareVersion \"0.0.1\" .\n\n_:N0860f139664d423585d8aea575c6c044 cwl:outputEval \"$(inputs.aoi.bbox[2])\"^^xsd:string .\n\n_:N1419faf3ec264e5fb132f09d512843be cwl:glob \"outputs\"^^xsd:string .\n\n_:N15ca917121d94e55a2b7ec5a6ff464ac cwl:prefix \"--west\"^^xsd:string .\n\n_:N1f0da69914c04129a3d5da533929310a cwl:aoi [ rdfs:label \"Area of Interest\"^^xsd:string ;\n            ogcproc:itemsType \"number\"^^xsd:string ;\n            ogcproc:maxItems 6 ;\n            ogcproc:minItems 4 ;\n            ogcproc:schemaType \"array\"^^xsd:string ;\n            rdfs:comment \"Area of interest as a bounding box\"^^xsd:string ;\n            rdfs:seeAlso geo:BoundingBox ;\n            cwl:type <https://raw.githubusercontent.com/eoap/schemas/main/ogc.yaml#BBox> ] ;\n    cwl:cloud_cover_max [ rdfs:label \"Maximum Cloud Cover\"^^xsd:string ;\n            rdfs:comment \"Maximum acceptable cloud cover percentage (0-100)\"^^xsd:string ;\n            cwl:type <file:///github/workspace/float> ] ;\n    cwl:days_back [ rdfs:label \"Days Back\"^^xsd:string ;\n            rdfs:comment \"Number of days to search backwards from current date\"^^xsd:string ;\n            cwl:type <file:///github/workspace/int> ] .\n\n_:N2291cb9eda7c42798ffc1d9c9d0f04bd cwl:inputBinding [ cwl:prefix \"--south\"^^xsd:string ] ;\n    cwl:type <file:///github/workspace/float> .\n\n_:N23d961bedc014f29be200bb5d3221b88 cwl:inputBinding [ cwl:prefix \"--output_dir\"^^xsd:string ] ;\n    cwl:type <file:///github/workspace/string> .\n\n_:N242216cdd7534e8daeba1d909ed4de2e cwl:aoi [ rdfs:label \"Area of interest\"^^xsd:string ;\n            ogcproc:itemsType \"number\"^^xsd:string ;\n            ogcproc:maxItems 6 ;\n            ogcproc:minItems 4 ;\n            ogcproc:schemaType \"array\"^^xsd:string ;\n            rdfs:comment \"Area of interest defined as a bounding box\"^^xsd:string ;\n            rdfs:seeAlso geo:BoundingBox ;\n            cwl:type <https://raw.githubusercontent.com/eoap/schemas/main/ogc.yaml#BBox> ] .\n\n_:N29d6d99489624e608e43dc5bcce181ce cwl:outputEval \"$(\\\"outputs\\\")\"^^xsd:string .\n\n_:N2ebd5c95d447465e8e4c430571627e37 cwl:prefix \"--east\"^^xsd:string .\n\n_:N30c864f5353a445394bd49b57e9549a5 cwl:outputBinding _:N1419faf3ec264e5fb132f09d512843be ;\n    cwl:type <file:///github/workspace/Directory> .\n\n_:N39339c5467be4f199597f2ff9f6bd619 cwl:prefix \"--north\"^^xsd:string .\n\n_:N41820769fcf34776b6fa6a7107c7ff70 cwl:inputBinding _:N2ebd5c95d447465e8e4c430571627e37 ;\n    cwl:type <file:///github/workspace/float> .\n\n_:N53fd664769d249af8381b6d62a9dea66 cwl:outputBinding _:N0860f139664d423585d8aea575c6c044 ;\n    cwl:type <file:///github/workspace/float> .\n\n_:N57e3289c61f64fb68d16a631beb67557 cwl:outputBinding [ cwl:outputEval \"$(inputs.aoi.bbox[3])\"^^xsd:string ] ;\n    cwl:type <file:///github/workspace/float> .\n\n_:N59b6d7be64514891bc2e64221e7d8173 cwl:outputEval \"$(inputs.aoi.bbox[0])\"^^xsd:string .\n\n_:N5a63d3d3e87a4e80affb425036b5670a cwl:outputBinding [ cwl:outputEval \"$(inputs.aoi.bbox[1])\"^^xsd:string ] ;\n    cwl:type <file:///github/workspace/float> .\n\n_:N659aff3a729744b4a34ee1972376b7d9 cwl:cloud_cover_max [ cwl:inputBinding [ cwl:prefix \"--cloud_cover_max\"^^xsd:string ] ;\n            cwl:type <file:///github/workspace/float> ] ;\n    cwl:days_back [ cwl:inputBinding [ cwl:prefix \"--days_back\"^^xsd:string ] ;\n            cwl:type <file:///github/workspace/int> ] ;\n    cwl:east _:N41820769fcf34776b6fa6a7107c7ff70 ;\n    cwl:north [ cwl:inputBinding _:N39339c5467be4f199597f2ff9f6bd619 ;\n            cwl:type <file:///github/workspace/float> ] ;\n    cwl:output_dir _:N23d961bedc014f29be200bb5d3221b88 ;\n    cwl:south _:N2291cb9eda7c42798ffc1d9c9d0f04bd ;\n    cwl:west [ cwl:inputBinding _:N15ca917121d94e55a2b7ec5a6ff464ac ;\n            cwl:type <file:///github/workspace/float> ] .\n\n_:N69ce2c0f25f042b68216b23c3493f8d7 cwl:result _:N30c864f5353a445394bd49b57e9549a5 .\n\n_:N76bed7a771334d18ac4ce82963f7ecc8 cwl:stac [ cwl:outputSource <file:///github/workspace/step_1/result> ;\n            cwl:type <file:///github/workspace/Directory> ] .\n\n_:N9b3cc93176c84e46923c0345ebf87f73 cwl:east _:N53fd664769d249af8381b6d62a9dea66 ;\n    cwl:north _:N57e3289c61f64fb68d16a631beb67557 ;\n    cwl:output_dir [ cwl:outputBinding _:N29d6d99489624e608e43dc5bcce181ce ;\n            cwl:type <file:///github/workspace/string> ] ;\n    cwl:south _:N5a63d3d3e87a4e80affb425036b5670a ;\n    cwl:west [ cwl:outputBinding _:N59b6d7be64514891bc2e64221e7d8173 ;\n            cwl:type <file:///github/workspace/float> ] .\n\n_:N03e9060013c34e5da2a266021544a430 a ogcproc:OutputDescription ;\n    rdf:first _:N9b3cc93176c84e46923c0345ebf87f73 ;\n    rdf:rest () .\n\n_:N2dfe5fb1f1a74c6b80dfa2169976080b a ogcproc:OutputDescription ;\n    rdf:first _:N76bed7a771334d18ac4ce82963f7ecc8 ;\n    rdf:rest () .\n\n_:N49038c7da2824c119ccf86c71fd3d1ac a ogcproc:OutputDescription ;\n    rdf:first _:N69ce2c0f25f042b68216b23c3493f8d7 ;\n    rdf:rest () .\n\n_:Nd6941b6cfcd648dab4db1173e56e4567 a ogcproc:InputDescription ;\n    rdf:first _:N659aff3a729744b4a34ee1972376b7d9 ;\n    rdf:rest () .\n\n_:Nf40e91469d214f6e9c17a47f99da6756 a ogcproc:InputDescription ;\n    rdf:first _:N1f0da69914c04129a3d5da533929310a ;\n    rdf:rest () .\n\n_:Nf5d5d694bb884a2394e9e5dce8ff8d45 a ogcproc:InputDescription ;\n    rdf:first _:N242216cdd7534e8daeba1d909ed4de2e ;\n    rdf:rest () .\n\n",
          "url": "https://geolabs.github.io/bblocks-eoap-cct/build/tests/cct/cwl-to-ogcprocess/example_5_2.ttl"
        }
      ]
    },
    {
      "title": "Hartis CVI Workflow OSPD 2025",
      "description": "CWL packed workflow using standard CWL types (string, string[], Directory, File)",
      "snippets": [
        {
          "language": "yaml",
          "ref": "examples/cvi-workflow.cwl",
          "code": "cwlVersion: v1.2\n\n$namespaces:\n  s: https://schema.org/\n\n$schemas:\n  - http://schema.org/version/latest/schemaorg-current-http.rdf\n\n$graph:\n  - class: Workflow\n    id: cvi-workflow\n    label: CVI Workflow (Dockerized)\n    doc: |\n      This workflow computes the Coastal Vulnerability Index (CVI) for Mediterranean coastal areas.\n      It processes coastline data, generates transects, computes various coastal parameters\n      (landcover, slope, erosion, elevation), and calculates the final CVI values.\n    \n    requirements:\n      StepInputExpressionRequirement: {}\n      InlineJavascriptRequirement: {}\n    \n    s:author:\n      - class: s:Person\n        s:name: HARTIS Organization\n        s:url: https://github.com/hartis-org\n    \n    s:codeRepository: https://github.com/hartis-org/cvi-workflow\n    s:dateCreated: \"2024-01-01\"\n    s:license: https://opensource.org/licenses/MIT\n    s:version: \"1.0.0\"\n    s:keywords: CVI, coastal vulnerability, Mediterranean, earth observation\n    \n    inputs:\n      config_stac_item_url:\n        type: string\n        label: Configuration STAC item URL\n        doc: URL of the STAC item containing the configuration JSON file\n        default: \"https://eocatalog.p2.csgroup.space/collections/cvi-workflow-resources/items/cvi-scoring-configuration\"\n      \n      aois_stac_item_url:\n        type: string\n        label: AOIs STAC item URL\n        doc: URL of the STAC item containing the Mediterranean AOIs CSV file\n        default: \"https://eocatalog.p2.csgroup.space/collections/cvi-workflow-resources/items/mediterranean-coastal-aois\"\n      \n      tokens_stac_item_url:\n        type: string\n        label: Tokens STAC item URL\n        doc: URL of the STAC item containing the authentication tokens file\n        default: \"https://eocatalog.p2.csgroup.space/collections/cvi-workflow-resources/items/cvi-authentication-template\"\n    \n    outputs:\n      validated_config:\n        type: File\n        label: Validated configuration\n        doc: Validated configuration JSON file\n        outputSource: setup_env/config_validated\n      \n      coastline_gpkg:\n        type: File\n        label: Coastline GeoPackage\n        doc: Extracted coastline geometry in GeoPackage format\n        outputSource: extract_coastline/coastline_gpkg\n      \n      transects_geojson:\n        type: File\n        label: Generated transects\n        doc: Perpendicular transects generated along the coastline\n        outputSource: generate_transects/transects_geojson\n      \n      transects_landcover:\n        type: File\n        label: Transects with landcover data\n        doc: Transects enriched with landcover information\n        outputSource: compute_landcover/result\n      \n      transects_slope:\n        type: File\n        label: Transects with slope data\n        doc: Transects enriched with slope information\n        outputSource: compute_slope/result\n      \n      transects_erosion:\n        type: File\n        label: Transects with erosion data\n        doc: Transects enriched with erosion information\n        outputSource: compute_erosion/result\n      \n      transects_elevation:\n        type: File\n        label: Transects with elevation data\n        doc: Transects enriched with elevation information\n        outputSource: compute_elevation/result\n      \n      cvi_geojson:\n        type: File\n        label: CVI results\n        doc: Final Coastal Vulnerability Index values for all transects\n        outputSource: compute_cvi/out_geojson\n    \n    steps:\n      node_eodag_download_config:\n        label: Download configuration [EODAG]\n        doc: Download the configuration JSON file from STAC item\n        run: '#eodag_search'\n        in:\n          stac_item_url: config_stac_item_url\n        out: [data_output_dir]\n      \n      node_eodag_download_aois:\n        label: Download AOIs [EODAG]\n        doc: Download the Mediterranean AOIs CSV from STAC item\n        run: '#eodag_search'\n        in:\n          stac_item_url: aois_stac_item_url\n        out: [data_output_dir]\n      \n      node_eodag_download_tokens:\n        label: Download tokens [EODAG]\n        doc: Download the authentication tokens file from STAC item\n        run: '#eodag_search'\n        in:\n          stac_item_url: tokens_stac_item_url\n        out: [data_output_dir]\n      \n      setup_env:\n        label: Setup Environment\n        run: \"#setup-env-tool\"\n        in:\n          config_json:\n            source: node_eodag_download_config/data_output_dir\n            valueFrom: $(self.listing.filter(function(f) { return f.basename.match(/.*\\.json$/i); })[0])\n          output_dir: { default: \"output_data\" }\n        out: [config_validated]\n      \n      extract_coastline:\n        label: Extract Coastline\n        run: \"#extract-coastline-tool\"\n        in:\n          med_aois_csv:\n            source: node_eodag_download_aois/data_output_dir\n            valueFrom: $(self.listing.filter(function(f) { return f.basename.match(/.*\\.csv$/i); })[0])\n          output_dir: { default: \"output_data\" }\n        out: [coastline_gpkg]\n      \n      generate_transects:\n        label: Generate Transects\n        run: \"#generate-transects-tool\"\n        in:\n          coastline_gpkg: extract_coastline/coastline_gpkg\n          output_dir: { default: \"output_data\" }\n        out: [transects_geojson]\n      \n      compute_landcover:\n        label: Compute Landcover\n        run: \"#compute-parameter-tool\"\n        in:\n          script: { default: \"/app/steps/compute_landcover.py\" }\n          transects_geojson: generate_transects/transects_geojson\n          tokens_env:\n            source: node_eodag_download_tokens/data_output_dir\n            valueFrom: $(self.listing.filter(function(f) { return f.basename.match(/.*\\.env$/i); })[0])\n          config_json: setup_env/config_validated\n          output_dir: { default: \"output_data\" }\n        out: [result]\n      \n      compute_slope:\n        label: Compute Slope\n        run: \"#compute-parameter-tool\"\n        in:\n          script: { default: \"/app/steps/compute_slope.py\" }\n          transects_geojson: generate_transects/transects_geojson\n          tokens_env:\n            source: node_eodag_download_tokens/data_output_dir\n            valueFrom: $(self.listing.filter(function(f) { return f.basename.match(/.*\\.env$/i); })[0])\n          config_json: setup_env/config_validated\n          output_dir: { default: \"output_data\" }\n        out: [result]\n      \n      compute_erosion:\n        label: Compute Erosion\n        run: \"#compute-parameter-tool\"\n        in:\n          script: { default: \"/app/steps/compute_erosion.py\" }\n          transects_geojson: generate_transects/transects_geojson\n          tokens_env:\n            source: node_eodag_download_tokens/data_output_dir\n            valueFrom: $(self.listing.filter(function(f) { return f.basename.match(/.*\\.env$/i); })[0])\n          config_json: setup_env/config_validated\n          output_dir: { default: \"output_data\" }\n        out: [result]\n      \n      compute_elevation:\n        label: Compute Elevation\n        run: \"#compute-parameter-tool\"\n        in:\n          script: { default: \"/app/steps/compute_elevation.py\" }\n          transects_geojson: generate_transects/transects_geojson\n          tokens_env:\n            source: node_eodag_download_tokens/data_output_dir\n            valueFrom: $(self.listing.filter(function(f) { return f.basename.match(/.*\\.env$/i); })[0])\n          config_json: setup_env/config_validated\n          output_dir: { default: \"output_data\" }\n        out: [result]\n      \n      compute_cvi:\n        label: Compute CVI Index\n        run: \"#compute-cvi-tool\"\n        in:\n          transects_landcover: compute_landcover/result\n          transects_slope: compute_slope/result\n          transects_erosion: compute_erosion/result\n          transects_elevation: compute_elevation/result\n          config_json: setup_env/config_validated\n          output_dir: { default: \"output_data\" }\n        out: [out_geojson]\n  \n  # CommandLineTool definitions\n  - class: CommandLineTool\n    id: setup-env-tool\n    label: Setup Environment\n    doc: Validates configuration and initializes the working environment\n    \n    baseCommand: [python3, /app/steps/setup_env.py]\n    \n    hints:\n      DockerRequirement: &docker_image\n        dockerPull: ghcr.io/hartis-org/cvi-workflow:latest\n    \n    requirements:\n      InlineJavascriptRequirement: {}\n      InitialWorkDirRequirement:\n        listing:\n          - $(inputs.config_json)\n          - { entry: \"$({class: 'Directory', listing: []})\", entryname: $(inputs.output_dir), writable: true }\n    \n    inputs:\n      config_json:\n        type: File\n        inputBinding:\n          position: 1\n        doc: Configuration JSON file\n      \n      output_dir:\n        type: string\n        inputBinding:\n          position: 2\n        doc: Output directory path\n    \n    outputs:\n      config_validated:\n        type: File\n        outputBinding:\n          glob: \"$(inputs.output_dir)/config_validated.json\"\n        doc: Validated configuration file\n  \n  - class: CommandLineTool\n    id: extract-coastline-tool\n    label: Extract Coastline\n    doc: Extracts coastline geometry from Mediterranean AOIs\n    \n    baseCommand: [python3, /app/steps/extract_coastline.py]\n    \n    hints:\n      DockerRequirement: *docker_image\n    \n    requirements:\n      InlineJavascriptRequirement: {}\n      InitialWorkDirRequirement:\n        listing:\n          - $(inputs.med_aois_csv)\n          - { entry: \"$({class: 'Directory', listing: []})\", entryname: $(inputs.output_dir), writable: true }\n    \n    inputs:\n      med_aois_csv:\n        type: File\n        inputBinding:\n          position: 1\n        doc: Mediterranean areas of interest CSV\n      \n      output_dir:\n        type: string\n        inputBinding:\n          position: 2\n        doc: Output directory path\n    \n    outputs:\n      coastline_gpkg:\n        type: File\n        outputBinding:\n          glob: \"$(inputs.output_dir)/coastline.gpkg\"\n        doc: Extracted coastline GeoPackage\n  \n  - class: CommandLineTool\n    id: generate-transects-tool\n    label: Generate Transects\n    doc: Generates perpendicular transects along the coastline\n    \n    baseCommand: [python3, /app/steps/generate_transects.py]\n    \n    hints:\n      DockerRequirement: *docker_image\n    \n    requirements:\n      InlineJavascriptRequirement: {}\n      InitialWorkDirRequirement:\n        listing:\n          - $(inputs.coastline_gpkg)\n          - { entry: \"$({class: 'Directory', listing: []})\", entryname: $(inputs.output_dir), writable: true }\n    \n    inputs:\n      coastline_gpkg:\n        type: File\n        inputBinding:\n          position: 1\n        doc: Coastline GeoPackage\n      \n      output_dir:\n        type: string\n        inputBinding:\n          position: 2\n        doc: Output directory path\n    \n    outputs:\n      transects_geojson:\n        type: File\n        outputBinding:\n          glob: \"$(inputs.output_dir)/transects.geojson\"\n        doc: Generated transects GeoJSON\n  \n  - class: CommandLineTool\n    id: compute-parameter-tool\n    label: Compute Parameter\n    doc: Computes a CVI parameter (landcover, slope, erosion, or elevation) for transects\n    \n    baseCommand: [python3]\n    \n    hints:\n      DockerRequirement: *docker_image\n    \n    requirements:\n      InlineJavascriptRequirement: {}\n      InitialWorkDirRequirement:\n        listing:\n          - entry: $(inputs.transects_geojson)\n          - entry: $(inputs.tokens_env)\n          - entry: $(inputs.config_json)\n          - entry: \"$({class: 'Directory', listing: []})\"\n            entryname: $(inputs.output_dir)\n            writable: true\n    \n    inputs:\n      script:\n        type: string\n        inputBinding:\n          position: 0\n        doc: Python script path for parameter computation\n      \n      transects_geojson:\n        type: File\n        inputBinding:\n          position: 1\n        doc: Transects GeoJSON file\n      \n      tokens_env:\n        type: File\n        inputBinding:\n          position: 2\n        doc: Authentication tokens file\n      \n      config_json:\n        type: File\n        inputBinding:\n          position: 3\n        doc: Configuration JSON file\n      \n      output_dir:\n        type: string\n        inputBinding:\n          position: 4\n        doc: Output directory path\n    \n    outputs:\n      result:\n        type: File\n        outputBinding:\n          glob: \"$(inputs.output_dir)/*.geojson\"\n        doc: Transects enriched with parameter data\n  \n  - class: CommandLineTool\n    id: compute-cvi-tool\n    label: Compute CVI\n    doc: Computes final Coastal Vulnerability Index from all parameters\n    \n    baseCommand: [python3, /app/steps/compute_cvi.py]\n    \n    hints:\n      DockerRequirement: *docker_image\n    \n    requirements:\n      InlineJavascriptRequirement: {}\n      InitialWorkDirRequirement:\n        listing:\n          - $(inputs.transects_landcover)\n          - $(inputs.transects_slope)\n          - $(inputs.transects_erosion)\n          - $(inputs.transects_elevation)\n          - $(inputs.config_json)\n          - { entry: \"$({class: 'Directory', listing: []})\", entryname: $(inputs.output_dir), writable: true }\n    \n    inputs:\n      transects_landcover:\n        type: File\n        inputBinding:\n          position: 1\n        doc: Transects with landcover data\n      \n      transects_slope:\n        type: File\n        inputBinding:\n          position: 2\n        doc: Transects with slope data\n      \n      transects_erosion:\n        type: File\n        inputBinding:\n          position: 3\n        doc: Transects with erosion data\n      \n      transects_elevation:\n        type: File\n        inputBinding:\n          position: 4\n        doc: Transects with elevation data\n      \n      config_json:\n        type: File\n        inputBinding:\n          position: 5\n        doc: Configuration JSON file\n      \n      output_dir:\n        type: string\n        inputBinding:\n          position: 6\n        doc: Output directory path\n    \n    outputs:\n      out_geojson:\n        type: File\n        outputBinding:\n          glob: \"$(inputs.output_dir)/transects_with_cvi_equal.geojson\"\n        doc: Final CVI results GeoJSON\n\n  - class: CommandLineTool\n    id: eodag_search\n    label: Download input data\n    doc: Downloads STAC item assets using EODAG\n    \n    s:softwareVersion: latest\n    \n    hints:\n      DockerRequirement:\n        dockerPull: |-\n          ghcr.io/cs-si/eodag:v3.10.x\n    \n    requirements:\n      InlineJavascriptRequirement: {}\n      NetworkAccess:\n        networkAccess: true\n    \n    baseCommand: [eodag, download]\n    \n    arguments:\n      - prefix: \"--output-dir\"\n        valueFrom: $(runtime.outdir)\n    \n    inputs:\n      stac_item_url:\n        type: string\n        inputBinding:\n          prefix: \"--stac-item\"\n        doc: URL of the STAC item to download\n    \n    outputs:\n      data_output_dir:\n        type: Directory\n        outputBinding:\n          glob: $(runtime.outdir)/*\n        doc: Directory containing downloaded STAC item assets",
          "url": "https://geolabs.github.io/bblocks-eoap-cct/build/tests/cct/cwl-to-ogcprocess/example_6_1.yaml"
        },
        {
          "language": "json",
          "ref": "examples/cvi-workflow.json",
          "code": "{\n  \"cwlVersion\": \"v1.2\",\n  \"$namespaces\": {\n    \"s\": \"https://schema.org/\"\n  },\n  \"$schemas\": [\n    \"http://schema.org/version/latest/schemaorg-current-http.rdf\"\n  ],\n  \"$graph\": [\n    {\n      \"class\": \"Workflow\",\n      \"id\": \"cvi-workflow\",\n      \"label\": \"CVI Workflow (Dockerized)\",\n      \"doc\": \"This workflow computes the Coastal Vulnerability Index (CVI) for Mediterranean coastal areas.\\nIt processes coastline data, generates transects, computes various coastal parameters\\n(landcover, slope, erosion, elevation), and calculates the final CVI values.\\n\",\n      \"requirements\": {\n        \"StepInputExpressionRequirement\": {},\n        \"InlineJavascriptRequirement\": {}\n      },\n      \"s:author\": [\n        {\n          \"class\": \"s:Person\",\n          \"s:name\": \"HARTIS Organization\",\n          \"s:url\": \"https://github.com/hartis-org\"\n        }\n      ],\n      \"s:codeRepository\": \"https://github.com/hartis-org/cvi-workflow\",\n      \"s:dateCreated\": \"2024-01-01\",\n      \"s:license\": \"https://opensource.org/licenses/MIT\",\n      \"s:version\": \"1.0.0\",\n      \"s:keywords\": \"CVI, coastal vulnerability, Mediterranean, earth observation\",\n      \"inputs\": {\n        \"config_stac_item_url\": {\n          \"type\": \"string\",\n          \"label\": \"Configuration STAC item URL\",\n          \"doc\": \"URL of the STAC item containing the configuration JSON file\",\n          \"default\": \"https://eocatalog.p2.csgroup.space/collections/cvi-workflow-resources/items/cvi-scoring-configuration\"\n        },\n        \"aois_stac_item_url\": {\n          \"type\": \"string\",\n          \"label\": \"AOIs STAC item URL\",\n          \"doc\": \"URL of the STAC item containing the Mediterranean AOIs CSV file\",\n          \"default\": \"https://eocatalog.p2.csgroup.space/collections/cvi-workflow-resources/items/mediterranean-coastal-aois\"\n        },\n        \"tokens_stac_item_url\": {\n          \"type\": \"string\",\n          \"label\": \"Tokens STAC item URL\",\n          \"doc\": \"URL of the STAC item containing the authentication tokens file\",\n          \"default\": \"https://eocatalog.p2.csgroup.space/collections/cvi-workflow-resources/items/cvi-authentication-template\"\n        }\n      },\n      \"outputs\": {\n        \"validated_config\": {\n          \"type\": \"File\",\n          \"label\": \"Validated configuration\",\n          \"doc\": \"Validated configuration JSON file\",\n          \"outputSource\": \"setup_env/config_validated\"\n        },\n        \"coastline_gpkg\": {\n          \"type\": \"File\",\n          \"label\": \"Coastline GeoPackage\",\n          \"doc\": \"Extracted coastline geometry in GeoPackage format\",\n          \"outputSource\": \"extract_coastline/coastline_gpkg\"\n        },\n        \"transects_geojson\": {\n          \"type\": \"File\",\n          \"label\": \"Generated transects\",\n          \"doc\": \"Perpendicular transects generated along the coastline\",\n          \"outputSource\": \"generate_transects/transects_geojson\"\n        },\n        \"transects_landcover\": {\n          \"type\": \"File\",\n          \"label\": \"Transects with landcover data\",\n          \"doc\": \"Transects enriched with landcover information\",\n          \"outputSource\": \"compute_landcover/result\"\n        },\n        \"transects_slope\": {\n          \"type\": \"File\",\n          \"label\": \"Transects with slope data\",\n          \"doc\": \"Transects enriched with slope information\",\n          \"outputSource\": \"compute_slope/result\"\n        },\n        \"transects_erosion\": {\n          \"type\": \"File\",\n          \"label\": \"Transects with erosion data\",\n          \"doc\": \"Transects enriched with erosion information\",\n          \"outputSource\": \"compute_erosion/result\"\n        },\n        \"transects_elevation\": {\n          \"type\": \"File\",\n          \"label\": \"Transects with elevation data\",\n          \"doc\": \"Transects enriched with elevation information\",\n          \"outputSource\": \"compute_elevation/result\"\n        },\n        \"cvi_geojson\": {\n          \"type\": \"File\",\n          \"label\": \"CVI results\",\n          \"doc\": \"Final Coastal Vulnerability Index values for all transects\",\n          \"outputSource\": \"compute_cvi/out_geojson\"\n        }\n      },\n      \"steps\": {\n        \"node_eodag_download_config\": {\n          \"label\": \"Download configuration [EODAG]\",\n          \"doc\": \"Download the configuration JSON file from STAC item\",\n          \"run\": \"#eodag_search\",\n          \"in\": {\n            \"stac_item_url\": \"config_stac_item_url\"\n          },\n          \"out\": [\n            \"data_output_dir\"\n          ]\n        },\n        \"node_eodag_download_aois\": {\n          \"label\": \"Download AOIs [EODAG]\",\n          \"doc\": \"Download the Mediterranean AOIs CSV from STAC item\",\n          \"run\": \"#eodag_search\",\n          \"in\": {\n            \"stac_item_url\": \"aois_stac_item_url\"\n          },\n          \"out\": [\n            \"data_output_dir\"\n          ]\n        },\n        \"node_eodag_download_tokens\": {\n          \"label\": \"Download tokens [EODAG]\",\n          \"doc\": \"Download the authentication tokens file from STAC item\",\n          \"run\": \"#eodag_search\",\n          \"in\": {\n            \"stac_item_url\": \"tokens_stac_item_url\"\n          },\n          \"out\": [\n            \"data_output_dir\"\n          ]\n        },\n        \"setup_env\": {\n          \"label\": \"Setup Environment\",\n          \"run\": \"#setup-env-tool\",\n          \"in\": {\n            \"config_json\": {\n              \"source\": \"node_eodag_download_config/data_output_dir\",\n              \"valueFrom\": \"$(self.listing.filter(function(f) { return f.basename.match(/.*\\\\.json$/i); })[0])\"\n            },\n            \"output_dir\": {\n              \"default\": \"output_data\"\n            }\n          },\n          \"out\": [\n            \"config_validated\"\n          ]\n        },\n        \"extract_coastline\": {\n          \"label\": \"Extract Coastline\",\n          \"run\": \"#extract-coastline-tool\",\n          \"in\": {\n            \"med_aois_csv\": {\n              \"source\": \"node_eodag_download_aois/data_output_dir\",\n              \"valueFrom\": \"$(self.listing.filter(function(f) { return f.basename.match(/.*\\\\.csv$/i); })[0])\"\n            },\n            \"output_dir\": {\n              \"default\": \"output_data\"\n            }\n          },\n          \"out\": [\n            \"coastline_gpkg\"\n          ]\n        },\n        \"generate_transects\": {\n          \"label\": \"Generate Transects\",\n          \"run\": \"#generate-transects-tool\",\n          \"in\": {\n            \"coastline_gpkg\": \"extract_coastline/coastline_gpkg\",\n            \"output_dir\": {\n              \"default\": \"output_data\"\n            }\n          },\n          \"out\": [\n            \"transects_geojson\"\n          ]\n        },\n        \"compute_landcover\": {\n          \"label\": \"Compute Landcover\",\n          \"run\": \"#compute-parameter-tool\",\n          \"in\": {\n            \"script\": {\n              \"default\": \"/app/steps/compute_landcover.py\"\n            },\n            \"transects_geojson\": \"generate_transects/transects_geojson\",\n            \"tokens_env\": {\n              \"source\": \"node_eodag_download_tokens/data_output_dir\",\n              \"valueFrom\": \"$(self.listing.filter(function(f) { return f.basename.match(/.*\\\\.env$/i); })[0])\"\n            },\n            \"config_json\": \"setup_env/config_validated\",\n            \"output_dir\": {\n              \"default\": \"output_data\"\n            }\n          },\n          \"out\": [\n            \"result\"\n          ]\n        },\n        \"compute_slope\": {\n          \"label\": \"Compute Slope\",\n          \"run\": \"#compute-parameter-tool\",\n          \"in\": {\n            \"script\": {\n              \"default\": \"/app/steps/compute_slope.py\"\n            },\n            \"transects_geojson\": \"generate_transects/transects_geojson\",\n            \"tokens_env\": {\n              \"source\": \"node_eodag_download_tokens/data_output_dir\",\n              \"valueFrom\": \"$(self.listing.filter(function(f) { return f.basename.match(/.*\\\\.env$/i); })[0])\"\n            },\n            \"config_json\": \"setup_env/config_validated\",\n            \"output_dir\": {\n              \"default\": \"output_data\"\n            }\n          },\n          \"out\": [\n            \"result\"\n          ]\n        },\n        \"compute_erosion\": {\n          \"label\": \"Compute Erosion\",\n          \"run\": \"#compute-parameter-tool\",\n          \"in\": {\n            \"script\": {\n              \"default\": \"/app/steps/compute_erosion.py\"\n            },\n            \"transects_geojson\": \"generate_transects/transects_geojson\",\n            \"tokens_env\": {\n              \"source\": \"node_eodag_download_tokens/data_output_dir\",\n              \"valueFrom\": \"$(self.listing.filter(function(f) { return f.basename.match(/.*\\\\.env$/i); })[0])\"\n            },\n            \"config_json\": \"setup_env/config_validated\",\n            \"output_dir\": {\n              \"default\": \"output_data\"\n            }\n          },\n          \"out\": [\n            \"result\"\n          ]\n        },\n        \"compute_elevation\": {\n          \"label\": \"Compute Elevation\",\n          \"run\": \"#compute-parameter-tool\",\n          \"in\": {\n            \"script\": {\n              \"default\": \"/app/steps/compute_elevation.py\"\n            },\n            \"transects_geojson\": \"generate_transects/transects_geojson\",\n            \"tokens_env\": {\n              \"source\": \"node_eodag_download_tokens/data_output_dir\",\n              \"valueFrom\": \"$(self.listing.filter(function(f) { return f.basename.match(/.*\\\\.env$/i); })[0])\"\n            },\n            \"config_json\": \"setup_env/config_validated\",\n            \"output_dir\": {\n              \"default\": \"output_data\"\n            }\n          },\n          \"out\": [\n            \"result\"\n          ]\n        },\n        \"compute_cvi\": {\n          \"label\": \"Compute CVI Index\",\n          \"run\": \"#compute-cvi-tool\",\n          \"in\": {\n            \"transects_landcover\": \"compute_landcover/result\",\n            \"transects_slope\": \"compute_slope/result\",\n            \"transects_erosion\": \"compute_erosion/result\",\n            \"transects_elevation\": \"compute_elevation/result\",\n            \"config_json\": \"setup_env/config_validated\",\n            \"output_dir\": {\n              \"default\": \"output_data\"\n            }\n          },\n          \"out\": [\n            \"out_geojson\"\n          ]\n        }\n      }\n    },\n    {\n      \"class\": \"CommandLineTool\",\n      \"id\": \"setup-env-tool\",\n      \"label\": \"Setup Environment\",\n      \"doc\": \"Validates configuration and initializes the working environment\",\n      \"baseCommand\": [\n        \"python3\",\n        \"/app/steps/setup_env.py\"\n      ],\n      \"hints\": {\n        \"DockerRequirement\": {\n          \"dockerPull\": \"ghcr.io/hartis-org/cvi-workflow:latest\"\n        }\n      },\n      \"requirements\": {\n        \"InlineJavascriptRequirement\": {},\n        \"InitialWorkDirRequirement\": {\n          \"listing\": [\n            \"$(inputs.config_json)\",\n            {\n              \"entry\": \"$({class: 'Directory', listing: []})\",\n              \"entryname\": \"$(inputs.output_dir)\",\n              \"writable\": true\n            }\n          ]\n        }\n      },\n      \"inputs\": {\n        \"config_json\": {\n          \"type\": \"File\",\n          \"inputBinding\": {\n            \"position\": 1\n          },\n          \"doc\": \"Configuration JSON file\"\n        },\n        \"output_dir\": {\n          \"type\": \"string\",\n          \"inputBinding\": {\n            \"position\": 2\n          },\n          \"doc\": \"Output directory path\"\n        }\n      },\n      \"outputs\": {\n        \"config_validated\": {\n          \"type\": \"File\",\n          \"outputBinding\": {\n            \"glob\": \"$(inputs.output_dir)/config_validated.json\"\n          },\n          \"doc\": \"Validated configuration file\"\n        }\n      }\n    },\n    {\n      \"class\": \"CommandLineTool\",\n      \"id\": \"extract-coastline-tool\",\n      \"label\": \"Extract Coastline\",\n      \"doc\": \"Extracts coastline geometry from Mediterranean AOIs\",\n      \"baseCommand\": [\n        \"python3\",\n        \"/app/steps/extract_coastline.py\"\n      ],\n      \"hints\": {\n        \"DockerRequirement\": {\n          \"dockerPull\": \"ghcr.io/hartis-org/cvi-workflow:latest\"\n        }\n      },\n      \"requirements\": {\n        \"InlineJavascriptRequirement\": {},\n        \"InitialWorkDirRequirement\": {\n          \"listing\": [\n            \"$(inputs.med_aois_csv)\",\n            {\n              \"entry\": \"$({class: 'Directory', listing: []})\",\n              \"entryname\": \"$(inputs.output_dir)\",\n              \"writable\": true\n            }\n          ]\n        }\n      },\n      \"inputs\": {\n        \"med_aois_csv\": {\n          \"type\": \"File\",\n          \"inputBinding\": {\n            \"position\": 1\n          },\n          \"doc\": \"Mediterranean areas of interest CSV\"\n        },\n        \"output_dir\": {\n          \"type\": \"string\",\n          \"inputBinding\": {\n            \"position\": 2\n          },\n          \"doc\": \"Output directory path\"\n        }\n      },\n      \"outputs\": {\n        \"coastline_gpkg\": {\n          \"type\": \"File\",\n          \"outputBinding\": {\n            \"glob\": \"$(inputs.output_dir)/coastline.gpkg\"\n          },\n          \"doc\": \"Extracted coastline GeoPackage\"\n        }\n      }\n    },\n    {\n      \"class\": \"CommandLineTool\",\n      \"id\": \"generate-transects-tool\",\n      \"label\": \"Generate Transects\",\n      \"doc\": \"Generates perpendicular transects along the coastline\",\n      \"baseCommand\": [\n        \"python3\",\n        \"/app/steps/generate_transects.py\"\n      ],\n      \"hints\": {\n        \"DockerRequirement\": {\n          \"dockerPull\": \"ghcr.io/hartis-org/cvi-workflow:latest\"\n        }\n      },\n      \"requirements\": {\n        \"InlineJavascriptRequirement\": {},\n        \"InitialWorkDirRequirement\": {\n          \"listing\": [\n            \"$(inputs.coastline_gpkg)\",\n            {\n              \"entry\": \"$({class: 'Directory', listing: []})\",\n              \"entryname\": \"$(inputs.output_dir)\",\n              \"writable\": true\n            }\n          ]\n        }\n      },\n      \"inputs\": {\n        \"coastline_gpkg\": {\n          \"type\": \"File\",\n          \"inputBinding\": {\n            \"position\": 1\n          },\n          \"doc\": \"Coastline GeoPackage\"\n        },\n        \"output_dir\": {\n          \"type\": \"string\",\n          \"inputBinding\": {\n            \"position\": 2\n          },\n          \"doc\": \"Output directory path\"\n        }\n      },\n      \"outputs\": {\n        \"transects_geojson\": {\n          \"type\": \"File\",\n          \"outputBinding\": {\n            \"glob\": \"$(inputs.output_dir)/transects.geojson\"\n          },\n          \"doc\": \"Generated transects GeoJSON\"\n        }\n      }\n    },\n    {\n      \"class\": \"CommandLineTool\",\n      \"id\": \"compute-parameter-tool\",\n      \"label\": \"Compute Parameter\",\n      \"doc\": \"Computes a CVI parameter (landcover, slope, erosion, or elevation) for transects\",\n      \"baseCommand\": [\n        \"python3\"\n      ],\n      \"hints\": {\n        \"DockerRequirement\": {\n          \"dockerPull\": \"ghcr.io/hartis-org/cvi-workflow:latest\"\n        }\n      },\n      \"requirements\": {\n        \"InlineJavascriptRequirement\": {},\n        \"InitialWorkDirRequirement\": {\n          \"listing\": [\n            {\n              \"entry\": \"$(inputs.transects_geojson)\"\n            },\n            {\n              \"entry\": \"$(inputs.tokens_env)\"\n            },\n            {\n              \"entry\": \"$(inputs.config_json)\"\n            },\n            {\n              \"entry\": \"$({class: 'Directory', listing: []})\",\n              \"entryname\": \"$(inputs.output_dir)\",\n              \"writable\": true\n            }\n          ]\n        }\n      },\n      \"inputs\": {\n        \"script\": {\n          \"type\": \"string\",\n          \"inputBinding\": {\n            \"position\": 0\n          },\n          \"doc\": \"Python script path for parameter computation\"\n        },\n        \"transects_geojson\": {\n          \"type\": \"File\",\n          \"inputBinding\": {\n            \"position\": 1\n          },\n          \"doc\": \"Transects GeoJSON file\"\n        },\n        \"tokens_env\": {\n          \"type\": \"File\",\n          \"inputBinding\": {\n            \"position\": 2\n          },\n          \"doc\": \"Authentication tokens file\"\n        },\n        \"config_json\": {\n          \"type\": \"File\",\n          \"inputBinding\": {\n            \"position\": 3\n          },\n          \"doc\": \"Configuration JSON file\"\n        },\n        \"output_dir\": {\n          \"type\": \"string\",\n          \"inputBinding\": {\n            \"position\": 4\n          },\n          \"doc\": \"Output directory path\"\n        }\n      },\n      \"outputs\": {\n        \"result\": {\n          \"type\": \"File\",\n          \"outputBinding\": {\n            \"glob\": \"$(inputs.output_dir)/*.geojson\"\n          },\n          \"doc\": \"Transects enriched with parameter data\"\n        }\n      }\n    },\n    {\n      \"class\": \"CommandLineTool\",\n      \"id\": \"compute-cvi-tool\",\n      \"label\": \"Compute CVI\",\n      \"doc\": \"Computes final Coastal Vulnerability Index from all parameters\",\n      \"baseCommand\": [\n        \"python3\",\n        \"/app/steps/compute_cvi.py\"\n      ],\n      \"hints\": {\n        \"DockerRequirement\": {\n          \"dockerPull\": \"ghcr.io/hartis-org/cvi-workflow:latest\"\n        }\n      },\n      \"requirements\": {\n        \"InlineJavascriptRequirement\": {},\n        \"InitialWorkDirRequirement\": {\n          \"listing\": [\n            \"$(inputs.transects_landcover)\",\n            \"$(inputs.transects_slope)\",\n            \"$(inputs.transects_erosion)\",\n            \"$(inputs.transects_elevation)\",\n            \"$(inputs.config_json)\",\n            {\n              \"entry\": \"$({class: 'Directory', listing: []})\",\n              \"entryname\": \"$(inputs.output_dir)\",\n              \"writable\": true\n            }\n          ]\n        }\n      },\n      \"inputs\": {\n        \"transects_landcover\": {\n          \"type\": \"File\",\n          \"inputBinding\": {\n            \"position\": 1\n          },\n          \"doc\": \"Transects with landcover data\"\n        },\n        \"transects_slope\": {\n          \"type\": \"File\",\n          \"inputBinding\": {\n            \"position\": 2\n          },\n          \"doc\": \"Transects with slope data\"\n        },\n        \"transects_erosion\": {\n          \"type\": \"File\",\n          \"inputBinding\": {\n            \"position\": 3\n          },\n          \"doc\": \"Transects with erosion data\"\n        },\n        \"transects_elevation\": {\n          \"type\": \"File\",\n          \"inputBinding\": {\n            \"position\": 4\n          },\n          \"doc\": \"Transects with elevation data\"\n        },\n        \"config_json\": {\n          \"type\": \"File\",\n          \"inputBinding\": {\n            \"position\": 5\n          },\n          \"doc\": \"Configuration JSON file\"\n        },\n        \"output_dir\": {\n          \"type\": \"string\",\n          \"inputBinding\": {\n            \"position\": 6\n          },\n          \"doc\": \"Output directory path\"\n        }\n      },\n      \"outputs\": {\n        \"out_geojson\": {\n          \"type\": \"File\",\n          \"outputBinding\": {\n            \"glob\": \"$(inputs.output_dir)/transects_with_cvi_equal.geojson\"\n          },\n          \"doc\": \"Final CVI results GeoJSON\"\n        }\n      }\n    },\n    {\n      \"class\": \"CommandLineTool\",\n      \"id\": \"eodag_search\",\n      \"label\": \"Download input data\",\n      \"doc\": \"Downloads STAC item assets using EODAG\",\n      \"s:softwareVersion\": \"latest\",\n      \"hints\": {\n        \"DockerRequirement\": {\n          \"dockerPull\": \"ghcr.io/cs-si/eodag:v3.10.x\"\n        }\n      },\n      \"requirements\": {\n        \"InlineJavascriptRequirement\": {},\n        \"NetworkAccess\": {\n          \"networkAccess\": true\n        }\n      },\n      \"baseCommand\": [\n        \"eodag\",\n        \"download\"\n      ],\n      \"arguments\": [\n        {\n          \"prefix\": \"--output-dir\",\n          \"valueFrom\": \"$(runtime.outdir)\"\n        }\n      ],\n      \"inputs\": {\n        \"stac_item_url\": {\n          \"type\": \"string\",\n          \"inputBinding\": {\n            \"prefix\": \"--stac-item\"\n          },\n          \"doc\": \"URL of the STAC item to download\"\n        }\n      },\n      \"outputs\": {\n        \"data_output_dir\": {\n          \"type\": \"Directory\",\n          \"outputBinding\": {\n            \"glob\": \"$(runtime.outdir)/*\"\n          },\n          \"doc\": \"Directory containing downloaded STAC item assets\"\n        }\n      }\n    }\n  ]\n}\n",
          "transformResults": {
            "cwl-to-ogcprocess": "https://geolabs.github.io/bblocks-eoap-cct/build/tests/cct/cwl-to-ogcprocess/transforms/example_6_2.cwl-to-ogcprocess.json",
            "cwl-to-ogcprocess-refs": "https://geolabs.github.io/bblocks-eoap-cct/build/tests/cct/cwl-to-ogcprocess/transforms/example_6_2.cwl-to-ogcprocess-refs.json"
          },
          "url": "https://geolabs.github.io/bblocks-eoap-cct/build/tests/cct/cwl-to-ogcprocess/example_6_2.json"
        },
        {
          "language": "jsonld",
          "code": "{\n  \"@context\": \"https://geolabs.github.io/bblocks-eoap-cct/build/annotated/cct/cwl-to-ogcprocess/context.jsonld\",\n  \"cwlVersion\": \"v1.2\",\n  \"$namespaces\": {\n    \"s\": \"https://schema.org/\"\n  },\n  \"$schemas\": [\n    \"http://schema.org/version/latest/schemaorg-current-http.rdf\"\n  ],\n  \"$graph\": [\n    {\n      \"class\": \"Workflow\",\n      \"id\": \"cvi-workflow\",\n      \"label\": \"CVI Workflow (Dockerized)\",\n      \"doc\": \"This workflow computes the Coastal Vulnerability Index (CVI) for Mediterranean coastal areas.\\nIt processes coastline data, generates transects, computes various coastal parameters\\n(landcover, slope, erosion, elevation), and calculates the final CVI values.\\n\",\n      \"requirements\": {\n        \"StepInputExpressionRequirement\": {},\n        \"InlineJavascriptRequirement\": {}\n      },\n      \"s:author\": [\n        {\n          \"class\": \"s:Person\",\n          \"s:name\": \"HARTIS Organization\",\n          \"s:url\": \"https://github.com/hartis-org\"\n        }\n      ],\n      \"s:codeRepository\": \"https://github.com/hartis-org/cvi-workflow\",\n      \"s:dateCreated\": \"2024-01-01\",\n      \"s:license\": \"https://opensource.org/licenses/MIT\",\n      \"s:version\": \"1.0.0\",\n      \"s:keywords\": \"CVI, coastal vulnerability, Mediterranean, earth observation\",\n      \"inputs\": {\n        \"config_stac_item_url\": {\n          \"type\": \"string\",\n          \"label\": \"Configuration STAC item URL\",\n          \"doc\": \"URL of the STAC item containing the configuration JSON file\",\n          \"default\": \"https://eocatalog.p2.csgroup.space/collections/cvi-workflow-resources/items/cvi-scoring-configuration\"\n        },\n        \"aois_stac_item_url\": {\n          \"type\": \"string\",\n          \"label\": \"AOIs STAC item URL\",\n          \"doc\": \"URL of the STAC item containing the Mediterranean AOIs CSV file\",\n          \"default\": \"https://eocatalog.p2.csgroup.space/collections/cvi-workflow-resources/items/mediterranean-coastal-aois\"\n        },\n        \"tokens_stac_item_url\": {\n          \"type\": \"string\",\n          \"label\": \"Tokens STAC item URL\",\n          \"doc\": \"URL of the STAC item containing the authentication tokens file\",\n          \"default\": \"https://eocatalog.p2.csgroup.space/collections/cvi-workflow-resources/items/cvi-authentication-template\"\n        }\n      },\n      \"outputs\": {\n        \"validated_config\": {\n          \"type\": \"File\",\n          \"label\": \"Validated configuration\",\n          \"doc\": \"Validated configuration JSON file\",\n          \"outputSource\": \"setup_env/config_validated\"\n        },\n        \"coastline_gpkg\": {\n          \"type\": \"File\",\n          \"label\": \"Coastline GeoPackage\",\n          \"doc\": \"Extracted coastline geometry in GeoPackage format\",\n          \"outputSource\": \"extract_coastline/coastline_gpkg\"\n        },\n        \"transects_geojson\": {\n          \"type\": \"File\",\n          \"label\": \"Generated transects\",\n          \"doc\": \"Perpendicular transects generated along the coastline\",\n          \"outputSource\": \"generate_transects/transects_geojson\"\n        },\n        \"transects_landcover\": {\n          \"type\": \"File\",\n          \"label\": \"Transects with landcover data\",\n          \"doc\": \"Transects enriched with landcover information\",\n          \"outputSource\": \"compute_landcover/result\"\n        },\n        \"transects_slope\": {\n          \"type\": \"File\",\n          \"label\": \"Transects with slope data\",\n          \"doc\": \"Transects enriched with slope information\",\n          \"outputSource\": \"compute_slope/result\"\n        },\n        \"transects_erosion\": {\n          \"type\": \"File\",\n          \"label\": \"Transects with erosion data\",\n          \"doc\": \"Transects enriched with erosion information\",\n          \"outputSource\": \"compute_erosion/result\"\n        },\n        \"transects_elevation\": {\n          \"type\": \"File\",\n          \"label\": \"Transects with elevation data\",\n          \"doc\": \"Transects enriched with elevation information\",\n          \"outputSource\": \"compute_elevation/result\"\n        },\n        \"cvi_geojson\": {\n          \"type\": \"File\",\n          \"label\": \"CVI results\",\n          \"doc\": \"Final Coastal Vulnerability Index values for all transects\",\n          \"outputSource\": \"compute_cvi/out_geojson\"\n        }\n      },\n      \"steps\": {\n        \"node_eodag_download_config\": {\n          \"label\": \"Download configuration [EODAG]\",\n          \"doc\": \"Download the configuration JSON file from STAC item\",\n          \"run\": \"#eodag_search\",\n          \"in\": {\n            \"stac_item_url\": \"config_stac_item_url\"\n          },\n          \"out\": [\n            \"data_output_dir\"\n          ]\n        },\n        \"node_eodag_download_aois\": {\n          \"label\": \"Download AOIs [EODAG]\",\n          \"doc\": \"Download the Mediterranean AOIs CSV from STAC item\",\n          \"run\": \"#eodag_search\",\n          \"in\": {\n            \"stac_item_url\": \"aois_stac_item_url\"\n          },\n          \"out\": [\n            \"data_output_dir\"\n          ]\n        },\n        \"node_eodag_download_tokens\": {\n          \"label\": \"Download tokens [EODAG]\",\n          \"doc\": \"Download the authentication tokens file from STAC item\",\n          \"run\": \"#eodag_search\",\n          \"in\": {\n            \"stac_item_url\": \"tokens_stac_item_url\"\n          },\n          \"out\": [\n            \"data_output_dir\"\n          ]\n        },\n        \"setup_env\": {\n          \"label\": \"Setup Environment\",\n          \"run\": \"#setup-env-tool\",\n          \"in\": {\n            \"config_json\": {\n              \"source\": \"node_eodag_download_config/data_output_dir\",\n              \"valueFrom\": \"$(self.listing.filter(function(f) { return f.basename.match(/.*\\\\.json$/i); })[0])\"\n            },\n            \"output_dir\": {\n              \"default\": \"output_data\"\n            }\n          },\n          \"out\": [\n            \"config_validated\"\n          ]\n        },\n        \"extract_coastline\": {\n          \"label\": \"Extract Coastline\",\n          \"run\": \"#extract-coastline-tool\",\n          \"in\": {\n            \"med_aois_csv\": {\n              \"source\": \"node_eodag_download_aois/data_output_dir\",\n              \"valueFrom\": \"$(self.listing.filter(function(f) { return f.basename.match(/.*\\\\.csv$/i); })[0])\"\n            },\n            \"output_dir\": {\n              \"default\": \"output_data\"\n            }\n          },\n          \"out\": [\n            \"coastline_gpkg\"\n          ]\n        },\n        \"generate_transects\": {\n          \"label\": \"Generate Transects\",\n          \"run\": \"#generate-transects-tool\",\n          \"in\": {\n            \"coastline_gpkg\": \"extract_coastline/coastline_gpkg\",\n            \"output_dir\": {\n              \"default\": \"output_data\"\n            }\n          },\n          \"out\": [\n            \"transects_geojson\"\n          ]\n        },\n        \"compute_landcover\": {\n          \"label\": \"Compute Landcover\",\n          \"run\": \"#compute-parameter-tool\",\n          \"in\": {\n            \"script\": {\n              \"default\": \"/app/steps/compute_landcover.py\"\n            },\n            \"transects_geojson\": \"generate_transects/transects_geojson\",\n            \"tokens_env\": {\n              \"source\": \"node_eodag_download_tokens/data_output_dir\",\n              \"valueFrom\": \"$(self.listing.filter(function(f) { return f.basename.match(/.*\\\\.env$/i); })[0])\"\n            },\n            \"config_json\": \"setup_env/config_validated\",\n            \"output_dir\": {\n              \"default\": \"output_data\"\n            }\n          },\n          \"out\": [\n            \"result\"\n          ]\n        },\n        \"compute_slope\": {\n          \"label\": \"Compute Slope\",\n          \"run\": \"#compute-parameter-tool\",\n          \"in\": {\n            \"script\": {\n              \"default\": \"/app/steps/compute_slope.py\"\n            },\n            \"transects_geojson\": \"generate_transects/transects_geojson\",\n            \"tokens_env\": {\n              \"source\": \"node_eodag_download_tokens/data_output_dir\",\n              \"valueFrom\": \"$(self.listing.filter(function(f) { return f.basename.match(/.*\\\\.env$/i); })[0])\"\n            },\n            \"config_json\": \"setup_env/config_validated\",\n            \"output_dir\": {\n              \"default\": \"output_data\"\n            }\n          },\n          \"out\": [\n            \"result\"\n          ]\n        },\n        \"compute_erosion\": {\n          \"label\": \"Compute Erosion\",\n          \"run\": \"#compute-parameter-tool\",\n          \"in\": {\n            \"script\": {\n              \"default\": \"/app/steps/compute_erosion.py\"\n            },\n            \"transects_geojson\": \"generate_transects/transects_geojson\",\n            \"tokens_env\": {\n              \"source\": \"node_eodag_download_tokens/data_output_dir\",\n              \"valueFrom\": \"$(self.listing.filter(function(f) { return f.basename.match(/.*\\\\.env$/i); })[0])\"\n            },\n            \"config_json\": \"setup_env/config_validated\",\n            \"output_dir\": {\n              \"default\": \"output_data\"\n            }\n          },\n          \"out\": [\n            \"result\"\n          ]\n        },\n        \"compute_elevation\": {\n          \"label\": \"Compute Elevation\",\n          \"run\": \"#compute-parameter-tool\",\n          \"in\": {\n            \"script\": {\n              \"default\": \"/app/steps/compute_elevation.py\"\n            },\n            \"transects_geojson\": \"generate_transects/transects_geojson\",\n            \"tokens_env\": {\n              \"source\": \"node_eodag_download_tokens/data_output_dir\",\n              \"valueFrom\": \"$(self.listing.filter(function(f) { return f.basename.match(/.*\\\\.env$/i); })[0])\"\n            },\n            \"config_json\": \"setup_env/config_validated\",\n            \"output_dir\": {\n              \"default\": \"output_data\"\n            }\n          },\n          \"out\": [\n            \"result\"\n          ]\n        },\n        \"compute_cvi\": {\n          \"label\": \"Compute CVI Index\",\n          \"run\": \"#compute-cvi-tool\",\n          \"in\": {\n            \"transects_landcover\": \"compute_landcover/result\",\n            \"transects_slope\": \"compute_slope/result\",\n            \"transects_erosion\": \"compute_erosion/result\",\n            \"transects_elevation\": \"compute_elevation/result\",\n            \"config_json\": \"setup_env/config_validated\",\n            \"output_dir\": {\n              \"default\": \"output_data\"\n            }\n          },\n          \"out\": [\n            \"out_geojson\"\n          ]\n        }\n      }\n    },\n    {\n      \"class\": \"CommandLineTool\",\n      \"id\": \"setup-env-tool\",\n      \"label\": \"Setup Environment\",\n      \"doc\": \"Validates configuration and initializes the working environment\",\n      \"baseCommand\": [\n        \"python3\",\n        \"/app/steps/setup_env.py\"\n      ],\n      \"hints\": {\n        \"DockerRequirement\": {\n          \"dockerPull\": \"ghcr.io/hartis-org/cvi-workflow:latest\"\n        }\n      },\n      \"requirements\": {\n        \"InlineJavascriptRequirement\": {},\n        \"InitialWorkDirRequirement\": {\n          \"listing\": [\n            \"$(inputs.config_json)\",\n            {\n              \"entry\": \"$({class: 'Directory', listing: []})\",\n              \"entryname\": \"$(inputs.output_dir)\",\n              \"writable\": true\n            }\n          ]\n        }\n      },\n      \"inputs\": {\n        \"config_json\": {\n          \"type\": \"File\",\n          \"inputBinding\": {\n            \"position\": 1\n          },\n          \"doc\": \"Configuration JSON file\"\n        },\n        \"output_dir\": {\n          \"type\": \"string\",\n          \"inputBinding\": {\n            \"position\": 2\n          },\n          \"doc\": \"Output directory path\"\n        }\n      },\n      \"outputs\": {\n        \"config_validated\": {\n          \"type\": \"File\",\n          \"outputBinding\": {\n            \"glob\": \"$(inputs.output_dir)/config_validated.json\"\n          },\n          \"doc\": \"Validated configuration file\"\n        }\n      }\n    },\n    {\n      \"class\": \"CommandLineTool\",\n      \"id\": \"extract-coastline-tool\",\n      \"label\": \"Extract Coastline\",\n      \"doc\": \"Extracts coastline geometry from Mediterranean AOIs\",\n      \"baseCommand\": [\n        \"python3\",\n        \"/app/steps/extract_coastline.py\"\n      ],\n      \"hints\": {\n        \"DockerRequirement\": {\n          \"dockerPull\": \"ghcr.io/hartis-org/cvi-workflow:latest\"\n        }\n      },\n      \"requirements\": {\n        \"InlineJavascriptRequirement\": {},\n        \"InitialWorkDirRequirement\": {\n          \"listing\": [\n            \"$(inputs.med_aois_csv)\",\n            {\n              \"entry\": \"$({class: 'Directory', listing: []})\",\n              \"entryname\": \"$(inputs.output_dir)\",\n              \"writable\": true\n            }\n          ]\n        }\n      },\n      \"inputs\": {\n        \"med_aois_csv\": {\n          \"type\": \"File\",\n          \"inputBinding\": {\n            \"position\": 1\n          },\n          \"doc\": \"Mediterranean areas of interest CSV\"\n        },\n        \"output_dir\": {\n          \"type\": \"string\",\n          \"inputBinding\": {\n            \"position\": 2\n          },\n          \"doc\": \"Output directory path\"\n        }\n      },\n      \"outputs\": {\n        \"coastline_gpkg\": {\n          \"type\": \"File\",\n          \"outputBinding\": {\n            \"glob\": \"$(inputs.output_dir)/coastline.gpkg\"\n          },\n          \"doc\": \"Extracted coastline GeoPackage\"\n        }\n      }\n    },\n    {\n      \"class\": \"CommandLineTool\",\n      \"id\": \"generate-transects-tool\",\n      \"label\": \"Generate Transects\",\n      \"doc\": \"Generates perpendicular transects along the coastline\",\n      \"baseCommand\": [\n        \"python3\",\n        \"/app/steps/generate_transects.py\"\n      ],\n      \"hints\": {\n        \"DockerRequirement\": {\n          \"dockerPull\": \"ghcr.io/hartis-org/cvi-workflow:latest\"\n        }\n      },\n      \"requirements\": {\n        \"InlineJavascriptRequirement\": {},\n        \"InitialWorkDirRequirement\": {\n          \"listing\": [\n            \"$(inputs.coastline_gpkg)\",\n            {\n              \"entry\": \"$({class: 'Directory', listing: []})\",\n              \"entryname\": \"$(inputs.output_dir)\",\n              \"writable\": true\n            }\n          ]\n        }\n      },\n      \"inputs\": {\n        \"coastline_gpkg\": {\n          \"type\": \"File\",\n          \"inputBinding\": {\n            \"position\": 1\n          },\n          \"doc\": \"Coastline GeoPackage\"\n        },\n        \"output_dir\": {\n          \"type\": \"string\",\n          \"inputBinding\": {\n            \"position\": 2\n          },\n          \"doc\": \"Output directory path\"\n        }\n      },\n      \"outputs\": {\n        \"transects_geojson\": {\n          \"type\": \"File\",\n          \"outputBinding\": {\n            \"glob\": \"$(inputs.output_dir)/transects.geojson\"\n          },\n          \"doc\": \"Generated transects GeoJSON\"\n        }\n      }\n    },\n    {\n      \"class\": \"CommandLineTool\",\n      \"id\": \"compute-parameter-tool\",\n      \"label\": \"Compute Parameter\",\n      \"doc\": \"Computes a CVI parameter (landcover, slope, erosion, or elevation) for transects\",\n      \"baseCommand\": [\n        \"python3\"\n      ],\n      \"hints\": {\n        \"DockerRequirement\": {\n          \"dockerPull\": \"ghcr.io/hartis-org/cvi-workflow:latest\"\n        }\n      },\n      \"requirements\": {\n        \"InlineJavascriptRequirement\": {},\n        \"InitialWorkDirRequirement\": {\n          \"listing\": [\n            {\n              \"entry\": \"$(inputs.transects_geojson)\"\n            },\n            {\n              \"entry\": \"$(inputs.tokens_env)\"\n            },\n            {\n              \"entry\": \"$(inputs.config_json)\"\n            },\n            {\n              \"entry\": \"$({class: 'Directory', listing: []})\",\n              \"entryname\": \"$(inputs.output_dir)\",\n              \"writable\": true\n            }\n          ]\n        }\n      },\n      \"inputs\": {\n        \"script\": {\n          \"type\": \"string\",\n          \"inputBinding\": {\n            \"position\": 0\n          },\n          \"doc\": \"Python script path for parameter computation\"\n        },\n        \"transects_geojson\": {\n          \"type\": \"File\",\n          \"inputBinding\": {\n            \"position\": 1\n          },\n          \"doc\": \"Transects GeoJSON file\"\n        },\n        \"tokens_env\": {\n          \"type\": \"File\",\n          \"inputBinding\": {\n            \"position\": 2\n          },\n          \"doc\": \"Authentication tokens file\"\n        },\n        \"config_json\": {\n          \"type\": \"File\",\n          \"inputBinding\": {\n            \"position\": 3\n          },\n          \"doc\": \"Configuration JSON file\"\n        },\n        \"output_dir\": {\n          \"type\": \"string\",\n          \"inputBinding\": {\n            \"position\": 4\n          },\n          \"doc\": \"Output directory path\"\n        }\n      },\n      \"outputs\": {\n        \"result\": {\n          \"type\": \"File\",\n          \"outputBinding\": {\n            \"glob\": \"$(inputs.output_dir)/*.geojson\"\n          },\n          \"doc\": \"Transects enriched with parameter data\"\n        }\n      }\n    },\n    {\n      \"class\": \"CommandLineTool\",\n      \"id\": \"compute-cvi-tool\",\n      \"label\": \"Compute CVI\",\n      \"doc\": \"Computes final Coastal Vulnerability Index from all parameters\",\n      \"baseCommand\": [\n        \"python3\",\n        \"/app/steps/compute_cvi.py\"\n      ],\n      \"hints\": {\n        \"DockerRequirement\": {\n          \"dockerPull\": \"ghcr.io/hartis-org/cvi-workflow:latest\"\n        }\n      },\n      \"requirements\": {\n        \"InlineJavascriptRequirement\": {},\n        \"InitialWorkDirRequirement\": {\n          \"listing\": [\n            \"$(inputs.transects_landcover)\",\n            \"$(inputs.transects_slope)\",\n            \"$(inputs.transects_erosion)\",\n            \"$(inputs.transects_elevation)\",\n            \"$(inputs.config_json)\",\n            {\n              \"entry\": \"$({class: 'Directory', listing: []})\",\n              \"entryname\": \"$(inputs.output_dir)\",\n              \"writable\": true\n            }\n          ]\n        }\n      },\n      \"inputs\": {\n        \"transects_landcover\": {\n          \"type\": \"File\",\n          \"inputBinding\": {\n            \"position\": 1\n          },\n          \"doc\": \"Transects with landcover data\"\n        },\n        \"transects_slope\": {\n          \"type\": \"File\",\n          \"inputBinding\": {\n            \"position\": 2\n          },\n          \"doc\": \"Transects with slope data\"\n        },\n        \"transects_erosion\": {\n          \"type\": \"File\",\n          \"inputBinding\": {\n            \"position\": 3\n          },\n          \"doc\": \"Transects with erosion data\"\n        },\n        \"transects_elevation\": {\n          \"type\": \"File\",\n          \"inputBinding\": {\n            \"position\": 4\n          },\n          \"doc\": \"Transects with elevation data\"\n        },\n        \"config_json\": {\n          \"type\": \"File\",\n          \"inputBinding\": {\n            \"position\": 5\n          },\n          \"doc\": \"Configuration JSON file\"\n        },\n        \"output_dir\": {\n          \"type\": \"string\",\n          \"inputBinding\": {\n            \"position\": 6\n          },\n          \"doc\": \"Output directory path\"\n        }\n      },\n      \"outputs\": {\n        \"out_geojson\": {\n          \"type\": \"File\",\n          \"outputBinding\": {\n            \"glob\": \"$(inputs.output_dir)/transects_with_cvi_equal.geojson\"\n          },\n          \"doc\": \"Final CVI results GeoJSON\"\n        }\n      }\n    },\n    {\n      \"class\": \"CommandLineTool\",\n      \"id\": \"eodag_search\",\n      \"label\": \"Download input data\",\n      \"doc\": \"Downloads STAC item assets using EODAG\",\n      \"s:softwareVersion\": \"latest\",\n      \"hints\": {\n        \"DockerRequirement\": {\n          \"dockerPull\": \"ghcr.io/cs-si/eodag:v3.10.x\"\n        }\n      },\n      \"requirements\": {\n        \"InlineJavascriptRequirement\": {},\n        \"NetworkAccess\": {\n          \"networkAccess\": true\n        }\n      },\n      \"baseCommand\": [\n        \"eodag\",\n        \"download\"\n      ],\n      \"arguments\": [\n        {\n          \"prefix\": \"--output-dir\",\n          \"valueFrom\": \"$(runtime.outdir)\"\n        }\n      ],\n      \"inputs\": {\n        \"stac_item_url\": {\n          \"type\": \"string\",\n          \"inputBinding\": {\n            \"prefix\": \"--stac-item\"\n          },\n          \"doc\": \"URL of the STAC item to download\"\n        }\n      },\n      \"outputs\": {\n        \"data_output_dir\": {\n          \"type\": \"Directory\",\n          \"outputBinding\": {\n            \"glob\": \"$(runtime.outdir)/*\"\n          },\n          \"doc\": \"Directory containing downloaded STAC item assets\"\n        }\n      }\n    }\n  ]\n}",
          "url": "https://geolabs.github.io/bblocks-eoap-cct/build/tests/cct/cwl-to-ogcprocess/example_6_2.jsonld"
        },
        {
          "language": "ttl",
          "code": "@prefix cwl: <https://w3id.org/cwl/cwl#> .\n@prefix dct: <http://purl.org/dc/terms/> .\n@prefix ns1: <rdf:> .\n@prefix ns2: <s:> .\n@prefix ogcproc: <http://www.opengis.net/def/ogcapi/processes/> .\n@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n[] cwl:cwlVersion <file:///github/workspace/v1.2> ;\n    cwl:graph [ rdfs:label \"Download input data\"^^xsd:string ;\n            dct:identifier <file:///github/workspace/eodag_search> ;\n            ogcproc:input _:Nf5ec6ffc40d14d24ae8462516f0564e4 ;\n            ogcproc:output _:Ne7636444d64d4a66a19fc94c20524f32 ;\n            rdfs:comment \"Downloads STAC item assets using EODAG\"^^xsd:string ;\n            cwl:arguments ( [ cwl:prefix \"--output-dir\"^^xsd:string ;\n                        cwl:valueFrom \"$(runtime.outdir)\"^^xsd:string ] ) ;\n            cwl:baseCommand \"[\\\"eodag\\\",\\\"download\\\"]\"^^rdf:JSON ;\n            cwl:hints [ cwl:DockerRequirement [ cwl:dockerPull \"ghcr.io/cs-si/eodag:v3.10.x\"^^xsd:string ] ] ;\n            cwl:input _:Nf5ec6ffc40d14d24ae8462516f0564e4 ;\n            cwl:output _:Ne7636444d64d4a66a19fc94c20524f32 ;\n            cwl:requirements [ cwl:InlineJavascriptRequirement [ ] ;\n                    cwl:NetworkAccess [ cwl:networkAccess true ] ] ;\n            ns1:type <file:///github/workspace/CommandLineTool> ;\n            ns2:softwareVersion \"latest\" ],\n        [ rdfs:label \"Compute CVI\"^^xsd:string ;\n            dct:identifier <file:///github/workspace/compute-cvi-tool> ;\n            ogcproc:input _:N97b6d11d25b84b889cab25fde26c9d1b ;\n            ogcproc:output _:Ncc7c4492702d470f8216f62472804d63 ;\n            rdfs:comment \"Computes final Coastal Vulnerability Index from all parameters\"^^xsd:string ;\n            cwl:baseCommand \"[\\\"python3\\\",\\\"/app/steps/compute_cvi.py\\\"]\"^^rdf:JSON ;\n            cwl:hints [ cwl:DockerRequirement [ cwl:dockerPull \"ghcr.io/hartis-org/cvi-workflow:latest\"^^xsd:string ] ] ;\n            cwl:input _:N97b6d11d25b84b889cab25fde26c9d1b ;\n            cwl:output _:Ncc7c4492702d470f8216f62472804d63 ;\n            cwl:requirements [ cwl:InitialWorkDirRequirement [ cwl:listing [ cwl:entry \"$({class: 'Directory', listing: []})\" ;\n                                    cwl:entryname \"$(inputs.output_dir)\" ;\n                                    cwl:writable true ],\n                                \"$(inputs.config_json)\",\n                                \"$(inputs.transects_elevation)\",\n                                \"$(inputs.transects_erosion)\",\n                                \"$(inputs.transects_landcover)\",\n                                \"$(inputs.transects_slope)\" ] ;\n                    cwl:InlineJavascriptRequirement [ ] ] ;\n            ns1:type <file:///github/workspace/CommandLineTool> ],\n        [ rdfs:label \"CVI Workflow (Dockerized)\"^^xsd:string ;\n            dct:identifier <file:///github/workspace/cvi-workflow> ;\n            ogcproc:input _:N4d48305395d0469399a5e624b20556bd ;\n            ogcproc:output _:Nf83dc1dd84a5498db7a9f1807cc297ca ;\n            rdfs:comment \"\"\"This workflow computes the Coastal Vulnerability Index (CVI) for Mediterranean coastal areas.\nIt processes coastline data, generates transects, computes various coastal parameters\n(landcover, slope, erosion, elevation), and calculates the final CVI values.\n\"\"\"^^xsd:string ;\n            cwl:input _:N4d48305395d0469399a5e624b20556bd ;\n            cwl:output _:Nf83dc1dd84a5498db7a9f1807cc297ca ;\n            cwl:requirements [ cwl:InlineJavascriptRequirement [ ] ;\n                    cwl:StepInputExpressionRequirement [ ] ] ;\n            cwl:steps [ cwl:compute_cvi [ rdfs:label \"Compute CVI Index\"^^xsd:string ;\n                            cwl:in [ cwl:config_json \"setup_env/config_validated\" ;\n                                    cwl:output_dir [ cwl:default \"\\\"output_data\\\"\"^^rdf:JSON ] ;\n                                    cwl:transects_elevation \"compute_elevation/result\" ;\n                                    cwl:transects_erosion \"compute_erosion/result\" ;\n                                    cwl:transects_landcover \"compute_landcover/result\" ;\n                                    cwl:transects_slope \"compute_slope/result\" ] ;\n                            cwl:out ( \"out_geojson\" ) ;\n                            cwl:run <file:///github/workspace/#compute-cvi-tool> ] ;\n                    cwl:compute_elevation [ rdfs:label \"Compute Elevation\"^^xsd:string ;\n                            cwl:in [ cwl:config_json \"setup_env/config_validated\" ;\n                                    cwl:output_dir [ cwl:default \"\\\"output_data\\\"\"^^rdf:JSON ] ;\n                                    cwl:script [ cwl:default \"\\\"/app/steps/compute_elevation.py\\\"\"^^rdf:JSON ] ;\n                                    cwl:tokens_env [ cwl:source <file:///github/workspace/node_eodag_download_tokens/data_output_dir> ;\n                                            cwl:valueFrom \"$(self.listing.filter(function(f) { return f.basename.match(/.*\\\\.env$/i); })[0])\"^^xsd:string ] ;\n                                    cwl:transects_geojson \"generate_transects/transects_geojson\" ] ;\n                            cwl:out ( \"result\" ) ;\n                            cwl:run <file:///github/workspace/#compute-parameter-tool> ] ;\n                    cwl:compute_erosion [ rdfs:label \"Compute Erosion\"^^xsd:string ;\n                            cwl:in [ cwl:config_json \"setup_env/config_validated\" ;\n                                    cwl:output_dir [ cwl:default \"\\\"output_data\\\"\"^^rdf:JSON ] ;\n                                    cwl:script [ cwl:default \"\\\"/app/steps/compute_erosion.py\\\"\"^^rdf:JSON ] ;\n                                    cwl:tokens_env [ cwl:source <file:///github/workspace/node_eodag_download_tokens/data_output_dir> ;\n                                            cwl:valueFrom \"$(self.listing.filter(function(f) { return f.basename.match(/.*\\\\.env$/i); })[0])\"^^xsd:string ] ;\n                                    cwl:transects_geojson \"generate_transects/transects_geojson\" ] ;\n                            cwl:out ( \"result\" ) ;\n                            cwl:run <file:///github/workspace/#compute-parameter-tool> ] ;\n                    cwl:compute_landcover [ rdfs:label \"Compute Landcover\"^^xsd:string ;\n                            cwl:in [ cwl:config_json \"setup_env/config_validated\" ;\n                                    cwl:output_dir [ cwl:default \"\\\"output_data\\\"\"^^rdf:JSON ] ;\n                                    cwl:script [ cwl:default \"\\\"/app/steps/compute_landcover.py\\\"\"^^rdf:JSON ] ;\n                                    cwl:tokens_env [ cwl:source <file:///github/workspace/node_eodag_download_tokens/data_output_dir> ;\n                                            cwl:valueFrom \"$(self.listing.filter(function(f) { return f.basename.match(/.*\\\\.env$/i); })[0])\"^^xsd:string ] ;\n                                    cwl:transects_geojson \"generate_transects/transects_geojson\" ] ;\n                            cwl:out ( \"result\" ) ;\n                            cwl:run <file:///github/workspace/#compute-parameter-tool> ] ;\n                    cwl:compute_slope [ rdfs:label \"Compute Slope\"^^xsd:string ;\n                            cwl:in [ cwl:config_json \"setup_env/config_validated\" ;\n                                    cwl:output_dir [ cwl:default \"\\\"output_data\\\"\"^^rdf:JSON ] ;\n                                    cwl:script [ cwl:default \"\\\"/app/steps/compute_slope.py\\\"\"^^rdf:JSON ] ;\n                                    cwl:tokens_env [ cwl:source <file:///github/workspace/node_eodag_download_tokens/data_output_dir> ;\n                                            cwl:valueFrom \"$(self.listing.filter(function(f) { return f.basename.match(/.*\\\\.env$/i); })[0])\"^^xsd:string ] ;\n                                    cwl:transects_geojson \"generate_transects/transects_geojson\" ] ;\n                            cwl:out ( \"result\" ) ;\n                            cwl:run <file:///github/workspace/#compute-parameter-tool> ] ;\n                    cwl:extract_coastline [ rdfs:label \"Extract Coastline\"^^xsd:string ;\n                            cwl:in [ cwl:med_aois_csv [ cwl:source <file:///github/workspace/node_eodag_download_aois/data_output_dir> ;\n                                            cwl:valueFrom \"$(self.listing.filter(function(f) { return f.basename.match(/.*\\\\.csv$/i); })[0])\"^^xsd:string ] ;\n                                    cwl:output_dir [ cwl:default \"\\\"output_data\\\"\"^^rdf:JSON ] ] ;\n                            cwl:out ( \"coastline_gpkg\" ) ;\n                            cwl:run <file:///github/workspace/#extract-coastline-tool> ] ;\n                    cwl:generate_transects [ rdfs:label \"Generate Transects\"^^xsd:string ;\n                            cwl:in [ cwl:coastline_gpkg \"extract_coastline/coastline_gpkg\" ;\n                                    cwl:output_dir [ cwl:default \"\\\"output_data\\\"\"^^rdf:JSON ] ] ;\n                            cwl:out ( \"transects_geojson\" ) ;\n                            cwl:run <file:///github/workspace/#generate-transects-tool> ] ;\n                    cwl:node_eodag_download_aois [ rdfs:label \"Download AOIs [EODAG]\"^^xsd:string ;\n                            rdfs:comment \"Download the Mediterranean AOIs CSV from STAC item\"^^xsd:string ;\n                            cwl:in [ cwl:stac_item_url \"aois_stac_item_url\" ] ;\n                            cwl:out ( \"data_output_dir\" ) ;\n                            cwl:run <file:///github/workspace/#eodag_search> ] ;\n                    cwl:node_eodag_download_config [ rdfs:label \"Download configuration [EODAG]\"^^xsd:string ;\n                            rdfs:comment \"Download the configuration JSON file from STAC item\"^^xsd:string ;\n                            cwl:in [ cwl:stac_item_url \"config_stac_item_url\" ] ;\n                            cwl:out ( \"data_output_dir\" ) ;\n                            cwl:run <file:///github/workspace/#eodag_search> ] ;\n                    cwl:node_eodag_download_tokens [ rdfs:label \"Download tokens [EODAG]\"^^xsd:string ;\n                            rdfs:comment \"Download the authentication tokens file from STAC item\"^^xsd:string ;\n                            cwl:in [ cwl:stac_item_url \"tokens_stac_item_url\" ] ;\n                            cwl:out ( \"data_output_dir\" ) ;\n                            cwl:run <file:///github/workspace/#eodag_search> ] ;\n                    cwl:setup_env [ rdfs:label \"Setup Environment\"^^xsd:string ;\n                            cwl:in [ cwl:config_json [ cwl:source <file:///github/workspace/node_eodag_download_config/data_output_dir> ;\n                                            cwl:valueFrom \"$(self.listing.filter(function(f) { return f.basename.match(/.*\\\\.json$/i); })[0])\"^^xsd:string ] ;\n                                    cwl:output_dir [ cwl:default \"\\\"output_data\\\"\"^^rdf:JSON ] ] ;\n                            cwl:out ( \"config_validated\" ) ;\n                            cwl:run <file:///github/workspace/#setup-env-tool> ] ] ;\n            ns1:type <file:///github/workspace/Workflow> ;\n            ns2:author [ ns1:type ns2:Person ;\n                    ns2:name \"HARTIS Organization\" ;\n                    ns2:url \"https://github.com/hartis-org\" ] ;\n            ns2:codeRepository \"https://github.com/hartis-org/cvi-workflow\" ;\n            ns2:dateCreated \"2024-01-01\" ;\n            ns2:keywords \"CVI, coastal vulnerability, Mediterranean, earth observation\" ;\n            ns2:license \"https://opensource.org/licenses/MIT\" ;\n            ns2:version \"1.0.0\" ],\n        [ rdfs:label \"Setup Environment\"^^xsd:string ;\n            dct:identifier <file:///github/workspace/setup-env-tool> ;\n            ogcproc:input _:N605ab1e98cb141f3ae26fe3870be7eb9 ;\n            ogcproc:output _:Neb9ebc6cf7524aa58358484c3af2c310 ;\n            rdfs:comment \"Validates configuration and initializes the working environment\"^^xsd:string ;\n            cwl:baseCommand \"[\\\"python3\\\",\\\"/app/steps/setup_env.py\\\"]\"^^rdf:JSON ;\n            cwl:hints [ cwl:DockerRequirement [ cwl:dockerPull \"ghcr.io/hartis-org/cvi-workflow:latest\"^^xsd:string ] ] ;\n            cwl:input _:N605ab1e98cb141f3ae26fe3870be7eb9 ;\n            cwl:output _:Neb9ebc6cf7524aa58358484c3af2c310 ;\n            cwl:requirements [ cwl:InitialWorkDirRequirement [ cwl:listing [ cwl:entry \"$({class: 'Directory', listing: []})\" ;\n                                    cwl:entryname \"$(inputs.output_dir)\" ;\n                                    cwl:writable true ],\n                                \"$(inputs.config_json)\" ] ;\n                    cwl:InlineJavascriptRequirement [ ] ] ;\n            ns1:type <file:///github/workspace/CommandLineTool> ],\n        [ rdfs:label \"Generate Transects\"^^xsd:string ;\n            dct:identifier <file:///github/workspace/generate-transects-tool> ;\n            ogcproc:input _:N1043302db592425f8fa9d55de737c1d7 ;\n            ogcproc:output _:Nbaaf535724834816ad35bd40e5abe8b8 ;\n            rdfs:comment \"Generates perpendicular transects along the coastline\"^^xsd:string ;\n            cwl:baseCommand \"[\\\"python3\\\",\\\"/app/steps/generate_transects.py\\\"]\"^^rdf:JSON ;\n            cwl:hints [ cwl:DockerRequirement [ cwl:dockerPull \"ghcr.io/hartis-org/cvi-workflow:latest\"^^xsd:string ] ] ;\n            cwl:input _:N1043302db592425f8fa9d55de737c1d7 ;\n            cwl:output _:Nbaaf535724834816ad35bd40e5abe8b8 ;\n            cwl:requirements [ cwl:InitialWorkDirRequirement [ cwl:listing [ cwl:entry \"$({class: 'Directory', listing: []})\" ;\n                                    cwl:entryname \"$(inputs.output_dir)\" ;\n                                    cwl:writable true ],\n                                \"$(inputs.coastline_gpkg)\" ] ;\n                    cwl:InlineJavascriptRequirement [ ] ] ;\n            ns1:type <file:///github/workspace/CommandLineTool> ],\n        [ rdfs:label \"Extract Coastline\"^^xsd:string ;\n            dct:identifier <file:///github/workspace/extract-coastline-tool> ;\n            ogcproc:input _:N76011466cba84e75b94f87e19ef78d02 ;\n            ogcproc:output _:N7c4a64c6ff45488a80f5d860f09e10dc ;\n            rdfs:comment \"Extracts coastline geometry from Mediterranean AOIs\"^^xsd:string ;\n            cwl:baseCommand \"[\\\"python3\\\",\\\"/app/steps/extract_coastline.py\\\"]\"^^rdf:JSON ;\n            cwl:hints [ cwl:DockerRequirement [ cwl:dockerPull \"ghcr.io/hartis-org/cvi-workflow:latest\"^^xsd:string ] ] ;\n            cwl:input _:N76011466cba84e75b94f87e19ef78d02 ;\n            cwl:output _:N7c4a64c6ff45488a80f5d860f09e10dc ;\n            cwl:requirements [ cwl:InitialWorkDirRequirement [ cwl:listing [ cwl:entry \"$({class: 'Directory', listing: []})\" ;\n                                    cwl:entryname \"$(inputs.output_dir)\" ;\n                                    cwl:writable true ],\n                                \"$(inputs.med_aois_csv)\" ] ;\n                    cwl:InlineJavascriptRequirement [ ] ] ;\n            ns1:type <file:///github/workspace/CommandLineTool> ],\n        [ rdfs:label \"Compute Parameter\"^^xsd:string ;\n            dct:identifier <file:///github/workspace/compute-parameter-tool> ;\n            ogcproc:input _:Ncc313451f4404e7ebe5dc59299f5edde ;\n            ogcproc:output _:Nbddc187a178648ae90ee5d6614844ae6 ;\n            rdfs:comment \"Computes a CVI parameter (landcover, slope, erosion, or elevation) for transects\"^^xsd:string ;\n            cwl:baseCommand \"[\\\"python3\\\"]\"^^rdf:JSON ;\n            cwl:hints [ cwl:DockerRequirement [ cwl:dockerPull \"ghcr.io/hartis-org/cvi-workflow:latest\"^^xsd:string ] ] ;\n            cwl:input _:Ncc313451f4404e7ebe5dc59299f5edde ;\n            cwl:output _:Nbddc187a178648ae90ee5d6614844ae6 ;\n            cwl:requirements [ cwl:InitialWorkDirRequirement [ cwl:listing [ cwl:entry \"$(inputs.config_json)\" ],\n                                [ cwl:entry \"$(inputs.tokens_env)\" ],\n                                [ cwl:entry \"$(inputs.transects_geojson)\" ],\n                                [ cwl:entry \"$({class: 'Directory', listing: []})\" ;\n                                    cwl:entryname \"$(inputs.output_dir)\" ;\n                                    cwl:writable true ] ] ;\n                    cwl:InlineJavascriptRequirement [ ] ] ;\n            ns1:type <file:///github/workspace/CommandLineTool> ] ;\n    cwl:namespaces \"{\\\"s\\\":\\\"https://schema.org/\\\"}\"^^rdf:JSON ;\n    cwl:schemas ( \"http://schema.org/version/latest/schemaorg-current-http.rdf\" ) .\n\n_:N00afa96c66944648991382f63b3b2de0 cwl:glob \"$(inputs.output_dir)/coastline.gpkg\"^^xsd:string .\n\n_:N016d1596201e4d55813802a27c65ed83 rdfs:comment \"Mediterranean areas of interest CSV\"^^xsd:string ;\n    cwl:inputBinding [ cwl:position \"1\"^^xsd:int ] ;\n    cwl:type <file:///github/workspace/File> .\n\n_:N0338737842a34c659ffa009e20ef517c cwl:position \"2\"^^xsd:int .\n\n_:N0a7d91949faf4c519e5b2bf24c810aff cwl:out_geojson [ rdfs:comment \"Final CVI results GeoJSON\"^^xsd:string ;\n            cwl:outputBinding [ cwl:glob \"$(inputs.output_dir)/transects_with_cvi_equal.geojson\"^^xsd:string ] ;\n            cwl:type <file:///github/workspace/File> ] .\n\n_:N0ae5d7ba06ae4b51abcc8d5abc27aec9 cwl:position \"4\"^^xsd:int .\n\n_:N1232c84a454f43ad903d0038dbccda8e rdfs:comment \"Output directory path\"^^xsd:string ;\n    cwl:inputBinding [ cwl:position \"2\"^^xsd:int ] ;\n    cwl:type <file:///github/workspace/string> .\n\n_:N13f66a7797154fcdb91a06bb5544dbc4 cwl:transects_geojson [ rdfs:comment \"Generated transects GeoJSON\"^^xsd:string ;\n            cwl:outputBinding [ cwl:glob \"$(inputs.output_dir)/transects.geojson\"^^xsd:string ] ;\n            cwl:type <file:///github/workspace/File> ] .\n\n_:N16fde73b089542e69247d85c05c726de rdfs:label \"Configuration STAC item URL\"^^xsd:string ;\n    rdfs:comment \"URL of the STAC item containing the configuration JSON file\"^^xsd:string ;\n    cwl:default \"\\\"https://eocatalog.p2.csgroup.space/collections/cvi-workflow-resources/items/cvi-scoring-configuration\\\"\"^^rdf:JSON ;\n    cwl:type <file:///github/workspace/string> .\n\n_:N1d729686a27345d1bee7ab7de82a3ef6 cwl:coastline_gpkg [ rdfs:comment \"Extracted coastline GeoPackage\"^^xsd:string ;\n            cwl:outputBinding _:N00afa96c66944648991382f63b3b2de0 ;\n            cwl:type <file:///github/workspace/File> ] .\n\n_:N1e91e574a24f41ec9dabebf187c5f8f1 rdfs:comment \"Python script path for parameter computation\"^^xsd:string ;\n    cwl:inputBinding [ cwl:position \"0\"^^xsd:int ] ;\n    cwl:type <file:///github/workspace/string> .\n\n_:N20f3bccb4e7642b3bfad0a9a6d22b716 cwl:config_validated [ rdfs:comment \"Validated configuration file\"^^xsd:string ;\n            cwl:outputBinding [ cwl:glob \"$(inputs.output_dir)/config_validated.json\"^^xsd:string ] ;\n            cwl:type <file:///github/workspace/File> ] .\n\n_:N2245a9de93e54a5c946878f6f721eca1 cwl:config_json [ rdfs:comment \"Configuration JSON file\"^^xsd:string ;\n            cwl:inputBinding [ cwl:position \"3\"^^xsd:int ] ;\n            cwl:type <file:///github/workspace/File> ] ;\n    cwl:output_dir [ rdfs:comment \"Output directory path\"^^xsd:string ;\n            cwl:inputBinding [ cwl:position \"4\"^^xsd:int ] ;\n            cwl:type <file:///github/workspace/string> ] ;\n    cwl:script _:N1e91e574a24f41ec9dabebf187c5f8f1 ;\n    cwl:tokens_env [ rdfs:comment \"Authentication tokens file\"^^xsd:string ;\n            cwl:inputBinding [ cwl:position \"2\"^^xsd:int ] ;\n            cwl:type <file:///github/workspace/File> ] ;\n    cwl:transects_geojson [ rdfs:comment \"Transects GeoJSON file\"^^xsd:string ;\n            cwl:inputBinding [ cwl:position \"1\"^^xsd:int ] ;\n            cwl:type <file:///github/workspace/File> ] .\n\n_:N2a6a4eb71a8c4eca907cebfc5f082f1d rdfs:label \"Coastline GeoPackage\"^^xsd:string ;\n    rdfs:comment \"Extracted coastline geometry in GeoPackage format\"^^xsd:string ;\n    cwl:outputSource <file:///github/workspace/extract_coastline/coastline_gpkg> ;\n    cwl:type <file:///github/workspace/File> .\n\n_:N35a70288f53d4414a8e3bf9db246f302 rdfs:comment \"Transects with elevation data\"^^xsd:string ;\n    cwl:inputBinding _:N0ae5d7ba06ae4b51abcc8d5abc27aec9 ;\n    cwl:type <file:///github/workspace/File> .\n\n_:N35e4bc4bf41b48008493c0242ff24325 cwl:coastline_gpkg [ rdfs:comment \"Coastline GeoPackage\"^^xsd:string ;\n            cwl:inputBinding [ cwl:position \"1\"^^xsd:int ] ;\n            cwl:type <file:///github/workspace/File> ] ;\n    cwl:output_dir _:N1232c84a454f43ad903d0038dbccda8e .\n\n_:N39ef8c3dbaa84b898b9de29fb4e07db1 rdfs:label \"Transects with landcover data\"^^xsd:string ;\n    rdfs:comment \"Transects enriched with landcover information\"^^xsd:string ;\n    cwl:outputSource <file:///github/workspace/compute_landcover/result> ;\n    cwl:type <file:///github/workspace/File> .\n\n_:N4341c7bb1bdf470ba7f796bda159d568 cwl:position \"3\"^^xsd:int .\n\n_:N498ca5701bec4320a861461ab0d04744 cwl:position \"2\"^^xsd:int .\n\n_:N4c8df3c45d7049668d965f94aba53320 rdfs:comment \"Output directory path\"^^xsd:string ;\n    cwl:inputBinding [ cwl:position \"2\"^^xsd:int ] ;\n    cwl:type <file:///github/workspace/string> .\n\n_:N503912ffe61a447d8f0c4cb5cd70efbc rdfs:comment \"Directory containing downloaded STAC item assets\"^^xsd:string ;\n    cwl:outputBinding [ cwl:glob \"$(runtime.outdir)/*\"^^xsd:string ] ;\n    cwl:type <file:///github/workspace/Directory> .\n\n_:N526d1c9a5f65480b89c0c106df6e430c rdfs:comment \"Transects with landcover data\"^^xsd:string ;\n    cwl:inputBinding [ cwl:position \"1\"^^xsd:int ] ;\n    cwl:type <file:///github/workspace/File> .\n\n_:N53daf27ba9de43e19d0de962c4845390 cwl:result [ rdfs:comment \"Transects enriched with parameter data\"^^xsd:string ;\n            cwl:outputBinding [ cwl:glob \"$(inputs.output_dir)/*.geojson\"^^xsd:string ] ;\n            cwl:type <file:///github/workspace/File> ] .\n\n_:N5f87c300842a443d8c627ee11856aaf7 rdfs:label \"CVI results\"^^xsd:string ;\n    rdfs:comment \"Final Coastal Vulnerability Index values for all transects\"^^xsd:string ;\n    cwl:outputSource <file:///github/workspace/compute_cvi/out_geojson> ;\n    cwl:type <file:///github/workspace/File> .\n\n_:N6339cf8bffc24eb89acd51cd95e5a66b rdfs:comment \"URL of the STAC item to download\"^^xsd:string ;\n    cwl:inputBinding [ cwl:prefix \"--stac-item\"^^xsd:string ] ;\n    cwl:type <file:///github/workspace/string> .\n\n_:N63932637694543e0b517e0d3ca91c504 rdfs:label \"Transects with elevation data\"^^xsd:string ;\n    rdfs:comment \"Transects enriched with elevation information\"^^xsd:string ;\n    cwl:outputSource <file:///github/workspace/compute_elevation/result> ;\n    cwl:type <file:///github/workspace/File> .\n\n_:N874d6143554e4c4bba148faf2a68842a rdfs:label \"Transects with slope data\"^^xsd:string ;\n    rdfs:comment \"Transects enriched with slope information\"^^xsd:string ;\n    cwl:outputSource <file:///github/workspace/compute_slope/result> ;\n    cwl:type <file:///github/workspace/File> .\n\n_:N8c9bbaf1feba4bd18cfee10261aa0c87 rdfs:label \"AOIs STAC item URL\"^^xsd:string ;\n    rdfs:comment \"URL of the STAC item containing the Mediterranean AOIs CSV file\"^^xsd:string ;\n    cwl:default \"\\\"https://eocatalog.p2.csgroup.space/collections/cvi-workflow-resources/items/mediterranean-coastal-aois\\\"\"^^rdf:JSON ;\n    cwl:type <file:///github/workspace/string> .\n\n_:N8df81a94273c4c08b29fc002c3c1b820 cwl:stac_item_url _:N6339cf8bffc24eb89acd51cd95e5a66b .\n\n_:N9b9210dde43c431c8e9dec3fa6c95e1a rdfs:label \"Generated transects\"^^xsd:string ;\n    rdfs:comment \"Perpendicular transects generated along the coastline\"^^xsd:string ;\n    cwl:outputSource <file:///github/workspace/generate_transects/transects_geojson> ;\n    cwl:type <file:///github/workspace/File> .\n\n_:N9cb8e7e8225d46e084b69fb6182b96b1 rdfs:label \"Validated configuration\"^^xsd:string ;\n    rdfs:comment \"Validated configuration JSON file\"^^xsd:string ;\n    cwl:outputSource <file:///github/workspace/setup_env/config_validated> ;\n    cwl:type <file:///github/workspace/File> .\n\n_:N9e60ba27115d4206b86d04cf256556a5 cwl:config_json [ rdfs:comment \"Configuration JSON file\"^^xsd:string ;\n            cwl:inputBinding [ cwl:position \"5\"^^xsd:int ] ;\n            cwl:type <file:///github/workspace/File> ] ;\n    cwl:output_dir [ rdfs:comment \"Output directory path\"^^xsd:string ;\n            cwl:inputBinding [ cwl:position \"6\"^^xsd:int ] ;\n            cwl:type <file:///github/workspace/string> ] ;\n    cwl:transects_elevation _:N35a70288f53d4414a8e3bf9db246f302 ;\n    cwl:transects_erosion [ rdfs:comment \"Transects with erosion data\"^^xsd:string ;\n            cwl:inputBinding _:N4341c7bb1bdf470ba7f796bda159d568 ;\n            cwl:type <file:///github/workspace/File> ] ;\n    cwl:transects_landcover _:N526d1c9a5f65480b89c0c106df6e430c ;\n    cwl:transects_slope [ rdfs:comment \"Transects with slope data\"^^xsd:string ;\n            cwl:inputBinding _:N0338737842a34c659ffa009e20ef517c ;\n            cwl:type <file:///github/workspace/File> ] .\n\n_:N9ea4aa6c569542f8b88da2b5b7a8f66f rdfs:comment \"Configuration JSON file\"^^xsd:string ;\n    cwl:inputBinding [ cwl:position \"1\"^^xsd:int ] ;\n    cwl:type <file:///github/workspace/File> .\n\n_:Na17c31d7daba41698e8d455a132ea16e cwl:coastline_gpkg _:N2a6a4eb71a8c4eca907cebfc5f082f1d ;\n    cwl:cvi_geojson _:N5f87c300842a443d8c627ee11856aaf7 ;\n    cwl:transects_elevation _:N63932637694543e0b517e0d3ca91c504 ;\n    cwl:transects_erosion [ rdfs:label \"Transects with erosion data\"^^xsd:string ;\n            rdfs:comment \"Transects enriched with erosion information\"^^xsd:string ;\n            cwl:outputSource <file:///github/workspace/compute_erosion/result> ;\n            cwl:type <file:///github/workspace/File> ] ;\n    cwl:transects_geojson _:N9b9210dde43c431c8e9dec3fa6c95e1a ;\n    cwl:transects_landcover _:N39ef8c3dbaa84b898b9de29fb4e07db1 ;\n    cwl:transects_slope _:N874d6143554e4c4bba148faf2a68842a ;\n    cwl:validated_config _:N9cb8e7e8225d46e084b69fb6182b96b1 .\n\n_:Nb4fca5300fa849c3aa952665f3a51856 cwl:med_aois_csv _:N016d1596201e4d55813802a27c65ed83 ;\n    cwl:output_dir _:N4c8df3c45d7049668d965f94aba53320 .\n\n_:Nbeedf0e51d624e33976bb321c0d0ede3 rdfs:label \"Tokens STAC item URL\"^^xsd:string ;\n    rdfs:comment \"URL of the STAC item containing the authentication tokens file\"^^xsd:string ;\n    cwl:default \"\\\"https://eocatalog.p2.csgroup.space/collections/cvi-workflow-resources/items/cvi-authentication-template\\\"\"^^rdf:JSON ;\n    cwl:type <file:///github/workspace/string> .\n\n_:Nbf9d4c7c4ca24c1e8071011c193be12a cwl:data_output_dir _:N503912ffe61a447d8f0c4cb5cd70efbc .\n\n_:Ne52d826acea148558600a42e363cd00e rdfs:comment \"Output directory path\"^^xsd:string ;\n    cwl:inputBinding _:N498ca5701bec4320a861461ab0d04744 ;\n    cwl:type <file:///github/workspace/string> .\n\n_:Ne899490fe7f8439a89bfd4adb60c1af5 cwl:config_json _:N9ea4aa6c569542f8b88da2b5b7a8f66f ;\n    cwl:output_dir _:Ne52d826acea148558600a42e363cd00e .\n\n_:Nf931336343854f1f8bd563200a4c2075 cwl:aois_stac_item_url _:N8c9bbaf1feba4bd18cfee10261aa0c87 ;\n    cwl:config_stac_item_url _:N16fde73b089542e69247d85c05c726de ;\n    cwl:tokens_stac_item_url _:Nbeedf0e51d624e33976bb321c0d0ede3 .\n\n_:N1043302db592425f8fa9d55de737c1d7 a ogcproc:InputDescription ;\n    rdf:first _:N35e4bc4bf41b48008493c0242ff24325 ;\n    rdf:rest () .\n\n_:N4d48305395d0469399a5e624b20556bd a ogcproc:InputDescription ;\n    rdf:first _:Nf931336343854f1f8bd563200a4c2075 ;\n    rdf:rest () .\n\n_:N605ab1e98cb141f3ae26fe3870be7eb9 a ogcproc:InputDescription ;\n    rdf:first _:Ne899490fe7f8439a89bfd4adb60c1af5 ;\n    rdf:rest () .\n\n_:N76011466cba84e75b94f87e19ef78d02 a ogcproc:InputDescription ;\n    rdf:first _:Nb4fca5300fa849c3aa952665f3a51856 ;\n    rdf:rest () .\n\n_:N7c4a64c6ff45488a80f5d860f09e10dc a ogcproc:OutputDescription ;\n    rdf:first _:N1d729686a27345d1bee7ab7de82a3ef6 ;\n    rdf:rest () .\n\n_:N97b6d11d25b84b889cab25fde26c9d1b a ogcproc:InputDescription ;\n    rdf:first _:N9e60ba27115d4206b86d04cf256556a5 ;\n    rdf:rest () .\n\n_:Nbaaf535724834816ad35bd40e5abe8b8 a ogcproc:OutputDescription ;\n    rdf:first _:N13f66a7797154fcdb91a06bb5544dbc4 ;\n    rdf:rest () .\n\n_:Nbddc187a178648ae90ee5d6614844ae6 a ogcproc:OutputDescription ;\n    rdf:first _:N53daf27ba9de43e19d0de962c4845390 ;\n    rdf:rest () .\n\n_:Ncc313451f4404e7ebe5dc59299f5edde a ogcproc:InputDescription ;\n    rdf:first _:N2245a9de93e54a5c946878f6f721eca1 ;\n    rdf:rest () .\n\n_:Ncc7c4492702d470f8216f62472804d63 a ogcproc:OutputDescription ;\n    rdf:first _:N0a7d91949faf4c519e5b2bf24c810aff ;\n    rdf:rest () .\n\n_:Ne7636444d64d4a66a19fc94c20524f32 a ogcproc:OutputDescription ;\n    rdf:first _:Nbf9d4c7c4ca24c1e8071011c193be12a ;\n    rdf:rest () .\n\n_:Neb9ebc6cf7524aa58358484c3af2c310 a ogcproc:OutputDescription ;\n    rdf:first _:N20f3bccb4e7642b3bfad0a9a6d22b716 ;\n    rdf:rest () .\n\n_:Nf5ec6ffc40d14d24ae8462516f0564e4 a ogcproc:InputDescription ;\n    rdf:first _:N8df81a94273c4c08b29fc002c3c1b820 ;\n    rdf:rest () .\n\n_:Nf83dc1dd84a5498db7a9f1807cc297ca a ogcproc:OutputDescription ;\n    rdf:first _:Na17c31d7daba41698e8d455a132ea16e ;\n    rdf:rest () .\n\n",
          "url": "https://geolabs.github.io/bblocks-eoap-cct/build/tests/cct/cwl-to-ogcprocess/example_6_2.ttl"
        }
      ]
    }
  ],
  "annotatedSchema": "$ref: https://raw.githubusercontent.com/common-workflow-language/cwl-v1.2/main/json-schema/cwl.yaml\nx-jsonld-extra-terms:\n  '@comment': Metadata and provenance\n  cwlVersion:\n    x-jsonld-id: https://w3id.org/cwl/cwl#cwlVersion\n    x-jsonld-type: '@id'\n  class:\n    x-jsonld-id: rdf:type\n    x-jsonld-type: '@id'\n  $graph:\n    x-jsonld-id: https://w3id.org/cwl/cwl#graph\n    x-jsonld-container: '@graph'\n  id:\n    x-jsonld-id: http://purl.org/dc/terms/identifier\n    x-jsonld-type: '@id'\n  label:\n    x-jsonld-id: http://www.w3.org/2000/01/rdf-schema#label\n    x-jsonld-type: http://www.w3.org/2001/XMLSchema#string\n  doc:\n    x-jsonld-id: http://www.w3.org/2000/01/rdf-schema#comment\n    x-jsonld-type: http://www.w3.org/2001/XMLSchema#string\n  inputs:\n    x-jsonld-id: https://w3id.org/cwl/cwl#input\n    x-jsonld-container: '@list'\n  outputs:\n    x-jsonld-id: https://w3id.org/cwl/cwl#output\n    x-jsonld-container: '@list'\n  steps:\n    x-jsonld-id: https://w3id.org/cwl/cwl#steps\n    x-jsonld-type: '@id'\n  requirements:\n    x-jsonld-id: https://w3id.org/cwl/cwl#requirements\n    x-jsonld-container: '@set'\n  hints:\n    x-jsonld-id: https://w3id.org/cwl/cwl#hints\n    x-jsonld-container: '@set'\n  type:\n    x-jsonld-id: https://w3id.org/cwl/cwl#type\n    x-jsonld-type: '@id'\n  format:\n    x-jsonld-id: https://w3id.org/cwl/cwl#format\n    x-jsonld-type: '@id'\n  default:\n    x-jsonld-id: https://w3id.org/cwl/cwl#default\n    x-jsonld-type: '@json'\n  baseCommand:\n    x-jsonld-id: https://w3id.org/cwl/cwl#baseCommand\n    x-jsonld-type: '@json'\n  arguments:\n    x-jsonld-id: https://w3id.org/cwl/cwl#arguments\n    x-jsonld-container: '@list'\n  stdin:\n    x-jsonld-id: https://w3id.org/cwl/cwl#stdin\n    x-jsonld-type: http://www.w3.org/2001/XMLSchema#string\n  stdout:\n    x-jsonld-id: https://w3id.org/cwl/cwl#stdout\n    x-jsonld-type: http://www.w3.org/2001/XMLSchema#string\n  stderr:\n    x-jsonld-id: https://w3id.org/cwl/cwl#stderr\n    x-jsonld-type: http://www.w3.org/2001/XMLSchema#string\n  run:\n    x-jsonld-id: https://w3id.org/cwl/cwl#run\n    x-jsonld-type: '@id'\n  in:\n    x-jsonld-id: https://w3id.org/cwl/cwl#in\n    x-jsonld-type: '@id'\n  out:\n    x-jsonld-id: https://w3id.org/cwl/cwl#out\n    x-jsonld-container: '@list'\n  outputSource:\n    x-jsonld-id: https://w3id.org/cwl/cwl#outputSource\n    x-jsonld-type: '@id'\n  source:\n    x-jsonld-id: https://w3id.org/cwl/cwl#source\n    x-jsonld-type: '@id'\n  CommandLineTool: https://w3id.org/cwl/cwl#CommandLineTool\n  Workflow: https://w3id.org/cwl/cwl#Workflow\n  ExpressionTool: https://w3id.org/cwl/cwl#ExpressionTool\n  'null': https://w3id.org/cwl/cwl#null\n  boolean: http://www.w3.org/2001/XMLSchema#boolean\n  int: http://www.w3.org/2001/XMLSchema#int\n  long: http://www.w3.org/2001/XMLSchema#long\n  float: http://www.w3.org/2001/XMLSchema#float\n  double: http://www.w3.org/2001/XMLSchema#double\n  string: http://www.w3.org/2001/XMLSchema#string\n  File: https://w3id.org/cwl/cwl#File\n  Directory: https://w3id.org/cwl/cwl#Directory\n  array: https://w3id.org/cwl/cwl#array\n  record: https://w3id.org/cwl/cwl#record\n  enum: https://w3id.org/cwl/cwl#enum\n  items:\n    x-jsonld-id: https://w3id.org/cwl/cwl#items\n    x-jsonld-type: '@id'\n  fields:\n    x-jsonld-id: https://w3id.org/cwl/cwl#fields\n    x-jsonld-container: '@list'\n  symbols:\n    x-jsonld-id: https://w3id.org/cwl/cwl#symbols\n    x-jsonld-container: '@list'\n  path:\n    x-jsonld-id: https://w3id.org/cwl/cwl#path\n    x-jsonld-type: http://www.w3.org/2001/XMLSchema#string\n  location:\n    x-jsonld-id: https://w3id.org/cwl/cwl#location\n    x-jsonld-type: '@id'\n  basename:\n    x-jsonld-id: https://schema.org/name\n    x-jsonld-type: http://www.w3.org/2001/XMLSchema#string\n  dirname:\n    x-jsonld-id: https://w3id.org/cwl/cwl#dirname\n    x-jsonld-type: http://www.w3.org/2001/XMLSchema#string\n  nameroot:\n    x-jsonld-id: https://w3id.org/cwl/cwl#nameroot\n    x-jsonld-type: http://www.w3.org/2001/XMLSchema#string\n  nameext:\n    x-jsonld-id: https://w3id.org/cwl/cwl#nameext\n    x-jsonld-type: http://www.w3.org/2001/XMLSchema#string\n  checksum:\n    x-jsonld-id: https://w3id.org/cwl/cwl#checksum\n    x-jsonld-type: http://www.w3.org/2001/XMLSchema#string\n  size:\n    x-jsonld-id: https://schema.org/contentSize\n    x-jsonld-type: http://www.w3.org/2001/XMLSchema#long\n  secondaryFiles:\n    x-jsonld-id: https://w3id.org/cwl/cwl#secondaryFiles\n    x-jsonld-container: '@list'\n  InlineJavascriptRequirement: https://w3id.org/cwl/cwl#InlineJavascriptRequirement\n  SchemaDefRequirement: https://w3id.org/cwl/cwl#SchemaDefRequirement\n  DockerRequirement: https://w3id.org/cwl/cwl#DockerRequirement\n  SoftwareRequirement: https://w3id.org/cwl/cwl#SoftwareRequirement\n  InitialWorkDirRequirement: https://w3id.org/cwl/cwl#InitialWorkDirRequirement\n  EnvVarRequirement: https://w3id.org/cwl/cwl#EnvVarRequirement\n  ShellCommandRequirement: https://w3id.org/cwl/cwl#ShellCommandRequirement\n  ResourceRequirement: https://w3id.org/cwl/cwl#ResourceRequirement\n  WorkReuse: https://w3id.org/cwl/cwl#WorkReuse\n  NetworkAccess: https://w3id.org/cwl/cwl#NetworkAccess\n  InplaceUpdateRequirement: https://w3id.org/cwl/cwl#InplaceUpdateRequirement\n  ToolTimeLimit: https://w3id.org/cwl/cwl#ToolTimeLimit\n  SubworkflowFeatureRequirement: https://w3id.org/cwl/cwl#SubworkflowFeatureRequirement\n  ScatterFeatureRequirement: https://w3id.org/cwl/cwl#ScatterFeatureRequirement\n  MultipleInputFeatureRequirement: https://w3id.org/cwl/cwl#MultipleInputFeatureRequirement\n  StepInputExpressionRequirement: https://w3id.org/cwl/cwl#StepInputExpressionRequirement\n  dockerPull:\n    x-jsonld-id: https://w3id.org/cwl/cwl#dockerPull\n    x-jsonld-type: http://www.w3.org/2001/XMLSchema#string\n  dockerLoad:\n    x-jsonld-id: https://w3id.org/cwl/cwl#dockerLoad\n    x-jsonld-type: http://www.w3.org/2001/XMLSchema#string\n  dockerFile:\n    x-jsonld-id: https://w3id.org/cwl/cwl#dockerFile\n    x-jsonld-type: http://www.w3.org/2001/XMLSchema#string\n  dockerImport:\n    x-jsonld-id: https://w3id.org/cwl/cwl#dockerImport\n    x-jsonld-type: http://www.w3.org/2001/XMLSchema#string\n  dockerImageId:\n    x-jsonld-id: https://w3id.org/cwl/cwl#dockerImageId\n    x-jsonld-type: http://www.w3.org/2001/XMLSchema#string\n  dockerOutputDirectory:\n    x-jsonld-id: https://w3id.org/cwl/cwl#dockerOutputDirectory\n    x-jsonld-type: http://www.w3.org/2001/XMLSchema#string\n  inputBinding:\n    x-jsonld-id: https://w3id.org/cwl/cwl#inputBinding\n    x-jsonld-type: '@id'\n  position:\n    x-jsonld-id: https://w3id.org/cwl/cwl#position\n    x-jsonld-type: http://www.w3.org/2001/XMLSchema#int\n  prefix:\n    x-jsonld-id: https://w3id.org/cwl/cwl#prefix\n    x-jsonld-type: http://www.w3.org/2001/XMLSchema#string\n  separate:\n    x-jsonld-id: https://w3id.org/cwl/cwl#separate\n    x-jsonld-type: http://www.w3.org/2001/XMLSchema#boolean\n  itemSeparator:\n    x-jsonld-id: https://w3id.org/cwl/cwl#itemSeparator\n    x-jsonld-type: http://www.w3.org/2001/XMLSchema#string\n  valueFrom:\n    x-jsonld-id: https://w3id.org/cwl/cwl#valueFrom\n    x-jsonld-type: http://www.w3.org/2001/XMLSchema#string\n  shellQuote:\n    x-jsonld-id: https://w3id.org/cwl/cwl#shellQuote\n    x-jsonld-type: http://www.w3.org/2001/XMLSchema#boolean\n  loadContents:\n    x-jsonld-id: https://w3id.org/cwl/cwl#loadContents\n    x-jsonld-type: http://www.w3.org/2001/XMLSchema#boolean\n  loadListing:\n    x-jsonld-id: https://w3id.org/cwl/cwl#loadListing\n    x-jsonld-type: '@id'\n  outputBinding:\n    x-jsonld-id: https://w3id.org/cwl/cwl#outputBinding\n    x-jsonld-type: '@id'\n  glob:\n    x-jsonld-id: https://w3id.org/cwl/cwl#glob\n    x-jsonld-type: http://www.w3.org/2001/XMLSchema#string\n  outputEval:\n    x-jsonld-id: https://w3id.org/cwl/cwl#outputEval\n    x-jsonld-type: http://www.w3.org/2001/XMLSchema#string\n  scatter:\n    x-jsonld-id: https://w3id.org/cwl/cwl#scatter\n    x-jsonld-container: '@list'\n  scatterMethod:\n    x-jsonld-id: https://w3id.org/cwl/cwl#scatterMethod\n    x-jsonld-type: '@id'\n  intent:\n    x-jsonld-id: http://www.w3.org/ns/prov#wasInfluencedBy\n    x-jsonld-type: '@id'\n  $namespaces:\n    x-jsonld-id: https://w3id.org/cwl/cwl#namespaces\n    x-jsonld-type: '@json'\n  $schemas:\n    x-jsonld-id: https://w3id.org/cwl/cwl#schemas\n    x-jsonld-container: '@list'\n  $import:\n    x-jsonld-id: https://w3id.org/cwl/cwl#import\n    x-jsonld-type: '@id'\n  $include:\n    x-jsonld-id: https://w3id.org/cwl/cwl#include\n    x-jsonld-type: '@id'\nx-jsonld-vocab: https://w3id.org/cwl/cwl#\nx-jsonld-prefixes:\n  cwl: https://w3id.org/cwl/cwl#\n  dct: http://purl.org/dc/terms/\n  rdfs: http://www.w3.org/2000/01/rdf-schema#\n  xsd: http://www.w3.org/2001/XMLSchema#\n  schema: https://schema.org/\n  prov: http://www.w3.org/ns/prov#\n  ogcproc: http://www.opengis.net/def/ogcapi/processes/\n",
  "semanticUplift": {
    "additionalSteps": [
      {
        "type": "shacl",
        "ref": "https://geolabs.github.io/bblocks-eoap-cct/_sources/cwl-to-ogcprocess/semantic-uplift/cwl-to-ogcprocess.shacl",
        "stage": "post"
      },
      {
        "type": "shacl",
        "ref": "https://geolabs.github.io/bblocks-eoap-cct/_sources/cwl-to-ogcprocess/semantic-uplift/cwl-inputs-to-ogcprocess.shacl",
        "stage": "post"
      },
      {
        "type": "shacl",
        "ref": "https://geolabs.github.io/bblocks-eoap-cct/_sources/cwl-to-ogcprocess/semantic-uplift/cwl-outputs-to-ogcprocess.shacl",
        "stage": "post"
      },
      {
        "type": "shacl",
        "ref": "https://geolabs.github.io/bblocks-eoap-cct/_sources/cwl-to-ogcprocess/semantic-uplift/eoap-types-to-ogcschemas.shacl",
        "stage": "post"
      }
    ]
  },
  "gitRepository": "https://github.com/GeoLabs/bblocks-eoap-cct",
  "gitPath": "_sources/cwl-to-ogcprocess"
}