@prefix cwl: <https://w3id.org/cwl/cwl#> .
@prefix dct: <http://purl.org/dc/terms/> .
@prefix ns1: <rdf:> .
@prefix ogcproc: <http://www.opengis.net/def/ogcapi/processes/> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

[] cwl:cwlVersion <file:///github/workspace/v1.2> ;
    cwl:graph [ rdfs:label "Process STAC Item"^^xsd:string ;
            dct:identifier <file:///github/workspace/clt> ;
            ogcproc:input _:N34aa56a769ba478e9d8c058efca042a1 ;
            ogcproc:output _:Ndc21e7c9d2ad4523805c9b545f7e70d6 ;
            cwl:baseCommand "\"echo\""^^rdf:JSON ;
            cwl:input _:N34aa56a769ba478e9d8c058efca042a1 ;
            cwl:output _:Ndc21e7c9d2ad4523805c9b545f7e70d6 ;
            cwl:requirements [ ns1:type <file:///github/workspace/InlineJavascriptRequirement> ],
                [ cwl:types [ cwl:import <https://raw.githubusercontent.com/eoap/schemas/main/stac.yaml> ] ;
                    ns1:type <file:///github/workspace/SchemaDefRequirement> ] ;
            cwl:stdout "result.txt"^^xsd:string ;
            ns1:type <file:///github/workspace/CommandLineTool> ],
        [ rdfs:label "STAC Item Processing Workflow"^^xsd:string ;
            dct:identifier <file:///github/workspace/item-workflow> ;
            ogcproc:input _:Nd3d43df611ff494493cc15556d3f66a4 ;
            ogcproc:output _:N7c3706de92c042f09c2db2f02e7c364b ;
            rdfs:comment "Workflow that processes STAC Item input and generates output"^^xsd:string ;
            cwl:input _:Nd3d43df611ff494493cc15556d3f66a4 ;
            cwl:output _:N7c3706de92c042f09c2db2f02e7c364b ;
            cwl:requirements [ cwl:types [ cwl:import <https://raw.githubusercontent.com/eoap/schemas/main/stac.yaml> ] ;
                    ns1:type <file:///github/workspace/SchemaDefRequirement> ],
                [ ns1:type <file:///github/workspace/InlineJavascriptRequirement> ] ;
            cwl:steps [ cwl:process_step [ cwl:in [ cwl:stac_item "stac_item" ] ;
                            cwl:out ( "result" ) ;
                            cwl:run <file:///github/workspace/#clt> ] ] ;
            ns1:type <file:///github/workspace/Workflow> ] .

_:N203219d91f9e4caaaea9c8cd30f2dd0d cwl:valueFrom """${
  return "STAC Item ID: " + inputs.stac_item.id;
}
"""^^xsd:string .

_:N40ee3b52b6c74e1db91e417033779493 cwl:stac_item [ rdfs:label "STAC Item"^^xsd:string ;
            dct:format <https://www.iana.org/assignments/media-types/application/json> ;
            ogcproc:schemaType "object"^^xsd:string ;
            rdfs:comment "STAC Item representing a geospatial asset"^^xsd:string ;
            rdfs:seeAlso <https://stacspec.org/#item-spec> ;
            cwl:inputBinding _:N203219d91f9e4caaaea9c8cd30f2dd0d ;
            cwl:type <https://raw.githubusercontent.com/eoap/schemas/main/stac.yaml#Item> ] .

_:N4fecfbf2542944ce884fc8eab2fb6417 rdfs:label "Process result"^^xsd:string ;
    dct:identifier <file:///github/workspace/result> ;
    rdfs:comment "Processed STAC Item information"^^xsd:string ;
    cwl:outputSource <file:///github/workspace/process_step/result> ;
    cwl:type <file:///github/workspace/File> .

_:N852008ea85bb47b3849b2cbd36e6c38b cwl:type <file:///github/workspace/stdout> .

_:N9b185f2baa234cfc9e89df350b12a376 rdfs:label "STAC Item"^^xsd:string ;
    dct:format <https://www.iana.org/assignments/media-types/application/json> ;
    dct:identifier <file:///github/workspace/stac_item> ;
    ogcproc:schemaType "object"^^xsd:string ;
    rdfs:comment "STAC Item representing a geospatial asset"^^xsd:string ;
    rdfs:seeAlso <https://stacspec.org/#item-spec> ;
    cwl:type <https://raw.githubusercontent.com/eoap/schemas/main/stac.yaml#Item> .

_:Ncaf4c7a632ed4a588c3ae6e062a95224 cwl:result _:N852008ea85bb47b3849b2cbd36e6c38b .

_:N34aa56a769ba478e9d8c058efca042a1 a ogcproc:InputDescription ;
    rdf:first _:N40ee3b52b6c74e1db91e417033779493 ;
    rdf:rest () .

_:N7c3706de92c042f09c2db2f02e7c364b a ogcproc:OutputDescription ;
    rdf:first _:N4fecfbf2542944ce884fc8eab2fb6417 ;
    rdf:rest () .

_:Nd3d43df611ff494493cc15556d3f66a4 a ogcproc:InputDescription ;
    rdf:first _:N9b185f2baa234cfc9e89df350b12a376 ;
    rdf:rest () .

_:Ndc21e7c9d2ad4523805c9b545f7e70d6 a ogcproc:OutputDescription ;
    rdf:first _:Ncaf4c7a632ed4a588c3ae6e062a95224 ;
    rdf:rest () .

